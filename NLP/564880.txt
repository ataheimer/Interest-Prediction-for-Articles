t distribut stream algorithm slide window a paper present algorithm estim aggreg function slide window n recent data item one stream result includeolfor singl stream present first egrapproxim scheme number s slide window optim worst case time space also present first egr sum integ r slide window optim worst case time space assum r polynomi n algorithm determinist use logarithm memori wordsin contrast show determinist algorithm estim within small constant rel error number s or sum integ slide window union distribut stream requir ohgrn space present first random egrsgrapproxim scheme number s slide window union distribut stream use logarithm memori word also present first egrsgrapproxim scheme number distinct valu slide window distribut stream use logarithm memori wordsolour result obtain use novel famili synopsi data structur b introduct urri recent work design effect algorithm estim aggreg statist data stream due import applic network monitor data wareh telecommunica tion sensor network work focus almost entir sequenti context data stream observ singl parti figur depict exampl data stream data item either hand mani applic multipl data sourc gener stream network monitor telecommun exampl nodeperson network potenti sourc new stream data larg retail data warehous retail store produc stream item sold model scenario previous propos distribut stream model number data stream stream observ singl parti aggreg comput union stream moreov mani real world scenario eg market trac engin recent data import exampl telecommun call record gener continu custom process done recent call record model scenario datar et al recent introduc slide window set data stream aggreg statist comput slide window n recent item data stream paper studi slide window set singl stream distribut stream model improv upon previou result set order describ result rst describ model previou work detail sequenti distribut stream goal sequenti distribut algorithm data stream approxim function f minim total workspac memori use parti time taken parti process data item time produc estim ie queri time mani function sequenti distribut data stream requir linear space comput exactli attent focus nding either approxim scheme approxim scheme dene follow definit approxim scheme quantiti x random procedur that given posit comput estim x posit posit rank figur exampl data stream bit posit stream posit rank among bit rank comput stream process within rel error probabl least ie pr determinist procedur that given posit comput estim whose worst case rel error algorithm slide window singl stream datar et al present number interest result estim function slide window singl stream fundament problem consid determin number s slide window call basic count problem stream figur exampl number s current window recent item present approxim scheme basic count use o log n memori bit workspac process data item o amort olog n worst case time produc estim current window time also prove match lower bound space demonstr import problem use algorithm build block number function sum bound integ lp norm in restrict model improv upon result present approx imat scheme basic count match space queri time bound improv peritem process time o worst case time also present approxim scheme sum bound integ slide window improv worst case peritem process time olog n o improv algorithm use famili small space data structur call wave exampl wave basic count given figur data stream figur the basic shape suggest ocean wave break xaxi rank extend right new bit arriv shall see addit stream bit arriv wave retain basic shape move right crest wave alway largest rank thu far algorithm distribut stream distribut stream model parti observ stream limit workspac commun parti estim request specif ical produc estim parti send messag refere comput estim model reect setup use commerci network monitor product data analysi frontend serv role refere among result i approxim scheme number s union distribut stream ie bitwis stream use o log log n memori bit per parti n length stream ii approxim scheme number distinct valu collect distribut stream use o log log r memori bit valu r algorithm use coordin sampl stream sampl random posit given sampl rate parti store posit onli bit sampl store bit exceed target space bound sampl probabl reduc sampl ts smaller space slide window consid paper combin idea wave coordin sampl store wave consist mani random sampl stream sampl contain recent item sampl high probabl contain older item sampl lower probabl obtain approxim scheme number s positionwis union distribut stream slide window also obtain approxim scheme number distinct valu slide window singl distribut stream scheme use logarithm memori word per parti algorithm propos distribut stream model store coin set parti share string unbias fulli independ random bit bit must store prior observ stream space store bit must account workspac bound previou work stream model eg studi set store coin store coin dier privat coin eg studi commun complex random string store parti summari contribut contribut paper follow introduc famili synopsi data structur call wave demonstr util data stream process slide window set present rst approxim scheme basic count singl stream optim worst case space process time queri time specif ical given accuraci match space bound o queri time datar et al improv peritem process time o amort olog n worst case o worst case present rst approxim scheme sum integ r slide window singl stream optim worst case space assum ing r polynomi n process time window figur determinist wave exampl window queri xaxi show rank yaxi level label by queri time specic improv peritem process time o amort olog n worst case o worst case show contrast singl stream case determinist algorithm estim number s slide window union distribut stream within small constant rel error unless use space present rst random approxim scheme number s slide window union distribut stream use logarithm memori word use build block rst approxim scheme number distinct valu slide window distribut stream use logarithm memori word remaind paper organ follow section present comparison previou relat work section section present result use determinist random resp wave synopsi final section show techniqu use variou function slide window distinct valu count nth recent relat work paper introduc slide window set author gave algorithm basic count problem use exponenti histogram exponenti histogram maintain inform recent seen item less old item none item outsid window last n item specic k recent s assign individu bucket k next recent s assign bucket size k next recent s assign bucket size on s within last n item assign bucket bucket eh store size a power posit recent bucket k up last bucket either upon receiv new item last bucket discard posit longer fall within window then new item assign new bucket size make two least recent bucket size merg form bucket size k larg two least recent bucket size merg on result cascad log n bucket merg worst case shall see approach use wave avoid cascad previou paper formal distribut stream model present sever approxim scheme aggreg distribut stream also compar power distribut stream model previous studi merg stream model eg data stream arriv parti interleav arbitrari order algorithm flajolet martin variant due alon matia szegedi estim number distinct valu stream and also number s bit stream constant rel error algorithm work distribut stream model too adapt slide window two result know extend algorithm work arbitrari rel error trevisan baryossef et al trevisan algorithm extend distribut stream quit easili cost extend slide window clear olog instanc algorithm use dierent hash function must maintain o smallest distinct hash valu slide window n valu assum hash valu random maintain minimum valu slide window take olog n expect time know extend algorithm slide window addit space time bound singl stream wors howev algorithm made list ecient quickli survey recent relat work framework studi data synops present along survey result algorithm comput mani dierent function data stream observ singl parti maintain histogram maintain signic transform data use answer aggreg queri comput correl aggreg babcock et al consid problem datar et al also report extens arbitrari rel error slide window singl stream use trevisan approach maintain uniform random sampl speci size slide window recent element commun complex model parti unlimit time space process respect in put simultan round commun complex result often relat distribut stream model lower bound round commun complex certainli carri directli none previou paper use wavelik synops determinist wave section rst present new approxima tion scheme number s slide window singl stream present new approx imat scheme sum bound integ slide window singl stream final consid distribut stream three natur denit slide window stream show small space determinist scheme improv perform two scenario third determinist approxim scheme obtain sublinear space basic wave begin describ basic wave show yield approxim scheme basic count problem slide window prespeci maximum window size n basic wave somewhat wast term space bound process time queri time consid data stream bit desir posit simplifi notat assum throughout integ maintain two counter po current length stream rank current number s stream equival rank recent wave contain posit recent s stream arrang dierent level wave dlogn level contain posit recent bit whose rank multipl figur depict basic wave data stream figur gure level level label by contain posit recent bit whose rank modulo rank given xaxi given wave estim number s window size n n follow let estim number s stream posit s po step are let p maximum posit store wave less s p minimum posit store wave greater equal s if exact answer let r r rank p p respect return otherwis r r r exampl given window queri depict figur simplifi descript describ throughout steadi state wave initi fewer bit wave store them note earlier actual number s window inde lemma estim procedur return estim x within rel error actual number s window proof level contain store posit stream whose rank apart thu regardless current rank earliest rank level rank thu dierenc rank earliest rank level least dierenc rank least larg dierenc posit follow p exist let j smallest number level contain posit p know number s window rank r rank r exampl figur thu r return exact answer assum return midpoint rang guarante absolut error r r construct j gap r next larger posit r thu absolut error estim j bound rel error show posit level j contain window includ least j s let r earliest rank level j posit p level j r r sinc r smallest rank wave larger r r r moreov argu abov r rank therefor actual number s window least rank r rank r thu rel error less note proof readili extend beyond steadi state case level fewer posit contain posit less s henc serv role level j abov improv show improv basic wave order obtain optim determinist wave slide window size n let n smallest power greater equal n first use modulo n counter po rank store posit wave modulo n number take log n bit regardless length stream next discard expir posit n po never use would creat ambigu modulo n arith metic keep track largest rank discard r smallest rank still wave r number s slide window size n answer o time process bit take constant time process bit take ologn worst case time o amort time new bit store level rank multipl improv use eh synopsi introduc datar et al obtain bound howev determinist wave synopsi quit dierent eh synopsi step use dierent too signicantli decreas peritem process time o worst case follow instead store singl posit multipl level store posit maximum level shown figur level gure explicitli discard posit figur optim determinist wave xaxi show rank yaxi level label by posit level store e posit at level may store fewer posit discard expir posit wave posit level store xed length queue call level queue time new posit ad level posit tail queue remov assum queue full exampl use circular buer queue new head posit simpli overwrit next buer slot maintain doubli link list posit of bit wave increas order posit evict tail level queue splice list new stream item arriv check head sort list see head need expir final observ set posit sort sequenc number n store dierenc modulo n consecut posit instead absolut posit reduc space o logn log n bit o log n bit figur summar step determinist wave algorithm put altogeth have theorem algorithm figur approx imat scheme number s slide window size n data stream use o log n bit stream item process o worst case time time instant provid estim o time proof sketch proof rel error follow along line proof lemma set posit improv wave superset set posit basic wave wave level step a posit leastsignic bit rank number assum constant time op erat time bound follow discuss space level queue updat place block memori use throughout henc link list pointer oset block fullsiz pointer space bound follow space bound optim match lower outsid size order show full level posit less po largest expir rank below show determin wave level constant time even weaker machin model explicitli support oper constant time upon receiv stream bit b increment po note addit comparison done modulo n smallest power greater equal n head p r link list l expir ie discard l the tail of queue store r largest rank discard a increment rank determin correspond wave level j ie largest j rank multipl j b level j queue full discard tail queue splice l c add po rank head level j queue tail l answer queri slide window size n let r largest rank discard if r x rank exact answer let r rank head link list l if l empti exact answer return otherwis r r r figur determinist wave algorithm basic count singl stream bound datar et al random determinist algorithm comput wave level weaker machin model step a figur requir comput least signic bit given number machin model explicitli support oper constant time naiv approach would examin bit rank one time desir posit found take log n worst case time rank n bit instead store log n wave level associ sequenc array eg f take olog n log log n bit also store counter log n log log n bit initi bit receiv desir wave level next element array rst bit reach end array properti last log log n bit rank desir wave level log log n plu posit least signic bit number increment return cycl array correctli comput wave level step moreov note cycl array log n step need know least signic bit d thu interleav i cycl ii search bit d determin wave level o worst case time basic count window size n n algorithm figur achiev constant worst case queri time slide window size n slide window size n n singl wave use give estim basic count problem within rel error follow two step outlin basic wave section howev queri time window size less n o logn worst case must search link list l order determin p p match queri time bound eh algorithm sum bound integ determinist wave scheme extend handl problem maintain sum last n item data stream item integ r datar et al show extend eh approach obtain approxim scheme problem use o log n log r bucket log n log r bit each o queri time o log r log n amort olog n log r worst case peritem process time they also present match asymptot lower bound number bit certain weak assumpt rel size n r show achiev constant worst case peritem process time use number memori word queri time the number bit o log nlog r slightli wors eh bound r superpolynomi n algorithm depict figur sum slide window rang n r let n smallest power greater equal nr maintain two modulo n counter po current length total run sum level algorithm follow gener step algorithm figur instead store pair p r store tripl p v z v valu data item not need valu store item alway z partial sum item the equival rank sum answer queri know window sum total z v total z return midpoint interv key insight algorithm suce store item onli level j j largest power divid number total total naiv one would mimic basic count wave view valu v v item valu would take or worst case time process item datar et al reduc log r time directli comput eh result insert v item valu howev singl item store olog n log r eh bucket contrast upon receiv stream valu v r increment po note addit comparison done modulo n head p v z link list l expir ie p po n discard l the tail of queue store z largest partial sum discard v do a determin largest j number total total v multipl j add v total b level j queue full discard tail queue splice l c add po v total head level j queue tail l answer queri slide window size n let z largest partial sum discard l if z return total exact answer let p v z head link list l if l empti return exact answer return x total figur determinist wave algorithm sum slide window store item onc enabl o time bound challeng quickli comput wave level step a show o time first observ desir wave level largest posit j number number interv s posit less j and henc multipl j second observ dier bit posit j bit chang point total total largest thu j posit mostsignic bit total total v accordingli let f bitwis complement total let bitwis f g desir wave level posit mostsignic bit h ie blog hc put altogeth have theorem algorithm figur approx imat scheme sum last n item data stream item integ r use o log n log r memori word memori word olog n log r bit ie sucient larg hold item window size item process o worst case time time instant provid weaker machin model support oper h constant time use binari search nd desir posit ologlog n log r time follow let w word size b bit mask compris w s follow w s begin check zero so left shift b wposit recurs otherwis right shift b wposit recurs estim o time proof sketch purpos analyz approxim error reduc wave equival basic wave basic count problem follow tripl p v z sum wave pair p z basic wave z store level l z multipl l also add pair p z z largest partial sum discard sum wave algorithm level l z multipl next level discard recent level let minimum level contain p adapt argument proof lemma shown regardless current rank earliest rank level j gap r next larger posit r posit level contain window know window sum total z v total z sinc take midpoint absolut error x z v z gap z v z gap r r basic wave thu abov absolut error j moreov abov actual window sum least thu rel error less space time bound immedi given discuss perform step a constant time distribut stream consid three natur denit slide window collect distribut stream illustr basic count problem seek total number s last n item stream t n item total singl logic stream split arbitrarili among parti parti receiv item includ sequenc number logic stream seek total number s last n item logic stream seek total number s last n item positionwis union logic or stream determinist wave use answer slide window queri collect distribut stream rst two scenario rst scenario appli singl stream algorithm stream answer queri parti send count refere simpli sum answer individu count within rel error total second scenario similarli reduc singl stream problem issu parti know latest sequenc number stream overal latest wave may contain expir posit thu answer queri parti send wave refere comput maximum sequenc number parti use wave obtain estim result window sum result individu estim within rel error recal discuss end section total improv singl stream perform previou work improv distribut stream perform two scenario howev third scenario problemat denot union count problem problem count number s positionwis union distribut data stream if stream repres characterist vector set size union set present next linear space lower bound determinist algorithm problem consid random algorithm section lower bound determinist algorithm show follow lower bound determinist algorithm union count problem guarante small constant rel error theorem determinist algorithm guarante constant rel error union count problem requir n space nbit stream even parti and slide window proof proof contradict suppos algorithm exist approxim union count within rel error use space less n we attempt maxim constant let b two parti see data stream x b see data stream x length n n even queri request occur stream observ suppos x exactli n one zero note restrict scenario exact answer union count problem n hxi ham distanc x possibl messag refere c let sm denot set input send c sinc as workspac n bit number distinct messag could send c n number possibl input n use pigeonhol principl conclud exist messag send c rel error exact answer n absolut error estim produc algorithm n claim two input sm ham distanc greater n proof contradict suppos two input x x sm hx x n consid two run algorithm rst second run refere c get pair messag output estim z absolut error case n equat z n z n given nbit input exactli n s number nbit input exactli ns ham distanc k k even number n combin kout ns ip s kout ns ip s there input odd distanc thu number input ham distanc k claim messag send c have choos equat choos suitabl larg follow equat n obtain contradict complet proof sum bound integ sum bound integ problem scenario straightforward applic singl stream algorithm scenario union mean take positionwis sum problem reduc rst scenario union mean take positionwis maximum lower bound appli number s union special case sum positionwis maximum linear space lower bound determinist algorithm theorem motiv consid random wave introduc next section random wave similar determinist wave random wave contain posit recent s data stream store dierent level level contain recent select posit bit posit select level probabl thu main dierenc determinist random wave level i determinist wave select everi bit regular interv wherea random wave select expect everi bit random interv also random wave retain posit per level basic random wave begin describ basic random wave show yield approxim scheme union count slide window prespeci maximum window size n sketch proof approxim guarante use main error analysi lemma final show time space bound let n minimum power least n let desir error probabl maintain basic random wave stream consist one level use pseudorandom hash function h map posit level accord exponenti distribut h comput follow consid number member eld preprocess step choos q r uniformli independ random g store parti order comput hp parti comput parti receiv stream bit b increment po note addit comparison done modulo n discard posit p tail queue expir ie p po n parti use function h a level l queue q j l full discard tail q j l b add po head q j l answer queri slide window size n n parti observ po bit parti j send wave fq refere let max po po desir window j minimum level tail q j l j posit p s let l max j t l j let u union posit q l return ju w j figur random wave algorithm union count slide window t stream oper perform g repres x dbit vector hp largest signic bit x zero ie d two properti h use are x distribut uniformli g henc probabl hi equal l where l d exactli l map pairwis independ ie distinct p p pr kg hash function use except domain rang size depend maximum window size n entir stream length step maintain random wave summar top half figur bit arriv posit p select level hp sampl level store queue contain c recent posit select level constant determin analysi attempt minim c consid queue q j l whose tail earliest element posit i q contain bit interv i po whose posit hash valu greater equal l call rang q j l move level l l rang may increas never decreas window size n queue lower number level may rang fail contain window move higher level with high probabl nd level whose rang contain window bottom half figur summar step answer queri receiv queri number s interv initi select lowest number level l j rang q contain w step let l maximum level parti thu rang q j l contain w impli queue contain posit bit w stream hash valu least l take union posit queue form queue level l positionwis stream step algorithm return number posit queue fall within window w scale factor l step lemma algorithm figur return estim union count problem slide window size n n within rel error probabl greater proof level l dene b maintain posit recent s j l consid size overlap j l w larg small l becaus probabl select bit w j l l decreas l increas overlap level l greater c w contain posit among c recent posit j l hand overlap less equal c rang q contain w thu l j the level select p j minimum level js j l w j c word progress halv sampl probabl level number point overlap less equal c random process analyz previou paper though dierent scenario thu lemma follow lemma take median olog independ instanc algorithm get desir approxim scheme theorem estim procedur approxim scheme union count problem slide window size n use o log log n bit per parti time process item domin time expect olog nite eld oper proof olog instanc olog n queue o posit posit olog n bit also instanc hash function paramet q r olog n bit each note approxim guarante hold regardless number parti peritem process o expect time per instanc expect number level new posit ad step bound likewis expect number level posit ever bound thu scan tail queue level look p step take constant expect time improv queri time queri time estim procedur time refere receiv process ot log log n memori word queri window size n could easili keep track minimum level l j rang q contain window constant process time overhead queri request determin l refere retain posit p queue fall within window hp l to avoid recomput hp hp could store queue contain p way refere comput q j l w explicitli receiv q j l parti p j take union retain posit return estim x befor reduc queri time ot time per instanc preserv bound extens number distinct valu minor modica tion random wave algorithm use estim number distinct valu slide window distribut stream item select level sampl store order pair p v v valu seen stream p posit recent occurr valu updat everi time valu appear stream sampl level l store c pair recent posit sampl level note that contrast union count scheme hash function hash valu item rather posit parti maintain po length observ stream also maintain doubli link list pair wave order posit list let parti discard expir pair item v arriv insert po v level hv v alreadi present wave updat posit determin presenc valu wave use addit hash tabl hash item valu contain pointer occurr valu doubli link list updat valu posit requir move correspond pair current posit tail list done constant time valu posit updat level belong straightforward argument show peritem process done constant expect time valu belong expect constant number level produc estim parti pass wave refere refere construct wave union comput levelwis union wave re ceiv result wave use estim befor perform olog independ instanc algorithm take median space bound approxim guarante follow directli argument previou section put altogeth have theorem estim procedur approxim scheme number distinct valu slide window size n distribut stream use o log log n log r bit per parti valu r peritem process time domin time expect olog nite eld oper handl predic note algorithm distinct valu count store random sampl distinct valu sampl use answer complex queri set distinct valu eg mani even distinct valu there predic even known queri time order provid approxim scheme ad hoc predic select least ie least fraction distinct valu satisfi predic store sampl size o level increas space bound factor problem without slide window studi nth recent use wave synopsi obtain approxim scheme posit nth recent stream follow instead store bit wave store s s thu item level l l posit apart l s apart addit keep track rank bit closest item wave rest algorithm similar basic count scheme note need o log m bit upper bound window size need order contain n recent s problem improv time bound basic count sum singl stream lead improv time bound problem reduc problem describ exampl approx imat scheme slide averag readili obtain run sum count algorithm each target rel error r space complex approxim frequenc moment sampl move window stream data reduct stream algorithm maintain stream statist slide window approxim l test spotcheck data stream probabilist count algorithm data base applic approxim l p comput correl aggreg continu data stream distinct sampl highlyaccur answer distinct valu queri event report new samplingbas summari statist improv approxim queri answer synopsi data structur massiv data set estim simpl function union data stream cluster data stream comput data stream stabl distribut person commun random oneround commun complex commun complex privat vs common random bit commun complex public vs privat coin ip one round commun game note count distinct element stream model tr probabilist count algorithm data base applic privat vs common random bit commun complex public vs privat coin flip one round commun game extend abstract commun complex new samplingbas summari statist improv approxim queri answer space complex approxim frequenc moment random oneround commun complex synopsi data structur massiv data set test spotcheck data stream extend abstract comput correl aggreg continu data stream spaceeffici onlin comput quantil summari estim simpl function union data stream datastream histogram reduct stream algorithm applic count triangl graph sampl move window stream data maintain stream statist slide window surf wavelet stream distinct sampl highlyaccur answer distinct valu queri event report approxim lpdiffer algorithm massiv data stream approxim ldiffer algorithm massiv data stream cluster data stream stabl distribut pseudorandom gener embed data stream comput ctr linfeng zhang yong guan varianc estim slide window proceed twentysixth acm sigmodsigactsigart symposium principl databas system june beij china edith cohen martin strauss maintain timedecay stream aggreg proceed twentysecond acm sigmodsigactsigart symposium principl databas system p june san diego california michael h albert alexand golynski angl m hamel alejandro lpezortiz s srinivasa rao mohammad ali safari longest increas subsequ slide window theoret comput scienc v n p august abhinandan da sumit ganguli mino garofalaki rajeev rastogi distribut setexpress cardin estim proceed thirtieth intern confer larg data base p august septemb toronto canada edith cohen haim kaplan effici estim algorithm neighborhood varianc moment proceed fifteenth annual acmsiam symposium discret algorithm januari new orlean louisiana brain babcock mayur datar rajeev motwani liadan ocallaghan maintain varianc kmedian data stream window proceed twentysecond acm sigmodsigactsigart symposium principl databas system p june san diego california edith cohen martin j strauss maintain timedecay stream aggreg journal algorithm v n p april suman nath phillip b gibbon srinivasan seshan zachari r anderson synopsi diffus robust aggreg sensor network proceed nd intern confer embed network sensor system novemb baltimor md usa sumit ganguli count distinct item updat stream theoret comput scienc v n p june l k lee h f ting maintain signific stream statist slide window proceed seventeenth annual acmsiam symposium discret algorithm p januari miami florida arvind arasu gurmeet singh manku approxim count quantil slide window proceed twentythird acm sigmodsigactsigart symposium principl databas system june pari franc izchak sharfman assaf schuster daniel keren geometr approach monitor threshold function distribut data stream proceed acm sigmod intern confer manag data june chicago il usa edith cohen haim kaplan spatiallydecay aggreg network model algorithm proceed acm sigmod intern confer manag data june pari franc arvind arasu jennif widom resourc share continu slidingwindow aggreg proceed thirtieth intern confer larg data base p august septemb toronto canada brian babcock chri olston distribut topk monitor proceed acm sigmod intern confer manag data june san diego california edith cohen haim kaplan spatiallydecay aggreg network journal comput system scienc v n p may yishan jiao maintain stream statist multiscal slide window acm transact databas system tod v n p decemb lukasz golab m tamer zsu issu data stream manag acm sigmod record v n p june