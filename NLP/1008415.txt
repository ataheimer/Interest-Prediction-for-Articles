t tight bound competit ratio accommod sequenc seat reserv problem a unit price seat reserv problem investig seat reserv problem problem assign seat number onlin request reserv train travel k station consid version ticket price request treat fairli is request fulfil must grantedfor fair determinist algorithm provid asymptot match upper bound exist lower bound state fair algorithm problem competit accommod sequenc least three seatsaddit give asymptot upper bound fair random algorithm oblivi adversariesw also examin concret onlin algorithm firstfit random special case two seat tight analys perform given b introduct mani train transport system passeng requir buy seat reserv train ticket ticket system must assign passeng singl seat passeng purchas ticket without know futur request seat therefor seat reserv problem onlin problem competit analysi appropri assum train n seat travel start station end station stop k station includ rst last seat number n start station station end station station k reserv made trip station station long k passeng given singl seat number ticket purchas time departur algorithm ticket agent may refus passeng possibl accommod attempt make reserv is seat empti entir durat passeng trip passeng must assign seat algorithm kind fair algorithm attempt maxim incom ie sum price ticket sold natur perform onlin algorithm depend price polici train ticket two price polici consid one ticket price unit price problem one price ticket proport distanc travel proport price problem paper focus fair algorithm unit price problem seat reserv problem close relat problem optic rout number wavelength call control interv graph color interv schedul olin version seat reserv problem use solv follow problem minim spill local regist alloc job schedul start end time rout two point net vlsi design anoth applic onlin version problem could assign vacat bungalow mention perform onlin algorithm usual analyz use competit ratio dene follow way denit let ai denot much onlin algorithm earn request sequenc i let opti denot much earn optim olin algorithm given sequenc i onlin algorithm ccompetit if sequenc request ai c constant depend input sequenc i competit ratio supremum c note gener constant b allow depend k k paramet problem quantifi rst k notic fair criterion dene part problem specic thu even though optim olin algorithm know whole sequenc request advanc must process request order onlin algorithm fairli paper investig competit ratio special case enough seat accommod request ie optim olin algorithm reject request restrict input sequenc use ect assumpt decis mani car train base expect ticket demand denit sequenc request fulli accommod optim olin algorithm call accommod sequenc earlier paper competit ratio accommod sequenc call accommod ratio chang made consist common practic eld color interv graph sinc consid unit price problem seat reserv problem similar problem color interv graph onlin easi see rout train travel station station k section real line consid part rout passeng travel open interv seat passeng assign color interv given note case enough seat accommod re quest restrict optim olin algorithm fair fact restrict thu optim fair olin algorithm polynomi time sinc simpli matter color interv graph minimum number color recal interv graph perfect size largest cliqu exactli number color need thu pair station s number peopl want train station greater n optim fair olin algorithm abl accommod request contraposit clearli also true pair station number peopl want train station greater n optim fair olin algorithm unabl accommod re quest refer number peopl want train two station densiti station previou result follow known result theorem accommod sequenc fair determinist random onlin algorithm unit price problem least competit theorem even accommod sequenc fair determinist random onlin algorithm unit price problem k k kmod competit thu even accommod sequenc fair random onlin algorithm competit ratio much better contribut next section lower asymptot upper bound competit ratio accommod sequenc fair determinist algorithm k larg compar n n fair random algorithm oblivi adversari show upper bound larg k concret onlin algorithm firstfit examin regard unit price problem special case here show firstfit competit accommod sequenc show asymptot optim final examin concret random onlin algorithm random prove asymptot upper bound n special case asymptot match upper lower bound result paper present algorithm section investig competit ratio determinist fair algorithm unit price seat reserv problem consid case separ trivial fair onlin algorithm competit accommod sequenc gener upper bound n upper bound competit ratio accommod sequenc lower match lower bound k larg compar n theorem competit ratio accommod sequenc fair unit price seat reserv problem seat proof first give interv length four space two except rst interv length three last length one interv are interv refer origin interv unnam fig give addit request process alreadi given request left right base onlin algorithm place origin interv give addit request name e illustr determin process left right maintain invari depict fig a everi interv start station left vertic dot line process thi includ extra interv given everi process interv except rst two way left associ reject interv e a invari base case e b next interv e e e ext c next interv previou ext d next interv free figur case proof interv start station strictli right vertic dot line origin interv horizont dot line show reject interv note optim olin algorithm accommod request sinc densiti three two station impli cliqu number correspond interv graph three establish base case done give interv illustr fig a interv origin interv one without associ reject interv note e interv well e interv given later may extend process next origin interv gure mark asterisk induct step assum process certain station abl maintain invari process next origin interv three case interv could seat e fig b seat previou origin interv fig c third seat fig d case must reestablish invari six station right the next vertic dot line fig b give new interv e serv e interv next round origin interv process well e get associ reject interv fig c extend alreadi given e interv in realiti process interv determin given actual give request know exactli long interv actual give it so need provid two reject interv again new e interv next round fig d also extend e interv interv also serv e interv next around thu one reject interv process origin interv must provid summari give korigin interv except rst these one reject interv each addit give number x e interv x reject interv these total get ratio term domin correspond term result easili extend k give sequenc ignor last station let c k mod upper bound k c corollari competit ratio accommod sequenc fair unit price seat reserv problem n seat proof first give n interv type k fair onlin well optim olin algorithm must accept use theorem remain three seat ratio becom domin the techniqu corollari convert upper bound seat upper bound n seat n m ad larg request begin sequenc appli sequenc done neg result determinist algorithm neg result random algorithm thu asymptot competit ratio monoton nonincreas function n limit number station case section case howev note train system unlik train small number seat bound obtain probabl irrelev applic could relev other assign vacat bungalow follow theorem give upper bound competit ratio accommod sequenc fair algorithm bound approach approach inniti theorem let k k mod k k mod algorithm unit price problem fkcompetit even accommod sequenc proof adversari begin one request interv s s c request satis onlin algorithm consid c three request satis suppos interv i place seat adversari proce request interv request interv i onlin algorithm accommod rst request fail accommod last two second case suppos two adjac interv among i place seat say i adversari proce three request interv i onlin algorithm accommod rst request fail accommod last two last case interv i place seat adversari proce two request interv i i onlin algorithm fail accommod them follow easili that even accommod sequenc competit ratio onlin algorithm appli sequenc request specic onlin algorithm call firstfit alway process new request place rst seat unoccupi length journey follow theorem show firstfit asymptot optim onlin algorithm theorem firstfit unit price problem least competit accommod sequenc proof consid set request optim olin algorithm could accommod two seat let subset request accommod firstfit let u denot subset unsatis request nonempti interv two consecut request satis seat ie durat seat empti call gap seat easili shown imposs two request u whose start station gap request u start station gap seat partit u u denot subset request u start station gap seat i sort request u start station increas order consid onebyon order request denot request s rst interv prevent accommod r seat seat must empti station station minft g firstfit rule sinc otherwis request r would accommod seat reason request r accommod seat claim request r whose start station gap right s otherwis would ensur request r could satis seat conceptu assign request r r request r notic dierent r u request r r dierent nish request u consid request u request denot request s rst interv prevent accommod r seat seat must empti station station minft g let r denot last request satis seat is seat empti station station minft g obvious furthermor request r request q u start station gap on seat gap all assign request r r r case gap request start station u gap let q q denot two request assign q reassign request r q q request r q notic dierent r correspond q must dierent request cannot assign dierent request u thu depend case deal with either two request assign one u group three request assign pair request u size u size s mean firstfit accommod least threefth request random algorithm section examin competit ratio accommod sequenc random fair onlin algorithm unit price problem compar oblivi adversari result concern random fair onlin algorithm proport price problem found though follow theorem determinist algorithm result wors theorem includ section structur proof allow easi transform proof equival random problem believ easier rst understand determinist proof verifi transform subsequ corollari theorem let k k mod k k mod k k mod algorithm unit price problem k fkcompetit even accommod sequenc proof proof theorem adversari argument dextrou design base idea proof theorem assum n divis adversari begin nrequest interv c fair onlin algorithm abl satisfi set b kc nrequest suppos request satis q seat contain interv i c exactli q seat empti station station follow rather consid q time as consid q distinguish two case case nin rst case p n adversari proce nrequest nrequest interv i n addit request onlin algorithm accommod exactli fig show congur interv mark interv given rst ie decid case interv mark one given afterward thu n request whose start station onlin algorithm accommod second case p n adversari proce nrequest nrequest interv i nrequest interv i naddit request onlin algorithm accommod exactli np them fig b show congur thu nrequest whose start station onlin algorithm accommod np them a figur exampl congur two case way request partit b k c group rst group consist either n nrequest last group consist either n if k mod rst b k c group onlin algorithm accommod fraction request therein lead theorem precis let denot set indic rst case happen let denot set indic second case happen ratio number request accept onlin algorithm number request accept optim olin algorithm n k k mod last inequ hold gener c impli eaxci ebxdi eaxi k mod g ratio n complet proof corollari let k k mod k k mod k k mod random fair onlin algorithm unit price problem k fkcompetit even accommod sequenc proof oblivi adversari behav similarli adversari proof theorem sequenc request employ oblivi adversari depend expect valu p dene proof theorem oblivi adversari start sequenc adversari proof theorem then c decid case case depend expect valu ep compar n gener correspond request linear expect impli expect number request accommod random algorithm fraction fk total number request although straight forward show theorem hold random algorithm too shown abov one cannot use argument show theorem obviou random algorithm consid problem one call random random receiv new request exist least one seat interv could place on random choos randomli among seat possibl give possibl seat equal probabl theorem unit price problem least competit accommod sequenc proof given request sequenc could accommod two seat consid optim placement request two seat base appear placement refer request seat seat request interv base seat request partit request consecut group show group that amort sens expect number request accept group least name two seat clearli arbitrari use follow num bere seat seat contain interv smallest start station number two interv start station seat seat contain longer two interv if two interv ident accept ignor next interv use instead seat seat gener group dene depict fig start seat request i seat request k overlap extend beyond right group includ number x seat interv contain interv i next group dene consid request start earlier end station begin rst group possibl renam seat case give problem assum request k exist request subinterv either k includ group k follow assum x subinterv subinterv k request sequenc thu entir group consist xy request accept optim olin algorithm may case seat request previou group overlap i call request l similarli interv k may overlap seat request next group the interv next group call j here proof lengthi case analysi base relev interv occur request sequenc sinc xy interv contain within k alway accept ratio becom wors assum ys j figur group pictur come k make assumpt similarli assum l come i l accept j come k j accept l j exist group handl came k case analysi done tabl below notat i indic occur request sequenc notat xs indic x ys indic mark tabl indic given predic true otherwis fals thirtytwo case one probabl accept probi probabl k accept calcul result result given rst two interv k given probabl accept probabl two interv come overlap place dierent seat sinc interv equal like seat seat probabl u u number interf interv probabl accept second k calcul similarli weight two possibl case whether rst interv accept probabl accept result calcul probiprobkxi xy expect fraction interv group accept result calcul use valu x give minimum result see minimum dene case set equal give minimum except case amort use handl problem worst case occur l j occur k cannot happen two consecut group if exampl group type occur immedi group type extra expect case use more than cover decit case overal expect high enough call group fall rst eight case in figur late group sinc k interv occur later request sequenc relev interv two surround group similarli call group fall last eight case earli group fall case lateearli group fall case earlyl group result column fig fraction less express w z number interv group refer valu z decit group notic never decit greater interv occur late group earli group result express wz valu z surplu group earli group surplu least cover decit late group note minimum calcul calcul maxim decit minim surplu rather minim expect fraction accept group make dierenc clearli rst group dene request l either earli group earlyl group although one cannot assum late group earli group immedi preced it easi see late group must earli group request sequenc surplu earli group cover decit late group earlyl lateearli group expect fraction interv group accept least total expect fraction interv accept least valu is fact tight lower bound random competit ratio accommod sequenc seat theorem let unit price problem k fk competit accommod sequenc proof rst give request request cg k odd give request k random place request and sinc overlap place rst seat probabl continu sequenc i cg interv last part sequenc overlap exactli two interv earlier therefor accommod two interv place seat happen probabl no li j k ik xs ys probi probk result x figur tabl dierent group thu request rst part sequenc expect half request last part accept precis obtain fkthe competit ratio accommod sequenc random seat extend seat gener one show random competit ratio accommod sequenc bound approxim theorem even accommod sequenc competit ratio random k unit price problem k mod proof assum n divis request sequenc follow ntime ntime ntime ntime ntime ntime refer extra interv firstfit appli sequenc knrequest would accom modat random accommod everyth except extra interv follow interv length shorter extra interv thought length thu extend rst station last notic extra interv form s s accept exactli seat receiv interv s receiv interv s similarli extra interv form s accept exactli seat receiv interv s receiv interv s us consid type extra interv combin expect s n n n n n n n n figur expect number seat variou combin interv pair s s s s calcul expect number accommod random consid last pair extra interv interv interfer whether extra interv accommod form s interv aect place rel other form s s interv s s place probabl one interv s immedi thu one expect s accept interv form s s cannot seat s interv tabl fig show expect number seat assign variou combin interv s indic presenc interv type interv form s go neither one see tabl expect number seat like n expect number s interv n one expect interv form s accommod similar simpli argument give exactli expect last two type extra interv give expect number extra interv accommod random n k nk henc ratio number request accommod random number request given n k congruent modulo n congruent modulo similar result hold give rst n mod k request use sequenc request previou proof and thu use last station give upper bound form k c constant c c depend valu k mod conclud remark shown fair determinist algorithm unit price seat reserv problem asymptot competit ratio accommod sequenc interest open problem remain whether exist random algorithm better particular competit ratio algorithm random accommod sequenc shown n howev best known lower bound perform still n acknowledg bach support part nsf grant ccr joan boyar would like thank faith fich interest discuss regard seat reserv problem seat joan boyar kim s larsen carri part work visit depart comput scienc univers wisconsin madison support part snf denmark part nsf us grant ccr part esprit long term research programm eu project number alcomit joan boyar lene m favrholdt kim s larsen support part ist programm eu contract number ist alcomft tao jiang guohui lin support part nserc research grant ogp cito grant tao jiang support part ucr startup grant rob van stee support netherland organ scientic research nwo project number sion r accommod ratio seat reserv problem better bound accommod ratio seat reserv problem seat reserv problem accommod function kcolor interv algorithm minimum color graph color problem wiley exact approxim algorithm oper fix interv schedul problem tr effici rout allopt network bandwidth alloc preemption effici onlin call control algorithm onlin interv schedul competit nonpreempt call control kcolor interv accommod function gener competit ratio better bound accommod ratio seat reserv problem onlin compet algorithm call admiss optic network accommod ratio seat reserv problem ctr joan boyar susan krarup morten n nielsen seat reserv allow seat chang journal algorithm v n p august marek chrobak sigact news onlin algorithm column acm sigact new v n septemb