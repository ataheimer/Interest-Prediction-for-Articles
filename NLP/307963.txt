t onlin differ maxim a paper examin problem motiv onlin financi problem stochast game particular consid sequenc entir arbitrari distinct valu arriv random order must devis strategi select low valu follow high valu way maxim expect gain rank low valu high valuesfirst consid scenario one low valu one high valu may select give optim onlin algorithm scenario analyz show that surprisingli expect gain no differ best possibl offlin gain constant addit term which is fact fairli smallat in second scenario allow multipl nonoverlap lowhigh select total gain algorithm sum individu pair gain also give optim onlin algorithm problem expect gain nthetanlog n analysi show optim expect offlin gain ntheta perform onlin algorithm within factor best offlin strategi b introduct paper examin problem accept valu onlin sourc select valu way maxim differ rank select valu input valu arbitrari distinct real number thu cannot determin certainti actual rank input valu see them sinc care rank equival way defin input sequenc n integ x denot rank ith input item among first item rank uniqu defin order n input specifi sequenc rank r rank form permut set ng refer r rank final rank sinc repres rank item among final set n input assum input come probabilist sourc permut n final rank equal like origin motiv problem came consid onlin financi problem maxim differ select item natur correspond maxim differ buy sell price invest use gener terminolog order gener set for exampl make low select rather pick buy price mani problem examin paper easili understood use notion invest ing paper first step appli onlin algorithm techniqu realist onlin invest problem origin motiv come financi problem current input model littl realist financi market select math receiv editor juli accept public in revis form march publish electron date depart comput scienc yale univers new haven ct kaomingyangcsyaleedu support part nsf grant ccr z depart comput scienc univers north texa denton srtcsuntedu support part nsf grant ccr m y kao s r tate matic clean relat fundament problem stochast game main differ model realist financi problem usual stock trade optimiz rankrel quantiti alway correl optim profit dollar amount howev strong similar well exot financi deriv base quantiti similar rank current formul close relat import mathemat problem known secretari problem becom standard textbook exampl basi mani interest extens includ ing secretari problem come follow scenario set candid singl secretari posit present random order interview see candid one time must make decis hire hire immedi upon see candid candid pass over interview may go back hire candid gener goal maxim either probabl select top candid expect rank select candid problem also state slightli differ stori princess select suitor p made relationship current problem secretari problem x read secretari problem refer reader survey freeman mention abov assum input come random sourc permut final rank equal like thu rank x uniformli distribut set f rank independ one anoth fact close parallel popular algorithm gener random permut p natur question ask is know rel rank x current input expect final rank item ie er jx due uniform natur input sourc final rank ith item simpli scale number item left input sequenc er jx a simpl proof given appendix a sinc input rank x independ uniformli distribut littl infer futur input consid game player watch stream input select item seen howev item pass gone good may select later interest strategi two game ffl singl pair select game player make two select first low select second high select goal player maxim differ final rank two select player pick low select upon see input x time step pick high select input x h time step h profit given player end game differ final rank item r ffl multipl pair select game player make multipl choic lowhigh pair end game differ final rank select pair item taken differ pair ad produc player final profit strategi game share common difficulti player wait long make low select risk enough choic good high select howev make low select earli may result item select truli low item seen player second game afford less select one chosen pair give larg differ may still mani pair good enough make pair small differ onlin differ maxim present optim solut game first game player make singl low select singl high select strategi expect profit deriv strategi clear strategi optim even full knowledg final rank input item best expect profit game less n standard term onlin perform measur competit ratio strategi one strength onlin strategi rather intrigu second game multipl lowhigh pair select provid optim strategi expect profit log n problem optim offlin strategi expect profit approxim competit ratio strategi singl lowhigh select section consid scenario player may pick singl item low select singl later item high select low select made time step high select made time step h expect profit er player goal use strategi pick h order maxim expect profit mention previou section problem close relat secretari problem great deal work done secretari problem variat problem taken fundament role studi game stochast oppon work extend secretari problem give complet solut two natur variant previous appear literatur much insight gain look optim solut secretari problem first sketch solut use terminolog problem high select maxim expect rank singl high select defin optim strategi recurs use follow two function hn i limit player select current item rn i expect final rank high select optim strategi follow start ith time step sinc permut final rank equal like ith input item rank x among first data item expect final rank n optim strategi secretari problem select ith input item expect final rank better could obtain pass item use optim strategi step word select item time step n made select nth step must select last item whose rank uniformli distribut rang integ n expect final rank case rn competit ratio usual refer worstcas ratio onlin offlin cost howev case input entir probabilist competit ratio refer expect onlin expect offlin cost worstcas measur even make sens here m y kao s r tate forc select last time step defin hn furthermor given definit hn i optim strategi step depend rank current item which uniformli distribut rang optim strategi time i allow us recurs defin rn i follow full recurs specif optim strategi perform optim strategi perform optim strategi taken begin rn valu comput recurs equat prove chow et al tend n furthermor perform approach limit abov n perform greater singl pair select low select made want maxim expect final rank high select made low select step i optim make high select follow strategi secretari problem result expect high select rank rn i make low select optim extend recurs definit given two new function ln i limit player select current item pn i expect highlow differ optim strategi make low high select follow start step i thu choos ith input low select expect profit rn i select item expect profit less expect profit skip item lead definit ln i use ln i deriv follow profit function deriv clear optim strategi implement use recurs formula comput ln i valu expect profit algorithm given pn bound follow theorem theorem onlin algorithm singl lowhigh select optim expect profit proof suffic prove certain inferior algorithm expect profit o inferior algorithm follow use solut secretari problem onlin differ maxim select first bnc input item item minimum expect final rank similarli pick item maximum expect rank second dne input simplic initi assum n even see comment end proof odd n let time step low select made h time step high select made use bound chow et al bound expect profit inferior algorithm chow et al show c expect profit inferior algorithm least n gamma odd n deriv almost ident chang least signific term specif expect profit inferior algorithm odd n n least n gamma multipl lowhigh select section consid scenario player select low item follow high item may repeat process often desir player make k low high select time step respect requir expect profit result select offlin analysi let interv j refer time period instant input item j arriv instant input item arriv particular sequenc low high select call interv j activ index i amort total profit particular algorithm b defin amort profit ab j interv j ae r note fix sequenc lowhigh select sum amort profit exactli total profit ie offlin algorithm maxim total profit need maxim amort profit done particular sequenc r s make interv activ r j r j translat back origin problem make low high select equival identifi maximallength increas interv select begin end point interv low high select respect observ analysi give follow lemma m y kao s r tate lemma optim offlin algorithm describ expect profit proof analysi perform examin expect amort profit individu interv particular interv j sinc analysi independ interv number j sum amort profit interv give expect profit state lemma onlin analysi onlin algorithm multipl pair select two possibl state free hold free state choos current item low select x furthermor select item move free state hold state hand hold state current item x i choos item high select move free state name algorithm op stand opportunist sinc algorithm make low select whenev probabl greater next input item greater one later see name op could well stand optim sinc algorithm inde optim follow lemma give expect profit algorithm proof lemma use follow equal lemma expect profit onlin algorithm n even n odd cleaner form epop proof let r random variabl final rank ith input item let aop i amort cost interv defin x sinc aop i nonzero interv activ therefor condit interv activ x interv certainli activ algorithm hold state prior step would see input x similarli x ith algorithm must free state interv interv activ final x state remain interv gamma furthermor sinc must odd case possibl cannot and thu x unambigu indic whether interv activ summari determin whether interv activ requir look x occasion x igamma sinc expect amort profit step depend whether odd even break analysi two case below case even note p robx x cannot exactli i mean probabl interv activ furthermor r i independ whether interv activ not ijinterv case odd sinc interv cannot activ assum need consid case x robinterv activ comput expect amort cost interv slightli complex case ijinterv activ m y kao s r tate combin case ijinterv activ delta p robinterv activ first sum account odd term origin sum second sum account even term n even sum becom agre claim lemma n odd sum simplifi agre claim lemma simplifi form follow fact odd n bound combin result x see onlin algorithm expect profit could obtain full knowledg futur term competit analysi algorithm competit ratio mean know futur terribl harm problem optim onlin algorithm section prove algorithm op optim denot permut small greek letter subscript give size permut word permut set may denot ae oe permut item describ fulli first input problem given permut also comput permut describ first use notat oe j igamma denot restrict restrict domain permut unless oe restrict form valid permut upon see ith input algorithm may make one follow move may make input low select may make input high select may simpli ignor input wait next input therefor algorithm entir describ function map permut repres input arbitrari length set move denot move function algorithm b mb permut oe map mb oe element set flow high waitg notic move function give valid algorithm exampl possibl defin move function make two low select row certain input even though allow problem defin gener hold state algorithm algorithm hold state time made low select yet made correspond high select algorithm b defin set lb i set permut item result algorithm hold state process input explicitli defin set use move function lb i set need comput expect amort profit interv sinc i jlb ij ae use notat observ prove optim algorithm op theorem algorithm op optim algorithm multipl pair select problem proof sinc move function which defin specif algorithm work permu tation fix order permut order compar strategi order permut first size lexicograph order actual permut compar two differ algorithm b c start enumer permut order count mani permut caus move b c stop first permut oe mb oe ie first permut algorithm make differ move call m y kao s r tate number permut produc ident move comparison process length agreement b c prove optim algorithm contradict assum optim optim algorithm let b algorithm longest possibl length agreement algorithm op let oe k first permut mb oe k mop oe k sinc b differ op point least one follow case must hold a oe k j mb oe k low ie algorithm b hold state get low rank input make low select mb oe k wait ie algorithm b hold state get high rank input make low select anyway c oe k j mb oe k high ie algorithm b hold state get high rank input make high select mb oe k wait ie algorithm b hold state get low rank input make high select anyway case show transform algorithm b new algorithm c c perform least well b length agreement c op longer b op provid contradict need case a algorithm cs move function ident bs except follow valu wait ae word algorithm c algorithm b except correct bs error made input low select chang move input k lb k easili verifi new set lc i correspond hold state ident set lb i k differ k insert oe k ie lc g let pb pc profit b c respect sinc amort cost differ interv k k jlc kj ae k lc k ae k ka ae k lb k ae k ka onlin differ maxim one condit case a oe k finish deriv note therefor expect profit algorithm c greater b case b case a select move function algorithm c caus one chang set hold state algorithm c make input k low select particular set ident algorithm b one except lc g analysi similar case a show case c case select move function algorithm c lc result algorithm c select input k high select give expect profit gain case d case select move function algorithm c lc result algorithm c take input k high select give expect profit gain case transform algorithm b new algorithm c perform least well and henc must optim longer length agreement algorithm op b doe directli contradict select b optim algorithm longest length agreement op contradict finish proof algorithm op optim conclus paper examin natur onlin problem relat financi game classic secretari problem select low high valu randomli order set valu present onlin fashion goal maxim differ final rank lowhigh pair consid two variat problem first allow us choos singl low valu follow singl high valu sequenc n valu second allow select arbitrarili mani lowhigh pair present provabl optim algorithm variant gave tight analys perform algorithm analyz well onlin perform compar optim offlin perform paper open mani problem two particularli interest direct consid realist input sourc maxim quantiti differ rank appendix proof expect final rank appendix section prove item rel rank x among first input expect rank r among n input given er jx m y kao s r tate lemma a given item rank x among first input st input uniformli distribut possibl rank expect rank given item among first input i proof let r random variabl denot rank given item among first see valu r depend rank st input particular rank st input x which happen probabl x new rank given item x hand rank st input x which happen probabl rank given item still x among first input use observ see claim lemma fix posit i extens rank posit time rank item among first input thi simpli extend lemma case x fix rank random variabl know expect rank among first item corollari a given item expect rank x among first input st input uniformli distribut possibl rank expect rank given item among first input i simpli multipli togeth chang expect rank among input among n input get telescop product cancel success term result follow corollari corollari a given item rank x among first input remain input uniformli distribut possibl rank expect rank given item among n input n r improv algorithm analysi secretari problem gener fundament invest probabl measur statist adversari allow optim moneymak trade strategi theori optim stop ping secretari problem algorithm maxim expect log invest return competit analysi financi game foundat financ secretari problem extens review art comput program choos maximum sequenc discount function amort effici list updat page rule secretari problem finit memori recogn maximum second maximum sequenc dynam program stochast control mathemat financi deriv tr ctr avrim blum tuoma sandholm martin zinkevich onlin algorithm market clear proceed thirteenth annual acmsiam symposium discret algorithm p januari san francisco california