t motion estim quadtre spline a abstractthi paper present motion estim algorithm base new multiresolut represent quadtre spline represent describ motion field collect smoothli connect patch vari size patch size automat adapt complex underli motion topolog patch determin quadtre data structur split merg techniqu develop estim spatial subdivis quadtre spline implement use anoth novel represent adapt hierarch basi spline combin advantag adaptivelys correl window speedup obtain hierarch basi precondition result present standard motion sequenc b introduct one fundament tradeoff design motion estim stereo match algorithm select size window filter use compar portion correspond im age use larger window lead better nois immun averag also disambigu potenti match area weak textur potenti apertur problem howev larger window fail straddl motion depth discontinu gener motion dispar vari significantli within window mani techniqu devis deal problem eg use adaptivelys window stereo match paper present techniqu recurs subdivid imag squar patch vari size match patch subsequ frame way preserv interpatch motion continu techniqu extens splinebas imag registr techniqu present szeliski coughlan thu advantag compar correlationbas approach ie lower comput cost abil handl larg imag deform first step show use hierarch basi spline instead regular spline lead faster converg qualit perform smooth function similar regulariza tion then show select set certain node hierarch basi zero lead adapt hierarch basi use idea build spline defin quadtre domain ie quadtre spline determin size patch adapt basi ie shape quadtre develop split merg techniqu base residu error current optic flow estim paper deal primarili motion estim also known imag registr optic flow comput techniqu develop equal well appli stereo match ing framework view stereo special case motion estim epipolar geometri correspond line known thu reduc twodimension search space pixel onedimension space techniqu also use part direct method simultan solv project depth camera motion szeliski coughlan adapt hierarch basi spline develop paper equival adapt subdivid global parametr motion region maintain continu adjac patch therefor implement continuum motion model rang singl global eg affin motion way complet gener local motion warrant data given imag sequenc examin local certainti flow comput also use algorithm parallel featur tracker long motion sequenc imag deform may signific szeliski et al motion estim algorithm develop paper use number applica tion exampl includ motion compens video compress extract scene geometri camera motion robot navig registr multipl imag eg medic applic featur track algorithm base techniqu use human interfac applic gaze track express detect addit classic robot applic remaind paper structur follow section present review relev previou work section give gener problem formul imag registr section review splinebas motion estim algorithm section show hierarch basi function use acceler regular splinebas flow estim section present novel quadtre spline discuss shape estim use split merg techniqu section discuss relationship adapt hierarch basi spline multiscal markov random field section present experiment result base commonli use motion test sequenc close comparison approach previou algorithm discuss futur work previou work motion estim long one activ studi area comput vision imag process aggarw nandhakumar brown motion estim algorithm includ optic flow gener motion estim global parametr motion estim constrain motion estim direct method stereo multifram stereo hierarch coarseto fine method featur tracker featurebas registr techniqu use rough taxonomi briefli review previou work recogn algorithm overlap mani algorithm use idea sever categori gener motion estim problem often call optic flow recoveri hornand schunck involv estim independ displac vector pixel imag approach problem includ gradientbas approach base bright constraint horn schunck luca kanad nagel correlationbas techniqu sum squar differ ssd anandan spatiotempor filter adelson bergen heeger fleet jepson weber malik regular horn schunck hildreth poggio et al nagel anandan ott nagel provid comparison deriv relat differ techniqu barron et al provid numer comparison global motion estim luca bergen et al use simpl flow field model parameter small number unknown variabl exampl global motion model includ affin quadrat flow field taxonomi bergen et al field call parametr motion model sinc use local well eg affin flow estim everi pixel splinebas flow field describ next section view local parametr model sinc flow within spline patch defin small number control vertic global method use scene particularli simpl form eg scene planar method extend complex scene howev use collect global motion model exampl pixel associ one sever global motion hypothes result layer motion model wang adelson jepson black etoh shirai bober kittler altern singl imag recurs subdivid smaller parametr motion patch base estim current residu error flow estim muller et al approach similar latter work except preserv interpatch motion continu use split merg techniqu stereo match barnard fischler quam dhond aggarw tradit consid separ subdisciplin within comput vision and cours pho togrammetri strong connect motion estim stereo view simplifi version constrain motion estim epipolar geometri given flow vector constrain lie along known line stereo tradit perform pair imag recent algorithm use sequenc imag multifram stereo motion stereo boll et al matthi et al okutomi kanad idea use adapt window size stereo okutomi kanad okutomi kanad similar spirit idea use paper although algorithm much higher comput complex hierarch coarsetofin match algorithm long histori use stereo match quam witkin et al motion estim enkelmann anandan singh bergen et al hierarch algorithm first solv match problem smaller lowerresolut imag use initi higherresolut estim advantag includ increas comput effici abil find better solut escap local minima algorithm present paper also relat patchbas featur tracker luca kanad rehg witkin tomasi kanad differ previou approach use patch vari size complet tile imag patch motion discontinu across patch boundari motion estim use parallel adapt featur tracker select spline control vertic low uncertainti motion compon szeliski et al gener problem formul gener motion estim problem formul follow given sequenc imag x y assum form local displac refer imag ix y horizont vertic displac field u x y v x y ie individu imag assum corrupt uniform white gaussian nois also ignor possibl occlus foldov warp imag given sequenc imag wish simultan recov displac field refer imag ix y maximum likelihood solut problem well known consist minim squar error z z practic usual given set discret sampl imag replac integr summat set pixel fx displac field u v differ time independ refer intens imag ix y assum known minim problem decompos set independ minim one frame now assum case studi two frame problem rewritten use term displac field flow field motion estim interchang equat call sum squar differ ssd formula anandan expand first order taylor seri expans yield imag bright constraint horn schunck intens gradient squar pixel error function mean possibl optim criterion exampl gener account photometr variat global bright contrast use b c perfram bright contrast correct term paramet estim concurr flow field littl addit cost inclus use situat photometri chang success view eg imag acquir concurr anoth way gener criterion replac squar function nonquadrat penalti function result robust motion estim reject outlier measur black anandan bober kittler black rangarajan anoth possibl weight squar error term factor proport tooe oe varianc imag deriv nois compens nois imag deriv comput simoncelli et al increas nois immun intens imag use replac filter imag burt adelson minim problem typic mani local minima sever techniqu commonli use find global optim estim exampl ssd algorithm perform summat pixel theta window typic theta anandan recent variat use adapt window okutomi kanad multipl frame okutomi kanad regularizationbas algorithm add smooth constraint u v field obtain good solut horn schunck hildreth poggio et al final multiscal hierarch coarsetofin techniqu often use speed search optimum displac estim avoid local minima splinebas flow estim e e e e figur displac spline spline control vertic shown circl ffi pixel displac fu shown pluse choic represent u v field also strongli influenc perform motion estim algorithm commonli made choic assign independ estim pixel motion descriptor also possibl luca bergen et al szeliski coughlan one observ howev motion estim individu pixel never truli independ local correl window as ssd global smooth constraint aggreg inform neighbor pixel result displac estim therefor highli correl possibl analyz correl induc overlap window matthi et al regular szeliski procedur cumbersom rare use reason chosen work repres motion field spline represent fall perpixel motion estim pure global motion estim splinebas flow estim approach repres displac field ux y vx y twodimension spline control smaller number displac estim lie coarser spline control grid figur valu displac pixel written function minim b j x y call basi function nonzero small interv fi nite support call weight emphas known linear combin u current implement basi function spatial shift version other studi five differ interpol function block linear squar linear triangl bilinear biquadrat szeliski coughlan practic often use bilinear base also impos condit spline control grid regular subsampl pixel grid set theta pixel correspond singl spline patch function minim recov local splinebas flow paramet need minim cost function respect fu g use variant levenbergmarquardt iter nonlinear minim techniqu press et al first comput gradient e respect paramet u j v j intens error pixel i intens gradient displac posit pixel i w ij sampl valu spline basi function algorithm comput gradient first form displac vector pixel use comput resampl intens gradient valu final increment g v valu control vertic affect pixel szeliski coughlan remaind paper use indic pixel j spline control vertic splinebas flow estim levenbergmarquardt algorithm also requir approxim hessian matrix secondderiv term left out matrix contain entri form uu uv vu g vv entri comput time energi gradient levenbergmarquardt algorithm proce comput increment deltau current displac estim u satisfi u vector concaten displac estim fu vector concaten energi gradient fg u g stabil factor vari time press et al solv larg spars system linear equat use precondit gradient de scent set theta block diagon matric defin call precondit residu vector optim valu ff comput iter minim deltaeffd ie set direct vector current step see szeliski coughlan detail algorithm implement handl larger displac run algorithm coarsetofin hierarch fash ion gaussian imag pyramid first comput use iter point filter burt adelson run algorithm one smaller pyramid level use result flow estim initi next finer level use bilinear interpol doubl displac magnitud precondit mean adjust descent direct acceler converg eg premultipli approxim invers axelsson barker press et al function minim ull compute_flow d l n s f q b b w e g m dresultsrubik rubikspp devnul imag size x subsampl scale a b null compute_flow d l n s f q b b w e g m dresultsrubik rubikspp devnul imag size x subsampl scale compute_flow d l n s f q b b w e g m dresultsrubik rubikspp devnul imag size x subsampl scale c d figur exampl gener flow comput a input imag bd flow estim figur show exampl flow estim produc techniqu input imag theta pixel flow display grid show result use level pyramid iter level three differ patch size see use patch larg result flow estim smooth use patch small result noisi estim thi latter problem could potenti fix ad regular cost increas iter overcom problem need techniqu automat select best patch size region imag idea develop next two section hierarch basi spline regular problem often requir mani iter propag inform region high certainti textur edg region littl inform uniform intens sever techniqu develop overcom problem coarsetofin techniqu quam anandan help often converg quickli optim solut multigrid techniqu terzopoulo conjug gradient descent also use especi nonlinear problem shapefromshad simchoni et al perhap effect techniqu combin conjug gradient descent hierarch basi function yserent appli interpol problem stereo match szeliski shapefromshad szeliski hierarch basi function base use pyramid represent data burt adelson number node pyramid equal origin number node finest level figur convert hierarch basi represent usual fine level represent which call nodal basi represent yserent start coarsest smallest level pyramid interpol valu level thu doubl resolut interpol valu ad hierarch represent valu next lower level process repeat nodal represent obtain process written algorithm procedur hierarch basi spline therefor degener nonorthogon form wavelet mallat extrem compact support invers fine medium coars c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c c figur multiresolut pyramid multipl resolut level schemat represent hierarch basi spline circl indic node hierarch basi fill circl ffl free variabl quadtre spline section open circl ffi must zero see figur procedur node assign one level collect l the circl figur node also number parent node n j next coarser level contribut valu interpol process w jk weight function depend particular choic interpol function exampl shown paper use bilinear interpol sinc previou experi suggest reason choic interpol szeliski write process algebra u hierarch basi represent use hierarch basi represent flow field equival use ss precondition ie axelsson barker szeliski transform ss use precondition influenc hierarch base coarser level which obtain oper propag nodal basi fine level oper evalu ie convert nodal basi represent hierarch basi represent use procedur procedur combin hierarch basi precondit block diagon precondit sever choic appli block diagon precondit first second interleav two precondition bg latter two oper correspond welldefin precondition ie optim chang basi first two easier implement current work use first form ie appli block precondit first use sweep hierarch basi pyramid smooth residu futur work plan develop optim combin block diagon hierarch basi precondit summar algorithm figur keep hierarch nodal represent map two requir accumul distanc gradient requir comput imag flow deriv respect paramet nodal basi use hierarch basi smooth residu vector g select new conjug direct comput optim step size use techniqu make converg faster also propag local correct whole domain tend smooth result flow significantli demonstr perform improv avail hierarch basi function use exampl squar sequenc part data set use barron et al y ff increment n loop map hierarch nodal basi section figur hierarch basi precondit conjug gradient algorithm rm flow error iter squar converg gradient descent a b a input imag b converg plot error vs iter number figur squar sampl imag converg plot quadtre adapt resolut spline figur show one imag sequenc figur b show converg rate regular gradient descent precondit hierarch basi function differ amount regular see result ad regular result accur solut thi true flow singl constant valu use coars fine quicker singlelevel relax hierarch basi precondit faster coarsetofin relax interest note use hierarch basi function even without regular quickli smooth solut outperform coarsetofin without regular quadtre adapt resolut spline hierarch basi spline help acceler estim algorithm even add extra smooth solut solv problem adaptivelys patch thi use idea quadtre spline ie spline defin quadtre domain quadtre d represent built recurs subdivid rectangl four piec fig ure basic concept quadtre spline defin continu function quadtre domain interpol numer valu corner spline leaf cell squar howev cell nonuniformli subdivid crack firstord discontinu interpol function aris figur b unless crackfil strategi use samet simplest strategi simpli replac valu node along crack edg the white circl figur averag valu two parent node along edg strategi use develop octre spline represent multiresolut distanc map d pose estim problem lavalle et al problem one iter estim valu node quadtre spline enforc crackfil rule becom complic use strategi develop estim d displac field elast medic imag registr szeliski lavalle use hierarch basi select zero node basi observ figur set valu open circl ffi zero hierarch basi recomput nodal basi use s result spline desir continu ie node along longer edg averag parent formul quadtre spline term adapt hierarch basi ie basi node set zero sever advantag first easi implement a b figur quadtre associ spline function potenti crack quadtre spline a node fill circl ffl free variabl associ hierarch basi wherea open circl ffi and also node drawn must zero in nodal basi node interpol ancestor b potenti crack simpler quadtre spline shown shade area simpli requir select zero step oper algebra write z diagon matrix s s diagonalse figur second gener spline arbitrari order eg build c quadtre spline base quadrat bspline use adapt hierarch basi function howev higherord spline even node zero order ensur finer level spline affect nearbi coarser un divid cell third discuss next section adapt hierarch basi idea even gener quadtre spline correspond specif kind multiresolut prior model quadtre spline describ ensur function within leaf cell squar do main simpl form singl polynomi descript spuriou rippl altern way interpret quadtre figur specifi minimum degre complex cell ie squar guarante full degre freedom eg corner independ valu bilinear case latter interpret open circl hierarch basi zero circl actual drawn figur zero approach larg squar arbitrarilydetail rippl insid domain result whenev z matrix chang also recomput quadtre spline use u u gamma procedur similar u quadtre adapt resolut spline finelevel basi function near squar boundari date investig altern possibl subdivis strategi quadtre spline provid conveni way use adaptivelys patch motion estima tion maintain interpatch continu question remain actual determin topolog patch ie patch get subdivid one remain larg ideal would like patch cover region imag within parametr motion model valid realworld situat may correspond planar surfac patch undergo rigid motion small amount perspect distort bilinear flow close project flow howev usual priori given requir segment imag instead must deduc segment base adequaci flow model within patch fundament tool use concept residu flow irani et al recent use muller et al subdivid affin motion patch which call tile residu flow perpixel estim flow requir regist two imag addit flow current model parametr motion model singl pixel normal flow estim intens error e gradient ri given measur differ use irani et al muller et al sum numer denomin small neighborhood around pixel decid whether split spline patch four smaller patch sum magnitud residu normal flow ku n k pixel patch compar threshold u patch motion model adequ fall threshold patch multipl motion abov start whole imag subdivid recurs either pnorm residu fall accept valu smallest patch size consid typic pixel wide reach figur ac show exampl quadtre spline motion estim produc split techniqu simpl synthet exampl two central disk independ move actual use pgammanorm model max oper p subdivis strategi true flow two disc imag sequenc true flow imag size x subsampl scale a b c d figur quadtre spline motion estim two disc sri tree sequenc a input imag b true flow c split techniqu d merg techniqu textur background quadtre boundari warp show extent estim imag motion up left top disc right bottom disc note subdivis occur mostli object boundari would expect visibl error near upper right edg lower disc occur area littl imag contrast motion mostli parallel region contour altern iter split strategi start small patch merg adjac patch compat motion estim larger patch within constraint allow quadtre topolog test larger patch consist flow compar four valu along edg patch valu center averag valu interpol four corner cell look lower left quadrant figur visual thi rel differ estim interpol valu k k u j interpol valu must threshold typic five node four constitu patch allow merg larger patch notic quantiti exactli valu hierarch basi function node at least bilinear spline effect convert small hierarch basi valu close exactli zero thi bayesian interpret discuss next section note also consist criterion may fail region littl textur flow estim initi unreli unless regular appli make flow field smooth figur show exampl quadtre spline motion estim produc merg techniqu result qualit quit similar result obtain split techniqu bayesian interpret connect energybas regular lowlevel vision problem bayesian estim formul well known kimeldorf wahba marroquin et al szeliski nutshel shown energi cost function minim convert probabl distribut unknown use gibb boltzmann distribut find minimum energi solut equival maximum posteriori map es timat bayesian model nice decompos energi function measur model typic squar error term measur predict valu prior model which usual correspond stabil smooth term ie becom straightforward make use robust statist model simpli modifi appropri energi term black anandan black rangarajan basic splinebas flow model introduc szeliski coughlan alreadi valid prior model sinc restrict famili function smooth set tensorproduct spline case small amount intens variat insid spline patch suffici ensur uniqu wellbehav solut exist howev safe side easi add small amount regular quadrat penalti term u j s finit differ hierarch basi spline well multilevel represent overcomplet pyramid view multiresolut prior szeliski terzopoulo two basic approach specifi prior first use current work simpli view hierarch basi precondition defin prior model usual nodal basi szeliski altern defin prior model directli hierarch ba si usual assum basi element statist independ other ie covari matrix diagon szeliski terzopoulo pentland extrem exampl scalerecurs multiscal markov random field introduc chin et al whose special structur make possibl recov field singl sweep pyramid unfortun techniqu base piecewiseconst model flow result recov field excess blocki luettgen et al within framework adapt hierarch basi spline view complex multiresolut prior hierarch node nonzero prior probabl exactli zero split merg algorithm view simpl heurist techniqu design recov underli motion field decid node actual zero sophist techniqu solv problem would includ simul anneal marroquin et al meanfield anneal geiger girosi quadtre spline even complic prior model sinc exist zero certain level pyramid impli zero lower level well zero neighbor node depend exact interpret quadtre spline pursu model paper leav investig futur work techniqu pixel std dev avg ang std dev densiti regular spline regular spline regular spline quadtre spline merg quadtre spline split tabl summari two disc sri tree result experiment result investig perform quadtre splinebas motion estim use synthet gener two disc sri tree sequenc shown figur know true motion figur b result splinebas motion estim variou choic window size s well result split merg techniqu shown tabl experi show optim fix window size split merg techniqu provid slightli better result rel small differ error variou techniqu due error concentr region occlus occur figur ad occlus detect process algorithm help reduc error region also test algorithm standard motion sequenc use recent motion estim paper barron et al wang adelson ott nagel result hamburg taxi sequenc shown figur independ motion three move car clearli distinguish notic algorithm also abl pick small region move pedestrian near upper left corner result flower garden sequenc shown figur here trunk tree clearli segment rest scene top flower garden hand clearli segment hous sky sinc appear c continu motion field repres spline adequ descript final sequenc studi tabl marbl block acquir michael ott unlik global motion estim use wang adelson requir motion combin global affin motion figur flow error ku gamma u k residu normal flow ku n k two disc sri tree sequenc note error concentr near motion discontinu especi disocclud region center imag size x subsampl scale figur hamburg taxi sequenc estim quadtre estim flow merg level pyramid imag size x subsampl scale figur flower garden sequenc estim quadtre estim flow merg patch level pyramid ott nagel scene camera move forward left block stationari except short central block independ move left quadtre segment motion field separ tall block foreground independ move block separ block tabl checker background chang threshold merg algorithm could use achiev greater segment appear necessari adequ model motion field extens current extend algorithm describ paper number direct includ better multifram flow estim parallel featur track local search given two frame must assum model motion coher across frame take advantag addit inform avail simplest assumpt linear flow ie displac success imag base imag known scalar multipl other u flow estim formul sum intens differ base frame frame szeliski coughlan similar sum sum squareddist sssd algorithm okutomi kanad found practic work well although often necessari bootstrap motion common case eg spatiotempor filter uniform tempor sampl s strictli necessari imag size x subsampl scale figur michael ott sequenc estim quadtre estim flow merg patch level pyramid estim first comput motion estim fewer frame thi gradient descent get trap local minima interfram displac becom larg motion linear ie nonzero acceler cannot perform singl batch optim instead comput separ flow field pair imag use previou flow initi guess altern comput motionbetween base imag success imag use linear predictor u latter approach use tri track featur point without problem drift accumul error occur use interfram flow linearli predict multifram motion estim form basi parallel extend imag sequenc featur tracker szeliski et al separ locat imag featur track reliabl uninform confus region use combin local hessian estim local intens error within spline patch similar shi tomasi tracker shi tomasi except use bilinear patch stitch togeth spline motion model yield better stabil isol affin patch deal local minima trap gradient descent techniqu also ad exhaust search compon algorithm begin set iter eg discuss conclus interlevel transfer coars fine algorithm split quadtre spline es timat search around current u v estim tri discret set nearbi u v valu as ssd algorithm anandan howev must maintain spline continu cannot make select best motion estim patch independ instead averag motion estim neighbor patch determin motion spline control vertex futur work plan extend algorithm handl occlus order improv accuraci flow estim first part simpler implement simpli detect foldov ie one region occlud anoth due faster motion disabl error contribut occlud background second part would add explicit occlus model straightforward spline current c continu work would also like studi suitabl method robust way bootstrap layer motion model also plan test techniqu standard stereo problem conclus quadtreesplin motion algorithm develop provid novel way comput accur motion estim perform initi segment motion field approach optim stabil versu detail tradeoff adaptivelys correl window without incur larg comput cost overlap window trialanderror window size adjust compar recurs split affin patch tracker muller et al techniqu provid higher level continu motion field lead accur motion estim gener framework quadtre spline hierarch basi function equal applic comput vision problem surfac interpol well comput graphic numer relax problem alreadi appli success elast registr medic imag szeliski lavalle plan extend approach applic r spatiotempor energi model comput motion sequenc imagesa review comput framework algorithm measur visual motion finit element solut boundari valu problem theori comput comput stereo perform optic flow techniqu hierarch modelbas motion estim framework robust estim optic flow outlier process unifi line process robust statist estim complex multimod motion approach base robust statist hough transform survey imag registr techniqu laplacian pyramid compact imag code estimationtheoret perspect imag process calcul optic flow structur stereoa re view investig multigrid algorithm estim optic flow field imag sequenc segment motion estim region fragment comput compon imag veloc local phase inform mean field theori surfac reconstruc tion optic flow spatiotempor filter comput veloc field along contour determin optic flow detect track multipl move object use tempor integr mixtur model optic flow computa tion correspond bayesian estim stochast process smooth spline match d smooth surfac d project use d distanc map gener imag match method differ iter imag registr techniqu applic stereo vision effici multiscal regular applic comput optic flow theori multiresolut signal decomposit wavelet represent probabilist solut illpos problem comput vision kalman filterbas algorithm estim depth fromimag sequenc estim optic flow relat differ approach new result local adapt window signal match multipl baselin stereo stereo match algorithm adapt window theori experi optic flow estim advanc compar ison interpol use wavelet base comput vision regular theori numer recip c art scientif comput hierarch warp stereo visual track deform model design analysi spatial data structur good featur track pyramid implement optimalstep conjugatesearch algorithm lowlevel vision problem probabl distribut optic flow estimationtheoret framework imageflow comput bayesian model uncertainti lowlevel vision fast surfac interpol use hierarch basi function fast shape shade hierarch splinebas imag reg istrat match d anatom surfac nonrigid deform use octreesplin parallel multigrid algorithm comput vision applic parallel featur tracker extend imag sequenc imag analysi use multigrid relax method shape motion imag stream orthographi factor method layer represent motion analysi robust comput optic flow multiscal differenti framework signal match scale space multilevel split finit element space tr ctr zhao ting david dagan feng tan zheng reconstruct singl pictur proceed pansydney area workshop visual inform process p june el mostafa kalmoun harald kstler ulrich rde optic flow comput use parallel variat multigrid scheme applic cardiac carm ct motion imag vision comput v n p septemb josh will sameer agarw serg belongi featurebas approach dens segment estim larg dispar motion intern journal comput vision v n p june registr use waveletbas motion model intern journal comput vision v n p juli joan condel bryan scotney philip morrow adapt grid refin procedur effici optic flow comput intern journal comput vision v n p januari etienn mmin patrick prez hierarch estim segment dens motion field intern journal comput vision v n p februari stan sclaroff john isidoro activ blob regionbas deform appear model comput vision imag understand v n p februari david j fleet michael j black yaser yacoob allan d jepson design use linear model imag motion analysi intern journal comput vision v n p febmarch richard szeliski jame coughlan splinebas imag registr intern journal comput vision v n p marchapril