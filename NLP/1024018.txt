t arithmet circuit polynomi replac system a paper address problem count prooftre as introduc venkateswaran tompa count proofcircuit relat seemingli natur question problem lead common gener straightlin program call polynomi replac system prss contribut classif system investig complex divers problem fall within scope studi includ exampl count proofcircuit evalu cupcircuit natur number number complex result obtain includ proof count proofcircuit numpcomplet b introduct motiv g theta replac adjac figur gate g input evalu equival treelik boolean circuit obtain circuit drawn proof tree vt ie differ minim subcircuit wit output gate replic form independ relationship proof tree count monoton arithmet circuit use venkateswaran ven character nondeterminist time class includ p val vinay vina character count version logcfl sud relationship trigger investig nc caussinu et al cmtv ac allend et al aad see aml let all recent result motiv studi small arithmet class recent goal captur small arithmet class count object proof tree notabl path graph allend et al aab succeed identifi appropri graph ac earli motiv present work desir avoid unwind circuit tree count proof defin proof circuit minim subcircuit wit circuit output precis boolean circuit c input x proof circuit edgeinduc connect subcircuit c evalu x subcircuit must contain output gate c well exactli one cedg gate cedg informatiqu et recherch operationnel universit de montreal cp succ centrevil montreal quebec hc j canada research perform part leav universitat tubingen support german dfg canadian nserc quebec fcar mckenzieiroumontrealca theoretisch informatik universitat wurzburg exerzierplatz wurzburg germani research support northern telecom vollmerinformatikuniwuerzburgd z theoretisch informatik universitat wurzburg exerzierplatz wurzburg germani research support dfg grant wa wagnerinformatikuniwuerzburgd gate reader convinc circuit depict abov proof tree input x proof circuit input count class aris count proof circuit instead tree question held stock sever surpris led us total unforeseen path first surpris follow algorithm replac theta negationfre boolean circuit c view c straightlin program prescrib usual way formal polynomi input variabl x comput polynomi topdown import proviso step knock nontrivi expon intermedi sumofmonomi represent get number proof circuit c input x evalu final polynomi x exampl circuit depict proof circuit input x becam g middl step one intuit might simpl strategi could massag arithmet circuit least sublinear parallel algorithm vsbr second surpris count proof circuit even depth semiunbound circuit pcomplet henc strategi hard parallel like genuin requir exponenti time surpris algorithm thu count proof tree absenc idempot rule y count proof circuit presenc moreov wherea arithmet circuit comput number proof tree circuit readili avail produc circuit comput proof circuit seem intract special idempot rule would effect multivari rule be nontrivi rule would nonetheless permit express count form arithmet circuit gener framework complex question investig result view result form three main contribut first contribut defin classifi polynomi replac system pr short pr provid answer framework question pr full gener start polynomi togeth set replac rule replac rule pair polynomi applic polynomi q q written form appear appli p consist replac p p see sect formal definit pr gener defin set polynomi sinc choic sequenc rule way rule appli may gener differ polynomi comput problem interest includ comput polynomi poli evalu polynomi specif point eval test membership rang rang identifi four natur famili pr simpl rule replac variabl determinist two rule lefthand side acycl nontrivi infinit sequenc rule applic idempot rule y y present gener pr obtain canon form discuss represent outlin broad complex issu detail complex analysi involv simpl pr instanc exhibit simpl determinist pr rang npcomplet pr given part input poli phard corp rang npcomplet eval pcomplet second contribut concern specif case proof tree proof circuit prove that boolean circuit c input x correspond easili comput idempot simpl determinist acycl pr properti number proof tree resp proof circuit c x maximum resp minimum valu eval problem x vice versa see lemma offer one viewpoint reason algorithm subsect count proof circuit correctli also prove comput minimum eval problem idempot simpl determinist acycl pr pcomplet equival count proof circuit pcomplet ture reduct but manyon reduct unless pnp provid new character p contrast venkateswaran polydegreepolydepth character ven retard polynomi character babai fortnow bf also prove detect whether circuit proof tree proof circuit npcomplet third contribut concern specif case simpl acycl pr prove eval problem pr evalu problem f thetagcircuit circuit consid previous under name hierarch descript wag wag obtain gener tree gener circuit f thetagexpress aka integ express whose evalu problem shown npcomplet year ago stockmey meyer sm pspaceupp bound given wag conclud evalu simpl acycl pr polynomi space algorithm though result could also obtain directli consid link f thetagcircuit interest paper organ section defin proof tree circuit prove complex result them selfcontain way independ pr formal definit pr well canon form found sect section briefli discuss represent polynomi complex equival test section describ four natur famili pr relat straightlin program f thetagcircuit proof tree vs proof circuit problem abov section investig complex theoret properti simpl pr depth count circuit vs count tree definit problem circuit c paper mean circuit basi f g usual sens n input label x interest follow clever proof ke yang yan evalu f thetagcircuit pspacehard ke result impli evalu simpl acycl pr pspacecomplet settl question pose dimacsdimatia workshop describ present work fix input x c unwind c tree c repeatedli duplic gate fanout greater defin accept subtre subgraph h c whose gate evalu addit fulfil follow properti subtre h must contain output gate c everi gate v h input wire v must h everi gate v h exactli one input wire v must h wire node obtain way belong h cx denot number accept subtre c defin accept subcircuit subcircuit h c properti abov ie differ start unwind c tree given input x let c cx denot number accept subcircuit c x sinc accept subtre subcircuit circuit c form proof c evalu given input also refer proof tree proof circuit resp consid follow problem input circuit c f g input number k unari input circuit c f g input observ unwind circuit tree may exponenti blowup size consequ number accept subtre may doublyexponenti size origin circuit possibl problem pc valu function exponenti input length order achiev fair comparison complex problem therefor count proof tree modulo exponenti number initi reduct lemma pt complet fp log proof wellknown connect count accept subtre evalu circuit vinb ven jia pt fp sinc suffici evalu circuit modulo exponenti number let f fp x f g let f input length jxj comput polynomi size circuit c let output gate c let subcircuit c whose output gate gate say c unambigu everi circuit one accept subtre may suppos without loss gener c unambigu lan let c trivial circuit accept subtre fx equal number accept subtre circuit lemma follow problem npcomplet log given circuit c input x cx c cx follow problem pcomplet log given circuit c input x f g proof contain np obtain follow algorithm input c guess input x evalu everi gate c check gate g input evalu least differ path g output c simultan contain accept subtre latter problem essenti gap problem sinc check two path g cs output gate join gate c gate path evalu prove complet give reduct sat given cnf formula f construct f g circuit c f structur that is c f actual formula let c fix circuit differ number accept subtre subcircuit circuit cx c cx input x f satisfi observ algorithm given proof case determinist input x guess henc problem examin p complet also shown along line abov time use pcomplet circuit valu problem q remark restrict attent circuit depth d problem case lemma dspace wit wellknown depthfirst search circuit evalu algorithm use show count proofcircuit pcomplet function f h say f log t h function comput logarithm space that x theorem pc complet p log t p proof conjunct normal form h liter per claus defin sah number satisfi assign variabl h known see val sa p mcomplet p describ log t reduct sa pc conjunct normal form liter per claus defin f gcircuit ch whose input set level stratifi i e edg gate adjac level level follow level consist gate v ikl level consist gate v ik incom edg v ik v ik level consist gate v incom edg level consist gate w gate w j incom edg gate v x j appear claus c gate w j incom edg gate v x j appear claus c construct gate input wire produc replac constant gate level consist gate u gate u j incom edg gate w j consist output gate gate incom edg gate let g defin circuit ch a subcircuit ch result cut edg w u j n follow fact easi see fact pc fact a exactli k claus h pc fact a a satisfi h pc fact sah henc sah easili comput pcch t pc assum pc complet p p reduct let np function p x fx x assumpt manyon reduct g f pc henc x pc latter condit howev check polynomi time sinc underli boolean circuit posit number proof circuit evalu over boolean semir q given proof show problem pc remain pcomplet even restrict monoton circuit gener polynomi straight line program p variabl x set instruct one follow variabl appear left hand side variabl never appear left hand side input variabl variabl xm output variabl given valu input variabl valu variabl comput obviou way valu comput p valu output variabl let p p numbertheoret function comput way p straight line program henc anoth way look arithmet circuit mention connect problem count proof tree evalu arithmet circuit see obviou algorithm determin number proof tree circuit consist produc appropri straight line program evalu order variabl sect sketch relat proof circuit count algorithm next give precis descript algorithm given circuit c input gate x input noninput gate c topolog order i e total order gate c consist partial order given wire henc wire u v transform c straightlin program p abov follow manipul polynomi p variabl g initi set p g replac variabl g p right hand side instruct p whose left hand side g transform p sumofmonomi form reduc power variabl p i e replac z z z variabl end step p multilinear polynomi substitut valu evalu result express see algorithm correctli count proof circuit let mc follow nondeterminist ture machin input x mc first evalu gate c input x prune away zero gate unless output gate g c prune away mc start g prune circuit implement recurs procedur evalu gate g evalu trigger consecut recurs call one predecessor g gate evalu trigger singl recurs call predecessor g chosen nondeterminist gate predecessor evalu simpli accept well known mc cx accept path see eg cmtv mc made c cx accept path instead simpli make sure that whenev evalu encount gate g second time g treat constant gate reflect fact choic accept subcircuit root g alreadi made first encount let c c machin mc modifi way algorithm sect formal abov precis comput number accept path c c encount gate g twice mean differ path g meet gate recal proof lemma equival straightlin arithmet program point view obtain monomi appear replac g g thu precis model count number accept path c c thu number proof circuit c input x summar algorithm comput proof circuit produc polynomi comput argument number proof tree circuit c input x obtain evalu straightlin program given c whenev possibl comput replac power x x particular type polynomi replac system defin next polynomi replac system produc set polynomi given start polynomi use rule replac certain polynomi polynomi similar way formal grammar produc set word start symbol appli product rule paper almost exclus consid polynomi nonneg integ coeffici motiv applic proof tree proof circuit discuss abov write denot p polynomi variabl z below variabl vector x alway defin consist us say variabl x fictiv or inessenti polynomi px pa mean x fictiv p p written term x appear definit polynomi replac system for short pr defin quadrupl set termin variabl set nontermin variabl q polynomi variabl x start polynomi r finit set replac rule i e finit set pair polynomi variabl system gener polynomi definit let delta pr let polynomi variabl x exist p polynomi p x y let reflex transit closur exist polynomi q turn form deriv simplifi definit let abov exist p let reflex transit closur lemma normal form replac pr delta polynomi p proof clearli prove p polynomi p repres henc defin polynomi moreov consequ pr thu gener set polynomi henc defin definit pr fi fi exist p x q set poli polynomi deriv sever set natur number whose complex determin upcom section definit let delta pr defin phi pa phi a pa psi observ also allow neg number coeffici polynomi pr rang decid seen follow robinsonmatiasjev result see mat everi recurs enumer set repres form phi pa n n psi p suitabl nari polynomi integ coeffici let p nari polynomi phi pa psi decid defin pr pa psi besid membership problem poli rang eval also consid correspond variabl membership problem pr p poli pr rang psi represent polynomi equival test want examin complex defin set talk represent polynomi distinguish differ kind represent definit let px polynomi full represent p sumofmonomi form is describ p sequenc vector c e consist nonneg integ c e given unari vector stand monomi c delta extend full represent ef represent short describ p sequenc vector abov time c given binari number e given unari formula represent p describ formula involv variabl x precis set formula variabl x defin induct follow rule a formula b f g formula straightlin program represent slp represent short describ p straightlin program input variabl x comput p phi represent polynomi one type denot polynomi repres phi p phi easi see definit introduc chain represent increas succinct everi represent type i polynomi equival represent type j j comput logarithm space moreov p full ef formula represent size n degre p bound n p slp represent size n degre p exponenti n idea use slp data structur polynomi introduc promot erich kaltofen see eg kal though succinct way repres polynomi compar full ef represent or call spars represent consid literatur seem nonneglig one result paper complex set defin sect differ go one form represent anoth central problem upcom section complex problem determin two represent stand polynomi i e complex equival problem represent polynomi p phi variou type represent similar result give next theorem obtain im theorem equival problem p full ef represent corp formula slp represent proof make instrument use follow wellknown result sch zip see also mr p f proposit schwartzzippel let px polynomi degre field f zero polynomi let f finit set let n chosen independ uniformli random s proof of theorem two polynomi extend full represent equival monomi check polynomi time given two formula f f know degre two repres polynomi linear length f f henc proposit suffic evalu f f random input drawn exponenti number possibl input vector actual evalu formula p final given two slp p p compar abov deal fact degre repres polynomi exponenti henc number oper doubl exponenti therefor cannot carri necessari arithmet oper polynomi time instead proceed follow see also mr p suppos two number differ ja gamma bj n differ prime divisor let m denot number prime smaller equal m henc random prime smaller k n logk n probabl j b mod p n thu two number differ differ modulo small prime henc equival iff input exponenti rang get inequ iff input exponenti rang get inequival modulo small prime sinc set prime number zpp algorithm rp algorithm q differ type replac system definit polynomi replac system present gener here introduc number natur restrict approach similar way differ restrict grammar type introduc eg definit class chomski hierarchi later view problem count proof tree proof circuit two instanc problem restrict pr type simpl polynomi replac system definit pr delta simpl or contextfre polynomi lefthand side rule r variabl fx g definit made preced section gener pr carri special case simpl system howev simpl pr addit defin particular type replac applic rule z q result replac occurr z q latter form denot j contrast notat deriv defin far definit let delta simpl pr exist r let reflex transit closur j set polynomi number deriv simpl system use new deriv type use name use squar bracket instead parenthes definit simpl pr fi fi exist p x q case poli defin definit let delta simpl pr defin phi pa a pa also defin follow variabl membership problem simpl pr p poli simpl pr rang fi fi simpl pr p poli n psi clear simpl pr s poli poli henc also rang rang eval eval polydelta polydelta rangedelta rangedelta evaldelta evaldelta simpl determinist acycl polynomi replac system definit pr said determinist two differ rule r lefthand side definit let pr depend graph g direct graph g consist edg j i exist rule p r x essenti p x j essenti p pr said acycl depend graph g acycl lemma everi simpl determinist pr s exist simpl determinist acycl pr system obtain polynomi time proof let delta simpl determinist pr acycl exist k essenti p r where set nontermin variabl fictiv everi polynomi p q poli howev determinist henc replac would necessarili run along cycl describ rule p nonfict variabl fx g everi p p non fictiv variabl fx g thu essenti variabl p fx repeat cycl remov step long pr still cycl sinc everi step least one nontermin variabl remov get polynomi number step pr simpl determinist acycl q also obtain follow easi properti lemma simpl determinist pr poli set consist one polynomi simpl acycl pr poli poli finit proof simpl determinist without loss gener moreov acycl rule replac everi variabl uniqu polynomi sinc simpl alway replac occurr nontermin variabl sooner later henc result whole deriv process uniqu acycl everi nontermin variabl replac constant number step henc obtain finit mani polynomi q note simpl acycl pr poli poli exampl take xg thu requir determinist necessari lemma remaind subsect relat simpl determinist simpl acycl pr differ form circuit oper natur number first intuit clear connect simpl determinist acycl system straightlin program made precis follow lemma lemma simpl determinist acycl pr poli exist slp p g p slp exist simpl determinist acycl pr fp p poli transform simpl determinist acycl pr correspond slp viceversa comput logarithm space proof program p obtain transform everi singl replac rule sequenc slp instruct order accord topolog order g statement prove similarli statement obviou q next show acycl system strongli relat new type arithmet circuit defin circuit immedi gener integ express introduc stockmey meyer sm therefor call circuit integ circuit not confus ordinari arithmet circuit or refer oper allow thetacircuit integ circuit n input circuit c inner node comput one oper theta circuit c specifi output gate g comput function first defin everi gate g c function f g comput g g input gate x f g a g gate predecessor g l g r f g a l psi function comput theta gate defin analog g gate predecessor g l g r f g a l final function comput c f gs follow relat simpl acycl replac system integ circuit obtain easi induct lemma everi simpl acycl pr delta integ circuit c n input f c psi n n everi integ circuit c n input simpl acycl pr a n n transform simpl acycl pr correspond integ circuit viceversa comput logarithm space consid follow problem phi c integ circuit n input integ circuit n input analog notat use restrict gate type allow follow lemma immedi lemma lemma represent follow hold nmember theta j log evaldelta nrang theta j log rangedelta idempot polynomi replac system definit pr psidelta idempot pr deriv s case simpl determinist acycl resp say idem idempot simpl determinist acycl resp pr pr delta n n write minev a shorthand min pa psi analog use maxev a lemma everi boolean circuit c input x k n exist simpl determinist acycl polynomi replac system minev c cx maxev everi simpl determinist acycl pr idem exist boolean circuit c minev transform idempot simpl determinist acycl pr correspond circuit viceversa comput logarithm space proof arithmet circuit straightlin program two differ view concept henc go circuit c system vice versa exactli lemma clearli simpl determinist acycl system comput cx explain discuss begin sect convert idempot system idem number proof circuit coincid minim element eval delta consequ algorithm given begin sect minim element obtain deriv polynomi rule appli whenev possibl maxim element obtain never pick rule i e use rule s q complex result simpl replac system determinist system section consid complex defin set simpl replac system let us start complex fix membership problem theorem let simpl determinist poli poli pcomplet represent rang rang np fact system problem rang rang npcomplet proof first recal poli poli consist one polynomi p full ef represent p finit mani represent henc complex poli poli trivial howev formula slp represent p may infinit mani represent is face follow problem given slp p the case formula even easier where p fix say p reduc follow hold p instruct form x x j never appear right hand side instruct unless x j output variabl addit x j x instruct p polynomi comput x x k constant zero polynomi otherwis instruct useless for e g x henc comput anyth new might delet instruct instruct use x k instead x j similarli x j requir x x k constant one follow hold everi polynomi p finit mani represent reduc slp except isomorph renumb variabl moreov program p transform reduc form follow induct determin set variabl comput constant zero constant one polynomi remov instruct comput new polynomi chang variabl instruct describ abov show poli poli p hard follow reduct circuit valu problem follow let c boolean circuit let p polynomi give number proof tree c let evalu iff c cvp decid rang multivari polynomi nonneg coeffici clearli np obviou guess algorithm hard proof give reduct quadrat diophantin equat problem problem gj p follow problem consist tripl a b c quadrat equat solut posit integ defin hx now defin variabl polynomi pu v x vy a b c n equat solut x pa b x x ff u v x henc see quadrat diophantin equat problem reduc rang polynomi qu v x ff observ evalu fix polynomi henc result follow sinc addit multipl tc q concern variabl membership problem simpl determinist system obtain theorem simpl determinist pr represent polydelta polydelta corp phard log rangedelta rangedelta npcomplet log evaldelta evaldelta pcomplet log proof contain case given simpl determinist pr s first construct polynomi time slp represent uniqu polynomi p if ani lemma lemma statement follow equival test theorem statement guess suitabl input valu evalu p statement evalu p until finish bound exceed abov hard statement give reduct circuit valu problem cvp follow given circuit c input c produc replac system comput number proof tree c input a simpl determinist see sect hardwir input c directli s result polynomi fictiv variabl i e essenti natur number c accept iff number greater henc proceed abov obtain c a cvp iff constant polynomi poli poli statement follow theorem q acycl system let us next deal simpl acycl necessarili determinist system system set poli poli finit by lemma henc obtain analog theorem theorem let simpl acycl poli poli p represent rang rang np system problem rang rang npcomplet again interest question aris examin variabl membership problem theorem simpl acycl pr represent polydelta contain nphard log rangedelta evaldelta npcomplet log proof contain proof similar theorem appli lemma select nondeterminist determinist pr delet rule origin given pr claim follow sinc hard polydelta proven give logspac manyon reduct sumofsubset problem so problem sp gj p polydelta follow let m b fg defin pr phi phi note acycl simpl poli consist polynomi without essenti variabl c n defin p c obtain b sinc determinist pr by lemma assum acycl hard rangedelta follow theorem next prove hard evaldelta give logspac manyon reduct so problem given m b proof polydelta abov obtain b n n q next turn differ variabl membership problem simpl acycl system deriv stockmey meyer consid integ express in terminolog integ circuit fanout noninput gate oper allow prove membership problem case npcomplet easi see result carri case also allow multipl i e problem nmember nmember theta express npcomplet correspond problem circuit consid paper later paper wagner wag wag under name hierarch descript pspace upper bound known there sinc by lemma member rang problem circuit equival evaldelta rangedelta problem simpl acycl pr conclud theorem simpl acycl pr represent polydelta exptim rangedelta evaldelta pspace idempot system note also case poli poli finit obtain result analog theorem theorem let simpl determinist acycl poli idem meantim learn recent manuscript ke yang circuit problem shown pspacecomplet conclud hard statement theorem rang idem fact system problem rang idem npcomplet eval idem variabl membership problem follow said theorem idempot simpl determinist acycl pr represent proof follow trivial evalu system q lemma show import minim maxim oper case idempot system theorem idempot simpl determinist acycl replac system represent function minevaldelta minevaldelta pcomplet log t reduct function maxevaldelta maxevaldelta fpcomplet p proof immedi consequ lemma theorem lemma q complet note remark simpl determinist simpl acycl pr function minevaldelta fpcomplet proof simpl determinist n obtain lemma lemma slp represent uniqu polynomi p poli if one comput pa henc minimum maximum element comput theorem show function fp hard follow immedi lemma simpl acycl s evalu accord topolog order g minim element obtain everi variabl x consid rule left handsid x whose right hand side minim henc essenti deal determinist system upper bound follow abov case maxim treat similarli hard follow hard problem determinist case q conclus might interest consid complex pc circuit restrict depth circuit construct proof theorem depth simpli melt gate level make depth furthermor easi see depth d circuit outputg problem hard depth circuit outputg next observ problem easi i e fp depth circuit outputg and henc also depth circuit outputg mean complex pc known case depth circuit outputg or equival depth circuit outputg hard see reduc case level stratifi circuit level gate level gate level gate level gate output gate problem turn equival follow problem given natur b polynomi fx im ki delta x ki f g exploit distribut reexpress polynomi sum monomi replac everi x r new polynomi goal comput measur valu i e unari n interest see problem comput perman formul similar way substitut replac everi x r replac everi x r nevertheless clear use idea reduc problem comput perman problem determin complex set rang rang fix case examin equival determin complex rang multivari polynomi nonneg integ coeffici alway npproblem show variabl polynomi degre whose rang np complet improv complex theoret point view obviou open question cours gap lower upper bound theorem close lot interest question pr remain open come back problem pose subsect look multivari rule also seem worthwhil examin besid idempot system pr famili relat variou type arithmet circuit count problem boolean circuit acknowledg grate sven kosub wurzburg thoma thierauf ulm help discuss r make comput count arithmet circuit nineti arithmet new method structur complex theori putat comput intract modern cryptographi probabilist algorithm decid equival straightlin program question concern circuit count class lowlevel complex class greatest common divisor polynomi given straightlin program unambigu circuit random algorithm fast probabilist algorithm verif polynomi ident word problem requir exponenti time tape complex determinist contextfre languag complex enumer reliabl problem circuit definit nondeterminist complex class count auxiliari pushdown automata semiunbound arithmet circuit fast parallel comput polynomi use processor new pebbl game character parallel complex class complex problem concern graph regular complex combinatori problem succinct input repr sentat magic circuit pspacecomplet probabilist algorithm spars polynomi tr