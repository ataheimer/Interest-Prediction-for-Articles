t determin express power constraint a constraint languag power other allow us express larger collect problem paper give precis mean concept express power constraint finit set valu central result paper express power given set constraint type determin certain algebra properti underli relat algebra properti calcul solv particular constraint satisfact problem call indic problem discuss connect express power comput complex show indic problem provid simpl method test tractabl b introduct constraint languag power other allow us express larger collect problem exampl deal applic involv realvalu variabl possibl express numer relationship use arbitrari polynomi equat restrict use linear equat similarli deal applic involv boolean variabl possibl express logic relationship use ternari claus restrict use binari claus cours penalti increas express power gener increas comput complex exampl satisfi problem ternari claus npcomplet wherea satisfiabiliy problem involv binari claus solv polynomi time gener finit constraint satisfact problem arbitrari constraint known npcomplet wherea mani famili restrict constraint identifi give rise tractabl subproblem given applic therefor pay select constraint system suffici express power express desir constraint suffici restrict allow effici solut techniqu paper focu problem finit set possibl valu examin express power given set constraint type may defin central result paper express power given set constraint type determin certain algebra properti correspond relat also show algebra properti calcul solv particular constraint satisfact problem call indic problem final discuss connect express power comput complex show indic problem provid simpl method test tractabl paper organis follow section give basic definit describ gener form algebra closur properti set relat section describ calcul closur properti section establish close link closur properti express power section discuss relationship express power tractabl final summaris result present indic direct futur research definit constraint satisfact problem central notion studi constraint constraint satisfact problem idea relat make extens use follow notat notat set natur number n denot set ntupl element n tupl n rang n denot valu ith coordin posit ti tupl written form ht definit subset n call nari relat d exampl describ four relat use exampl throughout paper relat set tupl element set defin below order manipul combin relat make use follow standard oper relat algebra definit defin follow oper relat ffl let r nari relat set let r mari relat d cartesian product r theta r defin n mari relat ffl let r nari relat set d let n equal select oe ij r defin nari relat oe ffl let r nari relat set d let sequenc indic chosen valu n project r defin kari relat defin finit constraint satisfact problem wide studi artifici intellig commun definit instanc constraint satisfact problem consist ffl finit set variabl ffl finit set valu d ffl set constraint fc g constraint c pair s list variabl length call constraint scope r ari relat d call constraint relat tupl constraint relat r indic allow combin simultan valu variabl correspond scope length tupl call ariti constraint particular unari constraint specifi allow valu singl variabl binari constraint specifi allow combin valu pair variabl notat set relat gamma class constraint satisfact problem instanc constraint relat element gamma denot cspgamma exampl set four relat fr defin exampl one element cspgamma constraint satisfact problem instanc p variabl constraint defin follow ffl set variabl ffl set valu ffl set constraint fc structur problem instanc illustr figur oe ae x x x x x x figur csp instanc defin exampl solut constraint satisfact problem function variabl valu combin valu assign variabl constraint scope allow correspond constraint given problem instanc may wish to ffl decid whether solut exist ffl find one solut exist ffl count number solut ffl find solut task may differ complex import precis version problem tri solv often conveni view solut constraint satisfact problem tupl relat illustr next exampl relat largest relat s project onto constraint scope subset correspond constraint relat exampl solut constraint satisfact problem instanc p defin exampl function set variabl v set valu satisfi constraint four function may express tabular form follow variabl solut solut solut solut set solut may also view relat s ariti four tupl correspond four row tabl express power constraint constraint satisfact problem instanc constraint explicit whilst other gener present implicit constraint instanc cspgamma explicit constraint relat must element gamma may implicit constraint subset variabl correspond relat element gamma implicit constraint result combin effect explicit constraint said deriv explicit constraint defin exactli mean say constraint relat deriv constraint relat meant express power definit relat r deriv set relat gamma equal project set solut constraint satisfact problem instanc cspgamma exampl reconsid set solut constraint satisfact problem instanc p defin exampl describ exampl note binari relat deriv g one way view definit follow relat r ariti r collect r variabl r deriv gamma possibl construct constraint satisfact problem instanc cspgamma impos relat r valu variabl word r deriv precis combin relat gamma use express constraint relat r definit set relat deriv gamma call express power gamma show notion deriv relat correspond precis notion relat may obtain use oper describ definit set relat finit set d relat r deriv gamma r obtain element togeth unari relat use finit sequenc cartesian product equal select project oper proof first need show r project set solut instanc cspgamma r obtain gamma use finit sequenc cartesian product equal select project oper shown set solut constraint satisfact problem instanc obtain perform relat join oper constraint relat see definit instanc cspgamma relat join either element gamma unari relat in case variabl explicit constraint specifi furthermor standard result relat databas theori join oper calcul perform sequenc cartesian product equal select project oper henc r obtain use specifi relat oper convers r obtain gamma fd g use sequenc cartesian product equal select project oper need show r equal project set solut instanc cspgamma establish thi first note that specifi oper straightforward construct associ constraint satisfact problem instanc p cspgamma result oper equal project set solut p the effect equal select oper achiev identifi correspond variabl p combin construct deriv r gamma view result conveni introduc follow notat notat let gamma set relat set d set relat may obtain gamma togeth unari relat use finit sequenc cartesian product equal select project oper denot state set relat gamma precis equal express power gamma defin abov closur properti relat show section set relat gamma determin certain algebra properti gamma order describ properti need consid arbitrari oper set d word arbitrari function k d arbitrari valu k oper may extend oper tupl appli oper coordin posit separ ie pointwis henc oper defin set may use defin oper tupl relat set follow definit let r nari relat set d kari oper d collect k tupl necessarili distinct defin follow use definit defin follow closur properti relat definit let r relat set d kari oper d r said close underomega if not necessarili distinctomega exampl let denot ternari oper return first repeat valu three argument first valu distinct relat r defin exampl close sinc appli oper element r yield element r exampl relat r defin exampl close sinc appli oper last element r yield tupl element posit integ m posit integ m let denot oper ariti return valu ith argument word everi relat r close mi valu i sinc appli mi oper element r simpli return ith one set relat gamma operationomega everi r gamma close omega shall say gamma close underomega next lemma indic properti close oper preserv oper relat describ definit r r relat close underomega oper omega follow relat also close cartesian product r theta r project r r equal select r r proof follow immedi definit relat close oper mani common proper tie introduc follow notat notat let gamma set relat set d set relat close oper gamma close denot gamma calcul closur oper view result present later paper import abl calcul closur oper given set relat section show possibl obtain oper possibl ariti obtain solut singl constraint satisfact problem instanc first note that set relat gamma set d oper gamma close simpli map k d k satisfi certain condit describ definit suggest possibl defin constraint satisfact problem variabl element constraint impos necessari condit ensur solut closur oper motiv idea indic problem defin follow definit let gamma set relat finit set d natur number indic problem gamma order defin constraint satisfact problem instanc ip gamma m ffl set variabl ffl set valu d ffl set constraint fc g r gamma sequenc tupl r constraint c ariti r note set relat gamma set d ip gamma m jdj variabl constraint exampl consid relat r defin exampl indic problem fr g order ipfr g variabl constraint set variabl set constraint indic problem fr g order ipfr g variabl constraint set variabl set constraint exampl consid relat r defin exampl indic problem fr g order ipfr g variabl constraint set variabl set constraint indic problem fr g order ipfr g variabl constraint set variabl set constraint consid relat r r defin exampl indic problem fr order ipfr constraint set variabl set constraint equal union set constraint ipfr defin exampl set constraint ipfr g defin exampl indic problem fr order ipfr constraint set variabl set constraint equal union set constraint ipfr defin exampl set constraint ipfr g defin exampl solut indic problem gamma order k function k d word kari oper d show precis kari oper gamma close theorem set relat gamma set d set solut ip gamma equal set kari oper gamma close proof definit know gamma close kari operationomega ifomega satisfi condit possibl choic r not necessarili distinct definit equival say satisfi constraint ip gamma k result follow exampl consid relat r defin exampl indic problem fr g order defin exampl solut may express tabular form follow variabl solut solut henc theorem fr g close precis two unari oper constant oper valu ident oper indic problem fr g order defin exampl solut may express tabular form follow variabl solut solut solut solut henc theorem fr g close precis four binari oper exampl consid relat r defin exampl indic problem fr g order defin exampl solut may express tabular form follow variabl solut solut solut henc theorem fr g close precis three unari oper indic problem fr g order larg number solut includ oper defin exampl henc fr g close ternari oper well larg number other closur oper express power far defin two set relat associ given set gamma set relat deriv gamma denot set relat share closur oper gamma denot gamma section show two set relat defin differ way actual ident theorem set relat gamma finit set d proof lemma know properti close oper preserv cartesian product project select oper follow immedi obtain revers inclus let relat gamma construct indic problem gamma order m ip gamma m let set solut ip gamma m view relat sinc everi constraint relat ip gamma m element gamma know deriv gamma henc claim r obtain project s henc r also belong give result establish claim let r ariti r let c c j element henc correspond variabl ip gamma m henc coordin posit p j s let s construct tupl equal result appli one solut ip gamma m sequenc tupl belong gamma know r close solut ip gamma m theorem tupl must belong r henc r convers shown exampl everi relat close oper mi m henc theorem mi solut ip gamma m give rise tupl construct definit mi tupl equal henc r henc establish claim combin result lemma shown express power set relat determin correspond set closur oper corollari relat r deriv set relat gamma finit set r close oper gamma close exampl reconsid relat r r defin exampl shown exampl r close oper r close henc corollari r cannot deriv r similarli result given exampl also establish r cannot deriv r express power complex seen express power set relat determin closur oper illustr one applic result examin use obtain inform complex class problem instanc involv given set constraint type decid whether given constraint satisfact problem instanc solut npcomplet gener even constraint restrict binari constraint section shall consid restrict allow constraint relat fix subset possibl relat affect complex decis shall therefor regard cspgamma decis problem question decid instanc exist solut exist algorithm decid everi instanc cspgamma polynomi time shall say gamma tractabl set relat exampl binari inequ relat set d denot defin note cspfd g correspond precis graph jdjcolor problem problem tractabl jdj npcomplet relat r defin exampl equal relat g henc cspgamma npcomplet set relat gamma contain r turn certain special oper play major role distinguish tractabl intract set relat oper essenti unari oper defin follow definit call essenti unari exist nonconst unari oper f rang k f permut thenomega call essenti permut exampl oper mi defin exampl essenti unari oper note constant function exclud definit essenti unari theorem let gamma set relat finit set d everi oper gamma close essenti unari cspgamma npcomplet proof assum gamma close essenti unari oper first note gamma close essenti unari operationomega also close correspond nonconst unari oper f let f unari oper gamma close jf dj minim gammag choic f assumpt gamma follow f gamma close essenti permut oper gamma close constant oper by assumpt know jf dj case consid ffl case jf consid ternari notallequ relat n d ie relat contain tupl valu equal relat n close essenti permut oper d mean n f gamma theorem lemma impli n may deriv f gamma henc cspfng may reduc cspf gamma polynomi time now cspfng equival notallequ satisfi problem known npcomplet follow cspf gamma also npcomplet ffl case jf dj consid binari disequ relat defin exampl relat fd close essenti permut oper d mean fd f gamma theorem lemma impli fd may deriv f gamma henc cspf fd g may reduc cspf gamma polynomi time equival jf djcolor problem known npcomplet jf final instanc cspf gamma solut correspond instanc cspgamma solut gamma close f henc cspf gamma reduc cspgamma polynomi time establish cspgamma also npcomplet assum npcomplet problem polynomialtim algorithm result provid necessari condit tractabl tractabl set relat must close oper essenti unari fact shown current known exampl tractabl constraint type characteris set relat close particular nonunari oper even case origin defin use differ criteria exampl all relat first describ characteris set relat close oper defin exampl second exampl variou set maxclos relat first describ characteris set relat close particular binari associ commut idempot oper may sharpen result theorem littl bound possibl ariti closur oper gamma need consid next result show theorem set relat gamma finit set d gamma close operationomega essenti unari also close oper omega ariti maxf jdjg essenti unari proof thi proof adapt proof lemma let gamma set relat close operationomega essenti unari let omega oper smallest possibl ariti gamma close omega omega essenti unari let k ariti omega k result hold need consid case k consid oper obtain omega identifi two argument ie requir valu sinc gamma close oper lower ariti omega must essenti unari henc identifi first two argument z nonconst unari oper f kg similarli identifi third fourth argument z nonconst unari oper f j kg mean z z possibl choic x impli either f g j f g follow permut order argument omega obtain function phi satisfi ident z nonconst unari oper f particular distinct pair indic know essenti unari function sinc shown case x valu function equal fx know must equal case similarli indic essenti unari function remain argument valu function equal fx argument abov henc must equal fx case argument valu least one argument valu must repeat somewher case shown omega order argument permut contradict fact omega essenti unari mean must k jdj result follow order use theorem draw conclus tractabl set constraint need abl distinguish closur oper essenti unari not definit mean examin solut appropri indic problem check whether valu solut variabl determin singl coordin posit tupl describ variabl oper ariti m check may carri mjdj step altern next result show number solut certain indic problem provid suffici condit establish npcomplet without need examin individu solut detail set relat set d let set nonconst solut ip gamma let sm set solut ip gamma m cspgamma npcomplet proof theorem theorem know either cspgamma np complet gamma close oper essenti unari ariti m theorem sm set mari oper gamma close definit number oper sm essenti unari equal number nonconst unari oper gamma close multipli m theorem number mj j henc js j mj j case limit case js know everi element sm essenti unari gamma close mari oper essenti unari follow gamma close oper ariti lower essenti unari cspgamma must npcomplet corollari establish npcomplet mani set constraint without need individu construct adhoc reduct argument follow exampl illustr exampl consid relat r r defin exampl indic problem fr order defin exampl solu tion correspond ident oper indic problem fr order solut which essenti unari henc npcomplet corollari hand shown exampl r close constant oper cspfr g tractabl proposit fact problem cspfr g solut assign valu variabl class problem trivial furthermor shown exampl r close oper defin exampl henc cspfr g tractabl theorem exampl consid relat r defin exampl count solut indic problem order order relat pair distinct relat set abl complet analysi complex cspgamma possibl subset gamma relat relat solut solut complex corollari corollari corollari larger set relat gamma contain least one pair relat shown tabl cspgamma npcompletehow practic test propos gener small valu jdj relev indic problem variabl solut may found easili remain true even ariti relat gamma larg simplest case constraint satisfact problem correspond classic satisfi problem possibl tractabl set relat known fulli describ nontrivi exampl case set boolean relat express horn claus dual horn claus claus contain two liter linear equat twoelement field shown set relat close oper essenti unari belong one tractabl class henc condit describ corollari necessari suffici npcomplet case assum p equal np follow solv indic problem order order provid simpl complet test tractabl set relat set element provid practic answer question pose schaefer concern exist effici test tractabl gener satisfi problem note carri test requir find number solut constraint satisfact problem boolean variabl size increas size relev indic problem increas rapidli may becom impract comput solut even calcul number solut requir corollari hand case interest may possibl establish known properti constraint relev indic problem particular type solu tion without carri complet solut algorithm question current investig conclus paper shown algebra properti relat use determin express power set possibl constraint type furthermor propos method determin algebra properti solv particular form constraint satisfact problem call indic problem final shown simpl algebra properti distinguish set relat give rise tractabl constraint satisfact problem give rise npcomplet problem use result obtain suffici condit npcomplet shown wide applic easi test problem set possibl valu contain two element result provid necessari suffici condit npcomplet assum p equal np effici test distinguish tractabl set relat investig applic result particular problem type tempor problem involv subset interv algebra also attempt determin presenc particular algebra closur properti constraint may use deriv appropri effici algorithm tractabl problem class acknowledg grate victor dalmau help discuss greatli simplifi proof theorem note sinc finit henc finit mani possibl r ariti may assum without loss gener instanc contain finit number constraint also call implic relat r constraint satisfact deduct viewpoint a relat model data larg share databank character tractabl constraint structur identif relat data a suffici condit backtrackbound search comput intract guid npcomplet decompos constraint satisfact problem use databas techniqu an algebra character tractabl constraint a unifi framework tractabl constraint tractabl constraint order domain fast parallel constraint satisfact on binari constraint problem consist network relat network constraint fundament properti applic pictur process the complex satisfi problem clone univers algebra on minim decompos rowconvex constraint net work a gener arcconsist algorithm special tr ctr peter jeavon david cohen justin pearson constraint univers algebra annal mathemat artifici intellig v n p lane a hemaspaandra sigact news complex theori column acm sigact new v n march richard gault peter jeavon implement test tractabl constraint v n p april peter jonsson andrei krokhin recogn frozen variabl constraint satisfact problem theoret comput scienc v n p decemb david a cohen martin c cooper peter g jeavon andrei a krokhin complex soft constraint satisfact artifici intellig v n p august