t complexityrestrict advic function a author consid uniform subclass nonuniform complex class defin karp lipton lenseign math via notion advic function subclass obtain restrict complex comput correct advic also effect allow advic function limit complex depend input rather input length investig among result use notion describ abov new character a npnpcap spars b np restrict access np oracl c odd level boolean hierarchi given consequ shown everi set nondeterminist truthtabl reduc sat sens rich j comput system sci pp alreadi determinist truthtabl reduc sat furthermor turn np reduct class bound version reduc coincid odd level boolean hierarchi b introduct fundament paper karp lipton introduc notion advic function investig nonuniform complex class denot cf c class set f class advic function typic class ppoli poli set polynomi length bound function interest ppoli stem fact consist exactli languag comput polynomi sizebound circuit intuit set cf solv machin type c get addit input x advic fx f function f depend length x mani research consid nonuniform class function class f defin quantit length restrict poli log see exampl note f nonrecurs function f therefor cf contain nonrecurs languag here consid uniform languag class obtain impos complex bound advic function note kamper investig refin origin cf definit delimit complex proof set ie special abteilung fr theoretisch informatik universitt ulm ober eselsberg dw ulm germani support part daad accion integrada aieeszk abteilung fr theoretisch informatik universitt ulm ober eselsberg dw ulm germani work done part visit univers rochest support part dfg postdoctor stipend th nsf grant ccr daad accion integrada aieeszk set correct advic contrast thi directli bound complex comput correct advic concept abl show character well finer distinct sever complex class exampl show class np npspars coincid class npoptpolog n subclass np log correct advic comput optp function ie one interpret equal state exactli languag np npspars comput follow way input x length n first optpolog n precomput take place get input n logarithm lengthbound output precomput pass along x subsequ np comput decid membership x motiv relativ separ p np baker gill solovay exploit fact np oracl machin ask superpolynomi mani queri book long selman introduc restrict relativ np bound number oracl queri variou way subsequ long investig relationship restrict access nondeterminist machin oracl full access spars oracl set let np r class languag whose membership np wit oracl machin number potenti oracl queri ask oracl polynomi bound definit clear np npspars contain np np r sinc also conp contain np np r np npspars np np r differ unless polynomi hierarchi collaps consid proof equal see let optpolog n advic function depend length input input itself get character np np r lead us defin class cf defin way cf advic function depend input thu obtain follow character np np r character give insight differ restrict access np oracl full access spars np set seem notion cf appropri concept studi differ kind truthtabl reduc let sat k kari characterist function sat then p sat k ffifp class set ktruthtabl reduc np set known class interleav level boolean hierarchi close complement class differ unless boolean hierarchi collaps class set ktruthtabl reduc np set evalu np machin class turn coincid odd level boolean hierarchi give first time charcter level boolean hierarchi term reduct class furthermor show npk ktt np np ktt class set nondeterminist ktruthtabl reduc set np sens wherea unbound case set nondeterminist truthtabl reduc sat alreadi determinist truthtabl reduc sat ie np np tt latter result also hold strong nondeterminist truthtabl reduc sn tt introduc long ie show fa j sn satg paper organ follow section introduc notat give basic definit section prove mention character np npspars np np r show chang optpolog n larger function class fewoptp contain function whose membership optp wit np transduc gener polynomi mani differ output increas power npoptpolog n npoptpolog n section separ complex class relativ world main result separ poptpolog n p npsparseologn section give sever character certain level boolean hierarchi term variou complex restrict advic function class preliminari notat languag consid alphabet g string x sigma jxj denot length assum exist pair function hdelta deltai sigma theta sigma sigma comput polynomi time invers also comput polynomi time hdelta deltai extend encod finit sequenc string string hx set a jaj denot cardin complement sigma gamma denot a n set string length less equal n languag spars polynomi p n number word length n pn let spars class spars languag set talli subset let talli class talli set assum reader familiar nondeterminist polynomialtim bound oracl ture machin complex class see fp class function comput determinist polynomialtim bound ture transduc np transduc nondeterminist polynomialtim bound ture machin everi branch either accept write binari number requir np gener singl valu rich modifi nondeterminist truthtabl reduc origin defin ladner lynch selman output tape reject set output gener input x denot x krentel defin np metric ture machin np transduc accept everi branch np metric ture machin input maximum minimum output gener input x accept comput class optp optim function defin np metric ture machin g class r function natur number call restrict function defin subclass contain optim function f optp length fx binari bound jxj function r denot class set whose membership p np wit oracl machin make r r rn mani queri input length n case r singleton set frg simpli write optpr respect throughout paper assum everi restrict function r function x rjxj comput polynomi time karp lipton introduc notion advic function order defin nonuniform complex class class c set class f function sigma sigma let cf class set set b c function h f x sigma note advic function h depend length x cancel restrict obtain class cf set set b c function h f x sigma definit cf subset cf class set c class function f fulfil condit h f also x h jxj special advic function class consid literatur poli exist polynomi p x jhxj pjxjg log ologjxjg np npspars versu np np r section show np npspars character class npoptpolog n ie class set accept np machin advic logarithm length bound optp function further turn relat class np np r see definit below coincid npoptpolog n latter two class show also equal poptpolog n which result krentel ident p npologn definit oracl ture machin string set oracl queri may ask input x use oracl a ie set string sigma comput input x oracl oracl queri y qmx set oracl queri input x use oracl ie asigma qm a x set a npr a class set l npa whose membership wit machin number potenti oracl queri polynomi bound ie exist polynomi p jqmx aj pjxj x first theorem state languag l accept np oracl machin use np oracl way number potenti oracl queri polynomi bound l npoptpolog n ie membership l test np machin get along input precomput valu optpolog n function special case spars contain strengthen npoptpolog n ie input length advic function yield result proof censu argument similar use hemachandra kadin theorem proof let np machin oracl np let p polynomi bound run time show i let r polynomi jqmx aj rjxj x np machin know size set qmx guess set note problem decid given string x whether qmx np defin function set sinc hx maximum output follow algorithm input x guess k rjxj x hold x sigma x l hx hxi b therefor l npoptpolog n ii let spars r polynomi ja pn j rn n defin function set similar argument proof i x l hx h jxj show l npoptpolog n combin theorem ii result balcazar schone follow everi conp set nplog correct advic alreadi comput optp function corollari nplog show revers contain theorem make use follow lemma state everi optp function h comput determinist polynomialtim oracl machin ask jhxj mani queri np oracl lemma optpr fp npr restrict function r corollari proof theorem remain show inclus right left show i let l npoptpolog n via np machin n optim function h l accept np machin comput determinist binari search valu h accord lemma ask olog n mani queri np oracl simul n without ask oracl queri sinc qmx polynomi bound follow l np np r h function depend length argument hx comput binari search use talli np set g prove ii note proof show everi languag npoptpolog n and thu np np r fact accept np oracl machin qmx polynomi bound next lemma show np comput get along input result hx optp precomput transform p comput precomput one addit bit note bit actual depend x even hx depend length x lemma npoptpr poptpr function r proof let l npoptpr wit np set b optpr function defin optpr function hx otherwis hold x hx set oddg p case prove analog combin corollari i lemma obtain character class np np r closur complement note corollari np np corollari np np r close complement remark result state corollari extend class polynomialtim hierarchi order so defin restrict relativ sigmalevel polynomi hierarchi sigma c kr class set l accept kaltern polynomialtim ture machin use oracl c jqmx aj polynomi bound then result state corollari extend opt c class optim function comput np transduc use oracl class c sinc sigma k opt sigma kgamma olog n includ sharpen recent result sigma sigma k spars remark advic even depend input provid optpolog n function increas power probabilist class follow result toda sinc ppoptpolog n coincid class ppfp npologn see lemma clearli contain pp np r next consid uniform subclass plog ppoli wherea proof corollari ii also yield inclus poptpolog n censu techniqu theorem cannot appli obtain revers contain next theorem prove construct long enough initi segment of spars np set optp comput underli techniqu use mahaney show np npspars p np theorem p npspars poptp proof let machin spars np set s let p r polynomi p bound run time js n j rn sinc hx maximum output follow algorithm input n guess k rpn x now comput use oracl input x simul p machin answer oracl question accord set h jxj let fewoptp class function f optp comput np transduc produc polynomi number differ output clearli optpolog n fewoptp obvious proper inclus howev shown next theorem class npoptpolog n npoptpolog n remain unchang function class optpolog n replac larger class fewoptp theorem proof let l set npfewoptp via np f fewoptp let np metric machin f ie the proof number differ output polynomi bound defin function set easi see h optpolog n b np now x l hx hxi b therefor l npoptpolog latter equal follow corollari part i proof ii analog replac x jxj techniqu use previou proof cannot appli show class poptpolog n pfewoptp equal howev proof poptpolog n p npsparseologn use binari search see proof corollari ii refin show follow theorem state set pfewoptp decid polynomi time queri spars np oracl polynomi often theorem pfewoptp p npspars proof let f fewoptp let np transduc comput f use spars np set oracl fx comput polynomi time determin first jout n j appli prefix search find optimum valu n known relationship languag class consid section summar diagram figur e e phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi phi r phi phi phi phi phi phi phi phi phi phi phi phi fig inclus structur consid complex class thick line indic relativ separ see section relativ separ sinc baker gill solovay separ p np rel oracl relativ import subject complex theori section discuss inclus figur strict least relativ world sinc nonrecurs set ppoli nppoli two class clearli differ recurs class consid here whether strict inclus diagram figur known inclus howev question whether proper link central open problem complex theori exampl result karp lipton sipser see np ppoli impli collaps polynomi hierarchi second level follow ph sigma np contain class left column figur sinc hold relativ world sinc exist oracl separ ph sigma follow rel oracl inclus first second column proper similarli use result kadin conp np npspars impli p npologn sinc easili seen inclus conp npoptp impli state follow theorem theorem ph p np npoptp poptp furthermor recent result toda ph p pp follow beigel construct oracl p np separ p npologn p np for direct proof see cai et al show exist oracl rel boolean hierarchi infinit ie fact cai et al construct oracl way that k talli test languag conp hold everi oracl set b follow l sinc poptpk contain k th level boolean hierarchi result optim clearli boolean hierarchi proper complet set sinc class poptpolog n complet set contain bh relativ world boolean hierarchi infinit ie main result section separ class poptpolog n p npsparseologn fact show fix polynomi q relativ np contain spars set nonuniform class pq defin pfh j jhxj qjxjg theorem everi polynomi q exist set proof arbitrari set defin spars set la np follow given n suitabl choosen function ln partit ln word length ln qn with respect lexicograph order ln qn interv contain word a put word la let w n enumer sigma n lexicograph order let qn defin np set clearli qn word length n a ie la spars construct set stage enumer polynomialtim bound ture machin run time stage g stage choos n minim ns algorithm figur determin word length ln includ a done diagon machin potenti advic input length n let p machin show take advic qlength bound function accept la let index potenti word advic input length n that store advic execut forloop diagon least half possibl advic sinc log becom empti end algorithm construct guarante everi advic a jaj qn exist k qn hw ns ns therefor suffic show algorithm alway find ln queri everi execut forloop everi advic ad set queri ie thu ln nsqn contain potenti advic diagon queri queri freez oracl queri construct k qn w ns jaccj jrejj remain empti ie word acc advic w ns ns els put word ln word rej advic w ns ns choos ln fyg fig algorithm use proof theorem ns choic n corollari np use kolmogorovargu corollari alreadi shown hema chandra immedi consequ corollari exist oracl separ poptpolog n p npsparseologn corollari bound advic versu boolean hierarchi level boolean hierarchi build union boolean closur np ie smallest class set contain np close union intersect com plement section give sever character odd level boolean hierarchi first show np machin get advic valu kari characterist function sat k sat sat k evalu ktupl comput input fp function accept exactli languag k th level boolean hierarchi true advic consist inform mani k word produc given input fp function sat cai et al give sever character boolean hierarchi take follow definit set l kth level npk boolean hierarchi exist set l np even union k npk level boolean hierarchi denot bh set a denot characterist function a k kari characterist function a k give number k word a phi k pariti number ie phi unbound version k k clearli everi set l npk ktruthtabl reduc sat ie l here follow composit oper ffi take preced everi set ktruthtabl reduc sat npk see also thu sinc p sat close complement class differ unless bh and therefor ph collaps interest note p machin need know pariti number k queri sat order decid set p sat show next theorem first equal also hold nondeterminist counterpart class furthermor coincid th level boolean hierarchi sinc easili seen np phi sat contain p sat replac p np k second equal unless bh thu ph collaps open question whether also class np phi sat k ffifp character level boolean hierarchi denot bitwis order string length ie theorem proof let l npk exist set l defin function let set defin exist fi j x l g j k hold x l a see thi observ exactli one set fi j x l g cardin fx name g therefor l np sat clear np sat remain show adapt proof techniqu use buss hay let l np sat exist set np function f fp x l hx sat consid np set k fx hx ai ag easi see bm bm bm furthermor ag latter equal follow fact x bm gamma bm one string sigma k contain s fulfil sat name k fx therefor x l x hemachandra see also buss hay shown class coincid slight modif proof get follow corollari yield character p npologn corollari p sat beigel show fp theorem follow theorem follow equat remain valid p replac np theorem restat observ sat complet optpk theorem corollari np ladner lynch selman transform recurs theoret truthtabl reduc complex theori also give definit nondeterminist truthtabl reduct follow way nondeterminist truthtabl reduc b exist np transduc g the gener np machin e the evalu everi x exist branch gx yield output accept known definit equival nondeterminist ture reduc therefor lead new reduc notion modifi definit restrict gener g singlevalu np transduc ie output must everi accept branch let npsv set function comput singlevalu np transduc reduc first appear there denot npunifal explicit call nondeterminist truthtabl reduc book ko subsequ book tang rich introduc follow terminolog definit set nondeterminist truthtabl reduc b nondeterminist ktruthtabl reduc b npsv class c set let np c class fa j b tt bg set np tt reduc set c let np c ktt bg shown exist recurs set b np np tt b mean np tt properli stronger np question tt properli stronger np tt equival p np problem howev see corollari everi set nondeterminist truthtabl reduc npcomplet set b also determinist truthtabl reduc b ie np thu surpris result definit nondeterminist truthtabl reduct weak definit rich seem strong yield new reduct class fl j l p tt satg satg consequ theorem get character odd level boolean hierarchi term nondeterminist ktruthtabl reduc notion theorem proof see i let f npsv defin np set proof ii defin np set observ sat fx read b answer parallel queri polynomi bound run time np transduc comput f corollari ktt k tt remark book tang especi consid olog n bound version np log ntt nondeterminist truthtabl reduct obtain logarithm bound number queri produc npsv gener follow appropri modifi version of theorem corollari lemma log log class also consid wagner there denot p np olog n show coincid class languag fulltrutht reduc sat consequ follow np log ntt sat full truthtabl reduc sat remark book tang gener nondeterminist truthtabl reduc sigma k truthtabl reduc give gener evalu access sigma kgamma oracl sigma k truthtabl reduc b class c set let sigma c ktt class fa j b bg corollari ii gener ie everi set sigma k truthtabl reduc set sigma k alreadi determini stical truthtabl reduc set sigma k set fulltrutht reduc set b function g fp x gx form ha m hold x number whose binari represent given b thierauf show allow gener nondeterminist truthtabl reduct produc polynomi mani differ output ie comput nppv function increas class set reduc sat theorem let l set g nppv transduc e np set l p np tt end section prove also strong nondeterminist truthtabl reduc introduc long appli sat power tt like definit ladner lynch selman gener strong nondeterminist truthtabl reduct produc exponenti mani differ output evalu either accept output reject them definit strong nondeterminist truthtabl reduc b b np transduc g p machin e x set g x nonempti hy x class set c denot sn c tt class fa j b bg clearli sn tt lie strength p tt np long show sn properli stronger np construct two set b sn np b question whether p tt properli stronger sn tt close relat two major open question complex theori theorem sn np tt proof let l sn np tt via gener g evalu e set np order decid membership given input x suffic find whether output hy gx e accept hx i becom np problem provid maximum number answer output hy gx given along input x precis defin function let b set defin hold x x l hx hxi b ie l npoptpolog note proof theorem remain true evalu e allow np machin acknowledg help convers suggest work grate v arvind l hemachandra u schone also thank two refere valuabl suggest r polynomi ters set relativ p nondeterminist wit nonuniform advic structur complex i bound queri sat boolean hierarchi probabilist polynomi time close pariti reduct set truthtabl reduc spars set quantit relativ complex class character polynomi complex class redu cibil note spars set polynomialtim hierarchi truthtabl reduc sat altern journal associ comput machineri comput time np set differ densi tie strong exponenti hierarchi collaps person commun polynomi time hierarchi collaps boolean hierarchi collaps p np spars turingcomplet set np ture machin take advic relativ polynomi time hierarchi exactli k level complex optim problem comparison polynomialtim redu cibil strong nondeterminist polynomialtim reduc restrict size oracl compar restrict access oracl spars complet set np solut conjectur berman hartmani simultan resourc bound posit relatv p polynomi time hierarchi pp hard polynomialtim hierarchi restrict relativ probabilist polynomi time restrict access nporacl bound queri comput boolean closur np tr ctr richard chang bound queri approxim boolean hierarchi inform comput v n p septemb