t autom systemat test constraintbas interact servic a constraintbas languag express concis way complex logic new gener interact servic applic bank stock trade must support multipl type interfac access data includ automat speechrecognit interfac input may provid order user servic studi paper systemat test eventdriven applic develop use languag show applic test automat without need manuallywritten test case effici take advantag capabl take unord set event input b introduct today becom commonplac modern interact servic person bank stock trade one interfac access data exampl mani bank allow custom access person bank servic autom teller machin bankbi phone interfac webbas interfac furthermor telephonebas servic start support automat speech recognit natur languag understand ad flexibl interact user multipl interfac provid servic duplic seriou problem may differ servic logic ie code defin essenc servic everi differ user interfac servic moreov support natur languag interfac servic must allow user consider flexibl way input servic request thu desir program idiom method servic provid follow capabl allow request phrase variou way eg need inform provid order prompt miss inform correct erron inform lookahead to allow user speak sever command onc backtrack earlier point servic logic constraintbas languag for foundat overview see provid suitabl paradigm support requir flexibl user input exampl languag dialogu manag includ method base frame form approach base andor tree sisl sever interfac singl logic power express constraintbas languag allow construct succinct program complex reactiv behavior motiv need reliabl yet costeffect test techniqu tool suitabl check correct businesscrit applic develop use languag studi paper automat effici check tempor properti program written constraintbas languag interact servic first present nondeterminist algorithm systemat test logic program constraintbas languag possibl use arbitrari host languag code potenti elabor access extern data such databas lookup full program make use classic constraint satisfact model check techniqu problemat consequ algorithm assum usual done test user specifi fix set possibl data valu user input algorithm dynam detect runtim set input event applic current readi accept use inform drive execut applic send input select nondet minist use conjunct systemat statespac explor tool verisoft support special system call call vs toss simul nondetermin nondeterminist test driver systemat gener possibl behavior program behavior monitor check userspecifi safeti properti algorithm thu elimin need manuallywritten test case automat applic program test techniqu made possibl structur interfac eventdriven constraintbas program provid environ unfortun express constraintbas languag make algorithm quit ineffici instanc servic await input user in particular order differ path collect input howev flip side abil accept unord set input provid order inabl constraint languag observ alli distinguish permut unord set input thu gener sequenc alway necessari check tempor properti consid second algorithm make systemat test significantli effici exploit observ take advantag form symmetri induc constraint abil specifi set input event rather singl event basic problem idea discuss work common determinist constraintbas languag domain interest concret present context sisl languag mention earlier sisl includ determinist constraintbas domainspecif languag develop eventdriven reactiv servic implement librari java sisl support develop servic share multipl user interfac includ automat speech recognit base textbas natur languag understand telephon voic access web graphic base interfac sisl current use prototyp new gener call process servic lucent technolog switch product paper organ follow next section describ sisl languag formal semant then present algorithm automat effici check safeti properti sisl program algorithm implement implement issu discuss section simpl exampl sisl applic present section result experi exampl discuss final present conclud remark compar result relat work sisl sever interfac singl overview sisl sisl applic consist singl servic logic togeth multipl user interfac servic logic interfac commun via event user interfac collect inform user send servic logic form event servic logic react event report user interfac set enabl event ie set event readi accept current state user interfac util inform appropri prompt user user interfac perform function use conjunct sisl servic logic exampl context interact natur languag servic brows display organiz data corpor databas sisl may inform naturallanguag interfac accept organ eg user said show size organ interfac may prompt user eg say what organ want see user respond someth naturallanguag interfac recogn organ interfac gener sisl event indic organ detect event process sisl servic logic sisl servic logic applic specifi reactiv constraint graph direct graph enrich structur node travers reactiv constraint graph driven recept event environ event associ label the event name may carri associ data respons graph travers node execut action reaction graph end need wait next event sent environ predic event play import role reactiv constraint graph par ticular node may contain order set predic indic conjunct inform receiv user upon receipt appropri event predic current node evalu order satisfact predic node trigger node chang graph may violat predic reactiv constraint graph implement java librari import aspect reactiv constraint graph node may associ action consist arbitrari java code execut upon entri intoexit node action henc side effect local global variabl java program extern databas note individu predic action associ them sisl process algebra section describ process algebra succinctli describ sisl program event begin descript event use process algebra set input label set valu v carri label label associ valu call event write e rang i v signatur subset use signatur jj size predic signatur boolean valu function v jj bool is map everi set fa vja ftrue falseg signatur predic sometim written syntax term process algebra follow abstract where viol denot process sequenti composit viol constraint refer p viol target node predic inform dynam semant process combin follow intuit mean sequenti composit standard mean p execut first p execut termin choic function like prefix process alg bra process wait event label s data v term correspond choic node reactiv constraint graph repres disjunct event receiv user everi event set sisl servic logic automat send correspond prompt user choic node wait user send event specifi set event arriv correspond transit taken control transfer child node ensur determin sisl program event a must distinct next viol n constraint combin interest dynam behavior term correspond constraint node reactiv constraint graph associ order set predic event intuit constraint node await event thu node repres conjunct inform receiv user event sent constraint node order control reach constraint node sisl servic logic automat send prompt event everi event still need order evalu predic addit automat send option prompt event mention predic correspond inform correct user everi round interact constraint node wait user send event mention associ predic predic associ constraint node evalu order soon event arriv event resent user interfac ie inform correct predic event signatur reevalu order two way exit constraint node predic evalu satisfi case control transfer p next predic nonnul p viol evalu fals predic j j evalu true is predic first predic order fals viol nonnul case control transfer p viol mention earlier node chang may caus sideeffect action execut howev evalu satisfact violat individu predic caus side effect occur node chang describ abov sisl state machin semant describ associ space state machin associ sisl describ semant sisl process state machin state machin sisl semant tupl i set input label set state uniqu start state f set final state transit relat i v determinist ie given state event e one s e transit relat case write e final state outgo transit construct describ denot sisl combin construct state machin section use p perhap supersubscript rang member given class state machin state machin correspond null singl state start state final state transit sequenti composit describ standard fashion assumpt final state arc final state p redirect uniqu start state p p p formal sequenti composit state machin state machin choic describ build state machin ad new start state transit label start state state machin p formal given state machin p result state machin p i new state constraint viol set intermedi state sisl program goe collect event k determin partial map f intuit domain partial function f written domf indic label data receiv intuit clear inform still requir satisfi requir constraint node given transit enabl state label undefinedg furthermor start state given partial map empti domain sinc inform receiv ident label f consist f predic domf includ f inconsist otherwis ie predic domf includ f complet domf k incomplet otherwis four combin two paramet possibl formal set state partial map f either inconsist incomplet let transit relat state defin follow a v consist complet map transit label a v state label f p next is p next target transit make inform contain state complet consist fashion a v inconsist map first falsifi g p viol null arc label a v state label f start state p viol is caus predic violat nonnul target node caus control move node transit label a v state label f state label g consist incomplet g inconsist p viol null first predic order falsifi g is predic violat predic null target node violat control remain constraint node transit label a v add chang inform label state chang inform call overwrit event a v overwrit event caus transit state f domf start state given partial map empti domain final state given union final state p next nonnul p viol s formal given state machin p next nonnul p result state machin partial map empti domain follow write target refer target node predic automat test sisl program section show sisl program automat systemat test violat safeti properti use nondeterminist test algorithm use conjunct systemat statespac explor tool verisoft support special system call vs toss simul nondetermin nondeterminist test algorithm systemat drive execut sisl applic test order exhibit possibl behavior safeti properti repres prefixclos finit automata finit word assum represent ap defin safeti properti lp set finit word accept finit automaton ap let alphabet ap construct contain set input event state machin repres sisl program test call input event observ event let w jo denot project word w set definit let state machin defin semant sisl program defin previou section which therefor omit let w denot execut goe state state receiv finit sequenc w event includ overwrit event let denot set observ event defin set observ behavior languag lo m finit word lo jo g word set observ behavior sisl program respect set observ event defin set finit sequenc observ event sisl program take input exclud overwrit event technic conveni effici reason deliber ignor overwrit event definit sinc occurr artifact userinterfac system affect transit node node henc logic sisl program problem address work thu check automat effici lo m lp naiv solut problem consist drive execut sisl program test driver nondeterminist send enabl input event associ valid data valu whenev readi take new input execut nondeterminist test driver control verisoft check lo m lp done monitor possibl execut conjunct test driver check observ behavior accept ap howev naiv approach would gener state space typic larg would render analysi intract instanc input event take bit integ argument would immedi gener branch point branch clearli data valu caus unaccept state explos case constraint node instanc one could think analysi predic associ node use constraint satisfact techniqu might use gener automat data valu howev approach problemat context sinc predic sisl program implement arbitrari java code quit elabor may involv access extern data for instanc evalu predic may involv databas lookup fetch test provis data subscrib servic also evalu predic set input data valu may chang time when evalu predic may depend data previous modifi current execut close automat open reactiv java program gener environ interest hard problem beyond scope present work therefor simpli assum here usual done test user specifi fix set valuesa possibl data valu input event whenev event provid input sisl program test data valu v valuesa chosen nondeterminist test driver pass argument event sisl servic given set v set valuesa data valu defin restrict v follow definit let state machin defin semant sisl program defin previou section let v complet valuat function associ input event finit nonempti set valuesa data valu call restrict v state machin ag restrict v thu set state sisl program repres reach data valu associ input event taken v exclus note that sinc sisl program determinist successor state reach receiv input event av state alway uniqu remaind section discuss restrict version origin problem name check automat effici lo mv lp instead lo m lp simpl algorithm check whether lo mv lp present figur reach state algorithm nondeterminist select enabl input event step b data valu v valuesa step c send av sisl program test step d nondetermin simul special oper vs toss support verisoft oper take argument posit integ n return integ n oper nondeterminist execut transit start vs tossn may yield n differ successor state correspond differ valu return vs toss execut nondeterminist nontermin test driver algorithm control verisoft verisoft provid valu return call vs toss order systemat explor possibl also forc termin everi execut certain depth reach maximum depth specifi user via one sever paramet user set control statespac search perform verisoft measur number call vs toss execut far current run algorithm check lo mv lp done follow whenev event av sent sisl servic ssv test automaton ap repres properti p evalu av o automaton may move reach new state con struction ap reach nonaccept state mean properti p violat error report search stop last scenario execut save memori replay later user verisoft simul algorithm figur gener possibl sequenc input event and associ data valu taken input sisl program rest section show gener sequenc actual necessari check type safeti properti consid here precis show initi sisl servic ssv loop forev a let e set nonoverwrit event enabl current state s b let vs tossjej let th element e c let j vs tossjvaluesaj let v j th element valuesa d send av ssv figur simpl algorithm algorithm figur optim gener possibl sequenc input event enabl constraint node provid event observ exampl let p sisl program let predic signatur given let o set observ event empti interleav unobserv input event drive system successor node constraint node void effect properti check so need gener these cons quentli test constraint node requir gener one sequenc input event rather sequenc gener naiv algorithm hand test constraint node requir gener sequenc gener naiv algorithm observ exploit algorithm figur algorithm behav previou one except case constraint node case step c algorithm start step cii nondeterminist choos data valu va associ input event enabl constraint node step ciii evalu success predic constraint node predic violat select set data valu va e ad set mark violat predic unless exist anoth predic j previous ad mark whose signatur j contain signatur whose signatur contain set observ event step ciiia select set data valu satisfi predic node step civ one violat predic set mark target null nondeterminist chosen input event signatur select set event provid sisl program step cive otherwis predic satisfi set set enabl input event enabl node step cv then unobserv input event set if ani sent sisl program step cvi final remain henc observ input event sent sisl program one one random order pick nondeterminist among set possibl interleav event step cvii correct algorithm figur prove show weak bisimul node reach execut algorithm node mv restrict v turn guarante observ behavior mv observ nondeterminist execut algorithm figur let node current node sisl program state s write n w denot exist sequenc nonoverwrit input event w w jo node n n travers transit theorem let restrict state machin defin semant sisl program valuat function v let state machin defin set repres set state transit perform sisl program test algorithm figur then reachabl state mv n w n w mv proof sketch proof immedi n constraint node consid case n constraint node let reachabl state mv simplifi present assum first state reach enter node n visit n other case treat similar way let us show everi node transit n w mv match node transit n w the convers immedi exist sequenc nonoverwrit input event w w jo node n n travers transit simplic assum denot first state reach enter node n execut w s again case treat similar way n node pnext reach predic n sat isfi set fva ja w g data valu associ input event provid execut w state satisfi predic n thu exist execut algorithm figur select set data valu step cii case none predic node n mark algorithm select input event w sent sisl program step cv exist one execut algorithm send observ event w order w step cvii otherwis n nonnul target node target reach predic n violat mean set fva ja data valu associ input event provid execut w state violat predic sinc reachabl also mean predic violat other wise target j would reach instead target execut w s exist execut algorithm figur select step cii set data valu fva ja initi sisl servic ssv loop forev a let e set nonoverwrit event enabl current state s b current node ssv constraint node let th element e ii let j vs tossjvaluesaj let v j th element valuesa iii send av ssv c current node ssv constraint node sequenc predic associ constraint node ii loop event e in order a let j vs tossjvaluesaj let va j th element valuesa iii loop in a violat data valu fva ja eg mark impli add set mark iv jmarkedj a remov mark target b c let vs tossjmarkedj d let th element mark v els a let vi s n o send ava ssv vii loop s a let vs tossj oj let th element o b send ava ssv c remov event set s figur optim algorithm g set data valu violat predic ad set mark step ciii algorithm unless exist anoth violat predic j j i previous ad mark target case violat predic also lead node n via sequenc w input event w jo case predic whose violat lead n via sequenc w event w jo w ad mark predic select step civ algo rithm event signatur which includ event w sent sisl program exist one execut algorithm send observ event w order w step cvii immedi corollari theorem observ behavior mv gener algorithm figur thu use check whether lo mv lp also prove optim constraint node perform step c algorithm figur optim follow sens theorem let defin theorem let reachabl state mv constraint node given set fva ja eg data valu associ input event enabl node enter n w exist exactli one transit n w proof sketch contradict assum exist two transit n w impli exist two predic j n violat set fva ja eg data valu whose signatur includ other target transit label w wg therefor condit step ciiia algorithm figur j cannot ad set mark henc algorithm cannot visit node n twice execut two differ sequenc event w w w jo jo implement issu automat systemat test sisl program violat safeti properti use algorithm present previou section integr verisoft sisl verisoft tool systemat explor state space system compos sever concurr process execut arbitrari code written languag state space system direct graph repres combin behavior compon system path graph correspond sequenc oper scenario observ execut system verisoft systemat explor state space system control observ execut compon reiniti execut verisoft drive execut whole system intercept suspend resum execut specif oper system call execut implement test exampl oper intercept verisoft oper commun object eg send receiv messag vs tossn oper mention earlier simul nondetermin introduc branch point n branch state space whenev execut verisoft alway guarante complet coverag state space depth word possibl execut system depth guarante cover sinc verisoft typic gener execut evalu thousand test per minut quickli reveal behavior virtual imposs detect use convent test techniqu detail statespac explor techniqu use verisoft given verisoft appli success analyz sever softwar product develop lucent technolog telephoneswitch applic implement network protocol eg see order use verisoft control execut nondeterminist algorithm section built verisoft interfac sisl interfac provid necessari inform request algorithm previou section such current set enabl input event etc algorithm implement straightforward manner java call extern oper vs toss perform use java nativ interfac verisoft control execut result singl process form combin sisl applic test nondeterminist test driver intercept call vs toss provid valu return call creat destroy java virtual machin reiniti program test safeti properti use specificationbas test packag triveni framework eventdriven concurr program java implement use standard algorithm translat given safeti formula proposit lineartim tempor logic formula finitest automaton whose languag set finit event sequenc violat formula exampl experi consid tabl describ interact bank servic call teller motiv sisl implement servic describ transfer fund detail transfer capabl establish number constraint among three input event sourc account target account transfer amount requir make specifi sourc target account must valid account previous given loginpin dollar amount must greater zero less equal balanc sourc account must possibl transfer money sourc target account constraint captur minimum requir input transfer transact proceed perhap import constraint specifi exampl specifi order three input user repeatedli enter incorrect inform figur depict sisl servic logic teller specifi reactiv constraint graph use constraint node describ requir transfer capabl deposit capabl withdraw capabl particular constraint node transact type order enter servic user must first provid startservic event eg dial servic go web page depict figur user must success log valid login pin combi nation sinc login pin may provid either order constraint node express requir expositori simplic iti assum login pin must ident login success user success log in servic provid choic among differ transact type starttransf event provid exampl control flow transfer constraint node user prompt sourc ac count target account amount order user provid sourc account amount greater balanc sourc account exampl constraint amt bal ancesrc violat sinc explicit failur target node specifi control flow remain current node user provid consist inform account amount transfer perform control revert back choic node transact type selfloop annot ha quit choic node indic subgraph node repeatedli execut precondit becom fals ie user quit servic tempor properti interest teller includ servic accept sourc account current transact type either withdraw transfer servic accept target account current transact type either deposit transfer servic begin deposit transact user given login pin past quit servic properti describ english equival formula proposit lineartim tempor logic terminol ogi set observ event analyz properti set event occur correspond formula ex ampl set observ event anali first properti fsrcstartwithdraw startdeposit starttransferg particular refer last transact type necessit startd posit event occur correspond formula implement two valid account check save transfer permit account differ ie check save viceversa money market account consid valid account exampl initi balanc account zero hasquit variabl set fals implement portion teller consist approxim line text markup languag automat translat sisl toolset approxim line java code current applet html automat speech recognit voicexml interfac line share servic logic result experi evalu approach compar effici algorithm present section perform systemat statespac explor teller servic teller interact bank servic servic login protect custom must authent enter identifi login pin password access function custom may mani money account function requir custom select account involv authent custom may make deposit make withdraw servic make sure custom enough money account withdraw specifi amount transfer fund account servic prompt custom select sourc target account transfer amount perform transfer custom enough money sourc account transfer permit two account quit servic tabl highlevel descript teller loginpin isvalidsrc amt balancesrc withdraw notifi deposit notifi isvalidsrc amt balancesrc transfer notifi startwithdraw startdeposit starttransf choic node hasquitfals userquit figur reactiv constraint graph teller first select follow data associ event name pin event assign two name set fjohn maryg src tgt amt event assign three type set fcheck save moneymarketg amt event assign valu set f g analysi first test follow tempor prop erti servic accept target account current transact type deposit set observ event properti ftgt startdeposit startwithdraw starttransferg expect algorithm report violat trace current transact type transfer target account accept ran set experi set observ event empti order measur effici algo rithm actual test uncaught runtim except sisl java program along path certain depth measur number event sent servic logic ran test success time increas maximum depth path explor result summar figur plot left depict number path explor algorithm maximum depth path explor plot right depict run time algorithm second maximum depth path explor interest observ made experiment data first expect run time algorithm proport number path explor second consid rate number path run time increas respect maximum path depth rate significantli less optim algorithm import observ experiment data maximum depth optim algorithm explor number path henc run time phenomenon occur optim algorithm perform bulk work upon entri constraint node especi true case empti set observ event case work done optim algorithm upon entri constraint node exampl teller path depth consist startservic event follow consist name pin event either order follow transact type depth control enter one transact constraint node optim algorithm perform work choos event data comput mark predic choos mark predic upon entri node mere send correspond event fix order henc set path explor ident depth run time except extrem minor activ send addit event similar phenomenon occur depth result show even small exampl teller optim algorithm provid signific improv effici exampl depth simpl algorithm take one half hour complet optim algorithm take eleven minut henc latter use effici systemat test much complic servic simpl simpl optim figur experiment result number path explor left run time second right vs path depth conclud remark sisl applic current use sisl sever project involv multimod interact servic exampl sisl use prototyp new gener call process servic lucent technolog switch product part researchdevelop collabor develop call process featur may form basi new product offer servic logic featur expect quit complex need test thoroughli plan use techniqu tool present paper test applic also plan test two sisl applic develop lucent technolog interact servic base system visual explor analysi data collabor applic user may interact system rich collect devic relat work conclud comparison approach relat work combin open reactiv system gener environ relat idea hide set visibl action process process calculu close automat open reactiv eventdriven program systemat test modelcheck purpos studi sequenti datadriven program numer algorithm also propos automat gener set input data suffici exercis test possibl path controlflow graph program instanc previou work make extens use static analysi techniqu eg automat extract inform dynam behavior sequenti program examin text contrast algorithm present dynam detect runtim set input event applic test current readi accept use inform drive execut without use static analysi techniqu make algorithm directli applic host languag java perl script etc environ includ extern databas etc observ exploit second algorithm name interleav input event constrain node sometim effect overal behavior system somewhat similar intuit behind partialord reduct algorithm use modelcheck prune state space concurr system eg see major differ algorithm exploit notion independ commut action execut interact concurr process contrast constraintbas program pure sequenti reduct obtain deriv directli structur program take advantag form symmetri induc constraint node abil specifi set input event rather singl event anoth exampl program languag construct induc symmetri exploit verif sy temat test scalarset r develop principl dialogbas interfac compil principl recogn safeti live sisl sever interfac abstract interpret unifi lattic model static analysi program construct approxim fixpoint model check program languag use verisoft model check without model analysi heartbeat monitor telephon switch use verisoft commun sequenti process better verif symmetri speech interfac form www constraint logic program commun concurr program flow analysi theori applic concurr constraint program automatatheoret approach automat program verif event driven model dialogu system tr commun sequenti process compil principl techniqu tool constraint logic program commun concurr concurr constraint program model check program languag use verisoft model check without model automat close open reactiv program filterbas model check partial system abstract interpret partialord method verif concurr system program flow analysi better verif symmetri design implement triveni ctr jean berstel stefano crespi reghizzi gill roussel pierluigi san pietro scalabl formal method design automat check user interfac proceed rd intern confer softwar engin p may toronto ontario canada jean berstel stefano crespi reghizzi gill roussel pierluigi san pietro scalabl formal method design automat check user interfac acm transact softwar engin methodolog tosem v n p april patric godefroid softwar model check verisoft approach formal method system design v n p march