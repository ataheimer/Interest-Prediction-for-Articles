t use redund find error a paper explor idea redund oper like type error commonli flag correct error experiment test idea write appli four redund checker linux oper system find mani error use error demonstr redund even harmless strongli correl presenc tradit hard error eg null pointer derefer unreleas lock final show flag redund oper give way make specif fail stop bydetect danger omiss b introduct program languag long use fact mani highlevel conceptu error map lowlevel type error paper demonstr map diver direct mani highlevel conceptu error also map lowlevel redund oper except styliz case programm gener attempt perform use work perform action believ serv purpos spuriou oper violat belief like error exampl imposs boolean condit signal mistaken express critic section without share state signal use wrong variabl written read signal unintent lost result least condit signal conceptu confus would also expect correl hard error deadlock null pointer derefer etc even harmless redund use redund find error three way write checker automat flag redund use error predict nonredund error such null pointer derefer use redund find incomplet program specif discuss below wrote four checker flag potenti danger redund idempot oper assign permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copi bear notic full citat first page copi otherwis republish post server redistribut list requir prior specif permiss andor fee sigsoft fse novemb charleston sc usa never read dead code condit branch never taken error found would larg miss tradit type system checker exampl section show assign variabl signal mistak yet assign type check languag know of cours legitim action caus redund defens program may introduc unnecessari oper robust debug code assert check imposs condit abstract boundari may forc duplic calcul thu evect find error checker must separ redund induc error wrote redund checker xgcc extens compil system make easi build systemspecif static analys analys depend extens compil make easier prototyp perform focus suppress fals posit class evalu evect flag redund oper find danger error appli four checker linux oper system good test sinc linux larg widelyus sourc code base we check roughli million line it such serv known experiment base also written mani peopl repres mani diver code style abil expect redund even harmless strongli correl hard error rel uncontroversi hypothesi confus incompet programm tend make mistak experiment test hypothesi take larg databas hard linux error found prior work measur well redund predict error compar chanc test file redund error roughli like hard error compar file drawn chanc diver hold across diver type redund final discuss tradit check approach base annot specif use redund check safeti net find miss annot incomplet specif specif mistak commonli map redund oper exampl assum specif bind share variabl lock miss bind like lead redund critic section share state lock protect variabl flag omiss know everi lock protect share variabl everi critic section contain share state paper make four contribut idea redund oper like type error commonli flag correct error experiment valid idea write appli four redund checker real code error found often surpris us demonstr redund even harmless strongli correl presenc tradit hard error show redund give way make specif fail stop detect danger omiss main caveat approach error count might error sinc examin code write counter thi diagnos error reason sure about close two year experi linux bug reason confid fals posit rate bug diagnos nonzero probabl less section section present four checker section correl error found tradit hard error section discuss check complet use redund section discuss relat work final section conclud idempot oper system bug minor fals tabl bug found idempot checker linux version ac checker section flag idempot oper variabl is assign x x bitwis ord x x bitwis andd x x checker simplest paper it requir line code system even so found sever interest case redund signal highlevel error four appar typo variabl assign clearest exampl follow code programm make mistak copi structur sa structur da netappletalkaarpcaarp_rcv els need make copi entri good exampl redund error catch case type system miss code assign variabl type check languag know of yet clearli contain error two error caus integ overflow ore bit variabl constant bit set upper bit final one caus appar miss convers routin code seem test machin convers unnecessari prevent tester notic miss routin minor error oper seem follow nonsens consist code pattern ad variabl typograph symmetri nonzero addit curious three fals posit annot comment explain redund oper done give evid belief programm regard redund oper somewhat unusu macro main sourc potenti fals posit repres logic action may map concret action exampl network code contain mani call form use reorder byte variabl x canon network order machin receiv data unpack appropri howev machin data alreadi network order macro expand noth result code simpli assign x itself suppress fals posit modifi preprocessor note line contain macro simpli ignor error line redund assign system bug fals uninspect linux ac tabl bug found redund assign checker linux version ac xgcc system use paper uninspect error variabl assign never use linux expect larg number actual error given low number fals posit inspect result checker section flag case valu assign variabl subsequ use checker track lifetim variabl use simpl global anali si assign follow variabl forward path emit error messag variabl read path either exit scope assign anoth valu show mani case lost valu signal real error control flow follow unexpect path result comput return etc checker find thousand redund assign system size linux sinc evect minim chanc fals posit radic restrict variabl would follow nonglob variabl alias way checker code deal diverenti error three class rank follow order variabl assign valu read empir error tend seriou sinc flag unintent lost result variabl assign nonconst overwritten without read also commonli er ror tend less sever fals posit class tend come assign return valu function call dummi variabl ignor variabl assign constant reassign valu without read frequent due defens program programm alway initi variabl safe valu most com monli null xffffffff read use track valu emit report error messag use common defens valu easili suppress suppress fals posit mani redund checker macro defens program caus fals posit minim impact macro checker track variabl kill produc macro main remain vulner valu assign pass debug macro turn ov typic small number macro manual turn back on use rank minim impact defens pro gram redund oper error done within span line robust program practic separ thu rank error base line distanc assign reassign number condit path close error like farther error becom arguabl defens program error checker found error checker written combin two interest error pattern show redund as signment variabl whose valu unintent discard variabl whose valu use surpris control flow eg unexpect return figur show repres exampl first pat tern here function signal pend return true a signal pend current process error code set code break enclos loop valu err must pass back call applic retri system call howev code alway return caller matter happen insid loop lead insidi error code usual work but occasion abort return success code caus client assum oper happen numer similar error caller side result function assign variabl ignor rather check case fact logic code contain error readili flag look variabl assign use second class error come calcul abort unexpect control flow figur give one ex ampl path loop end return wrongli abort loop singl iter error caught fact assign use walk link list never read loop iter would dead code figur give variat theme unexpect control flow statement extran statement termin end make subsequ return alway taken case code mistak caus dangl assign use fact allow netdecnetaf_decnetcdn_wait_run lost valu break scpstate dn_run return figur lost return valu caught flag redund assign err netatmlecclec_addr_delet entri null bug never reach lec_arp_removeprivlec_arp_t return figur singleiter loop caught flag redund assign entrynext assign appear read loop iter statement entri next dead code sinc loop alway exit singl iter logic result entri loop tri delet first one list delet us flag bogu structur even know control flow code presenc error led us write deadcod checker next section reassign valu typic harmless signal fairli confus programm exampl acdriversnetwansdla_xc alloc_and_init_skb_buf struct sk_buff new skb assign valu skb immedi reassign anoth alloc valu diver case show potenti confus cs iter work driversscsiscs scpnt scpnt scnext variabl scnext assign immedi reassign loop logic behind decis remain unclear deviou error valu reassign use suspici lost valu one worst and interest commerci system equival follow code acfsntfsunistrcntfs_collate_nam ic c upcase_len c upcase_len meta stray termin return err_val c c return figur catastroph return caught redund assign c last condit accident termin stray statement termin end line caus routin alway return err val netipvrawcrawv_getsockopt switch optnam case ipv_checksum optchecksum els bug alway fall default return enoprotoopt figur unintent switch fall through caus code alway return error map lowlevel redund valu assign val never use system bug fals linux ac tabl bug found dead code checker linux version ac first glanc seem like obviou copyandpast error turn redund flag much deviou error array buf actual point memori map region kernel memori unlik normal memori read write memori caus cpu issu io command hardwar devic thu read idempot two row rather one caus diver result happen howev code real but silent error variant c code written pointer memori map io must declar volatil otherwis compil free optim duplic read away especi sinc case pointer store could chang valu danger case buf declar normal pointer rather volatil one allow compil optim wish fortun error trigger gnu c compil use weak optim conserv optim express mani level indirect howev use aggress compil later version gcc could caus extrem diycult track bug surfac dead code checker section flag dead code sinc programm gener write code run it dead code catch logic error signal fals belief imposs path execut core dead code checker straightforward markandsweep algorithm routin mark block reachabl routin entri node travers block routin flag mark three modif basic algorithm first truncat path reach function would return exampl includ panic abort bug use linux signal termin kernel error reboot system code domin call cannot run second suppress error messag dead code caus constant condit printfin foo sinc frequent signal code comment out use fals condit also annot error messag code flag singl statement contain break return commonli result defens pro gram final suppress dead code caus macro despit simplic dead code analysi found high number clearli seriou error three error caught redund assign checker also caught dead code extens singl iter loop figur mistaken statement termin figur unintent fall figur figur give frequent copyandpast error macro pseterr return caller realiz it thu seven call site use macro dead code macro client intend execut driverscharriorioparamcrioparam retval rio_fail rio_spin_unlock_irqrestoreportpportsem flag return return rio_fail figur unexpect return call pseterr macro return argument valu error unfortun programm realiz insert subsequ op erat flag dead code checker mani similar mistaken use macro figur give anoth common error singleiter loop alway termin contain ifels statement break loop path hard believ code ever test figur give variat thi one branch statement break loop use cs continu statement skip rest loop bodi thu none code end bodi execut driversscsicxxc return_outstanding_command struct ncrcx_cmd cnext ccmdscpbuffer printk break els printk duh break bug cannot reach struct scatterlist list list free figur broken loop first ifels statement loop contain break path caus loop alway abort without ever execut subsequ code contain redund condit checker section flag redund branch condit branch statement if while for etc nonconst condit alway evalu either acnetdecnetdn_tablec dn_fib_table_lookup dn_key_leqk ffn_key break els bug cannot reach ffn_state dn_s_access ffn_statedn_s_zombi ffn_scope keyscop figur useless loop bodi similarli figur loop broken ifels statement one branch abort loop use cs continu statement skip bodi begin anoth iter driversnetarcnetarcrim arcrimi_found reserv irq request_irqdevirq arcnet_interrupt bugmsgd_norm cant get irq dn devirq return enodev figur unexpect return misplac brace insert debug statement caus control alway return true fals switch statement imposs case case result logic inconsist program therefor like error checker base falsepath prune fpp featur xgcc system fpp origin design prune away fals posit aris infeas path symbol evalu variabl assign comparison either constant eg variabl eg use simpl congruenc closur algorithm stop checker check current execut path soon detect logic conflict fpp checker implement use simpl markandsweep algorithm routin explor feasibl execut path mark branch as oppos basic block section visit along way take set unmark branch flag condit associ redund checker abl find hundr redund condit linux main sourc fals posit aris follow two form macro embed condit constant macro use condit statement eg if debug debug defin suppress those left three major class problemat case describ below first class error least seriou three character overli cautiou program style includ case programm check condit multipl time within short program distanc believ could indic novic programm conjectur support statist analysi describ section figur show redund check type linux although almost certainli harmless show programm poor grasp code one might will bet presenc surround bug driversmediavideocpiaccpia_mmap cam camop return enodev make _really_ smpsafe down_interruptiblecambusy_lock return eintr cam camop redund return enodev figur overli cautiou program style second check cam camop redund figur show problemat case one see els branch second statement never taken first condit weaker negat second interestingli function return diver error code essenti error indic possibl confus programm driversnetwansbnicsbni_ioctl ifslav slaveflag iff_up devflag iff_up print error messag back return einval slave bug slave imposs els print error messag return enoent figur overli cautiou program style check slave guarante true also notic diver return valu second class error catch seemingli harmless examin care find seriou error around them guesswork cross referenc assum loop figur tri recov hardwar error encount read network packet sinc variabl err never updat loop bodi condit err success alway true loop bodi never execut onc nonsens could signal possibl bug author forget updat err larg chunk recoveri code loop bug confirm could diycult detect dynam error recoveri code easi miss test third class error clearli seriou bug figur show exampl detect redund condi driversnettokenringsmctrc smctr_rx_frame larg chunk appar recoveri code updat err err success break figur redund condit suggest seriou program error tional checker one see second third statement carri entir diver action ident condi tion appar programm cutandpast condit without chang one two node log fourth possibl node present driversfciphc rscn_handler login_st node_logged_in login_st node_process_logged_in els login_st node_logged_out tx_adiscfi els_adisc node_id els bug redund condit login_st node_logged_out tx_logifi els_plog node_id figur redund condit signal error condit express place els branch anoth ident one figur show anoth seriou error one see author intend insert element point sp doublylink list head qq first loop realli noth set srb p null nonsens checker detect error infer exit condit loop conflict true branch ensu statement obviou fix replac condit srb p srb p srb pnext bug danger hard detect quietli discard everyth origin list construct new one sp element it matter fact bug still present latest releas linux kernel sourc write predictingharderrorswithr dundanc section show correl redund error hard bug crash system redund error come previou four section hard driversscsiqlac qla_putq_t srb_p srb_p bug branch never taken srb_ps_prev els qq_first els qq_last figur seriou error link list insert impl mentat srb p alway null loop which appear check wrong boolean condit bug collect linux checker describ bug includ use freed memori derefer null pointer potenti deadlock unreleas lock secur violat eg use untrust valu array index show strong correl two error popul use statist techniqu call conting tabl method further show file contain redund error roughli like hard error file select random result indic file redund error good audit candid redund correl confus programm probabl make seri mistak methodolog subsect describ statist method use measur associ program redund hard error analysi base conting tabl method standard statist tool studi associ two diver attribut popula tion case popul set file check two attribut are a whether file contain redund b whether contain hard error conting tabl approach sampl popul crossclassifi four categori base two attribut say b popul obtain count o ij categori tabular result follow true fals total true fals total valu margin n n n row column total n grand total null hypothesi h test b mutual independ ie know give us addit inform b precis h hold expect that comput expect valu four cell tabl follow use chisquar test statist measur far observ valu o ij deviat expect valu e ij use statist deriv probabl observ null hypothesi h true call pvalu smaller pvalu stronger evid h thu stronger correl attribut b data acquisit test result previou work use xgcc system check file linux kernel focus seriou system crash hard bug abl collect seriou hard bug file type bug check includ null pointer derefer deadlock miss secur check use bug repres class seriou hard error deriv correl program redund crossclassifi program file linux kernel follow four categori obtain count number file redund hard error number file redund hard error number file hard error redund number file neither redund hard error carri test describ section follow three redund checker redund assign checker dead code checker redund condit checker the idempot oper exclud small sampl size result test given tabl see correl redund hard see true consid white ball urn first randomli draw put red mark them put back urn randomli draw put blue mark them obvious expect roughli ball red mark blue mark expect roughli remain red mark blue mark technic h distribut one degre freedom pvalu look cumul distribut tabl distribut exampl larger pvalu go redund hard bug assign total tabl conting tabl redund assign vs hard bug file error type file assign error hard bug file hard bug assign error file bug either type tstatist valu four give pvalu less strongli suggest two event independ observ valu give pvalu essenti notic better standard threshold intuit correl error type seen ratio consider larger ratio event independ expect two ratio close hard bug dead code ye total total tabl conting tabl dead code vs hard bug error extrem high pvalu approxim four case strongli suggest redund often signal confus programm therefor good predictor hard seriou error predict hard error addit correl want know much like find hard error file one redund oper precis let e event given sourc file contain one hard error r event contain one form redund oper comput confid interv measur much like find hard error file given program redund prior probabl hard error comput follow number file hard error total number file check tabular condit probabl valu tabl again exclud idempot oper checker small bug sampl shown ta ble given form redund oper roughli like find error file otherwis furthermor redund even predict hard error across time carri test re redund hard bug total tabl conting tabl redund condit vs hard bug hard bug aggreg total tabl conting tabl program redund aggr gate vs hard bug dundanc found linux ac hard error roughli year older found similar result failstop specif section describ use redund code action find sever type specif error omiss often program specif give extra inform allow code check whether return valu routin must check null share variabl protect lock permiss check guard sensit oper etc vulner approach code featur annot includ specif check catch omiss flag redund oper case mani other least one specifi action make littl sens isol critic section without share state pointless permiss check guard known sensit action thu code intend useless oper redund happen exactli checkabl action miss at least caught someth pointless delet sketch four exampl below close checker use redund find miss checkabl action detect omit null annot tool lclint let programm annot function return null pointer null annot tool emit error uncheck use pointer return null routin real system mani function return make easi forget annot all catch omiss use redund know return valu null function check thu check nonannot function mean either function annot null function cannot return null programm misunderstood interfac find miss lockvari bind data race detect tool warlock let user explicitli bind lock confid interv assign dead code condit aggreg tabl program file redund roughli like contain hard error variabl protect tool flag annot variabl access without lock held howev lock variabl bind easili forgotten caus variabl silent uncheck use redund catch mistak critic section must protect share state flag find either useless lock which delet good perform place share variabl annot miss volatil annot describ section c variabl unusu readwrit semant must annot volatil type qualifi prevent compil optim safe normal variabl incorrect volatil one elimin duplic read write miss volatil annot silent error softwar usual work occasion give incorrect error shown omiss detect flag redund oper read write make sens nonvolatil variabl miss permiss check secur system must guard sensit oper such modifi file kill pro cess permiss check tool automat catch mistak given specif check protect oper larg number sensit oper make easi forget bind befor use redund find omiss assum programm redund permiss check find permiss check guard known sensit oper signal incomplet specif case studi find miss secur hole separ paper describ checker found oper system secur hole caus integ read untrust sourc network packet system call param eter pass trust sink array indic memori copi length without check safe upper lower bound singl violat let malici attack take control entir system unfortun checker vulner omiss omit sourc mean checker track data produc omit sink mean checker flag unsanit data reach sink implement checker use idea section detect omiss given list known sourc sink normal check sequenc is code read data unsaf sourc check it pass trust sink assum programm gratuit sanit miss sink detect flag code step read valu known sourc sanit impli code believ valu reach danger oper valu reach known sink like miss one similarli could but not infer miss sourc convers analysi flag os sanit data think taint pass trust sink analysi found roughli common use sanit input linux nine use harmless howev one secur hole unexpectedli specif omiss rather sink known interprocedur analysi overli simplist caus us miss path it fact redund flag error specif tool nice surpris relat work two exist type analysi focus redund oper optim compil anomoli detect work optim compil commonli deadcod elimin commonsubexpress elimin remov redund improv perform one contribut work realiz analys silent find error sinc invent analys close mirror algorithm core sever refin first oper higherlevel represent typic optim sinc larg number redund oper introduc due compil sourc construct intermedi represent second order preserv semant program compil optim conserv analysi contrast sinc goal find possibl error perfectli reason flag redund even sure legitimaci fact report suspici case sort order confid heurist eg distanc redund etc report final analysi tradeov make diver exampl use pathsensit algorithm suppress fals path optim omit path sensit analys time complex outweigh benefit second type redund analysi includ check tool fosdick osterweil first appli data flow anomali detect techniqu context softwar reliabl dave system use depth first search algorithm detect fix set variabl defus type anomali uniniti read doubl definit etc static approach like often pathinsensit therefor could report bogu error infeas path dynam techniqu instrument program detect anomali aris execut howev dynam approach weaker find error execut path runtim overhead diy culti instrument oper system limit usag approach dynam system similar work huang discuss checker similar assign checker section track lifetim variabl use simpl global analysi assign follow variabl forward path give error variabl read path either exit scope assign anoth valu howev experiment result given further dynam seem predispos report larg number fals posit case valu read current execut path would use nonexecut path tool lint lclint gnu c compil wall option warn unus variabl routin ignor return valu long found redund real code we use daili redund commonli view harmless stylist issu evid percept best knowledg mani recent error check project focu sole hard error null pointer derefer fail lock releas rather redund check main contribut paper show redund signal real error experiment measur well hold conclus paper explor hypothesi redund like type error flag higherlevel correct mistak evalu approach use four checker appli linux oper system simpl analys found mani surpris to us error type further correl well known hard error redund seem flag confus poor programm prone error type indic could use decid audit system acknowledg would like thank anonym review help comment work support nf award darpa contract mdaca r detect race relay ladder logic program use programmerwritten compil extens catch secur hole automat valid tempor safeti properti interfac static analyz find dynam program error statist infer empir studi oper system error enforc highlevel protocol lowlevel softwar overview extend static check system variat common subexpress problem tool use specif check code algebra data flow anomali detect data flow analysi softwar reliabl system languag build systemspecif detect data flow anomali program instrument dynam data race detector multithread program first step toward autom detect buver overrun vulner tr compil principl techniqu tool aidamyampersandmdasha dynam data flow anomali detect system pascal program lclint variat common subexpress problem static analyz find dynam program error data flow analysi softwar reliabl enforc highlevel protocol lowlevel softwar automat valid tempor safeti properti interfac empir studi oper system error system languag build systemspecif static analys detect race relay ladder logic program algebra data flow anomali detect use programmerwritten compil extens catch secur hole ctr david hovemey jaim spacco william pugh evalu tune static analysi find null pointer bug acm sigsoft softwar engin note v n januari zhang neelam gupta rajiv gupta locat fault autom predic switch proceed th intern confer softwar engin may shanghai china zhang neelam gupta rajiv gupta prune dynam slice confid acm sigplan notic v n june neelam gupta haifeng xiangyu zhang rajiv gupta locat faulti code use failureinduc chop proceed th ieeeacm intern confer autom softwar engin novemb long beach ca usa yuriy brun michael d ernst find latent code error via machin learn program execut proceed th intern confer softwar engin p may david hovemey william pugh find bug easi acm sigplan notic v n decemb sudarshan m srinivasan srikanth kandula christoph r andrew yuanyuan zhou flashback lightweight extens rollback determinist replay softwar debug proceed usenix annual technic confer usenix annual technic confer p june juli boston