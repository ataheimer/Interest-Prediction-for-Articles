t data task parallel imag process environ a paper present data task parallel lowlevel imag process environ distribut memori system imag process oper parallel data decomposit use algorithm skeleton imag process applic parallel task decomposit base imag applic task graph way imag process applic parallel data task decomposit thu better speedup obtain valid method multibaselin stereo vision applic b introduct imag process wide use mani applic area includ lm industri medic imag industri manufactur weather forecast etc area size imag larg yet process time small sometim realtim process requir therefor last decad increas interest develop use parallel algorithm imag process mani algorithm develop parallel dierent imag oper dierent parallel architectur parallel imag process algorithm either architectur depend specic develop dierent applic hard implement typic imag process user without enough knowledg parallel comput paper present approach ad data task parallel imag process librari use algorithm skeleton imag applic task graph iatg skeleton algorithm abstract common seri applic implement parallel skeleton embed sequenti host languag thu sourc parallel program use skeleton creat data parallel imag process framework easi use typic imag process user alreadi known exploit task data parallel program solv larg comput problem yield better speedup compar either pure task parallel pure data parallel main reason data task parallel rel limit therefor use one limit achiev perform thu exploit mix task data parallel emerg natur solut mani applic eld signal imag process data set size limit physic constraint cannot easili increas case amount avail data parallel limit exampl multibaselin stereo applic describ section size imag determin circuitri video camera throughput camera interfac increas imag size mean buy new camera build faster interfac may feasibl sinc data parallel limit addit parallel may come task code imag process applic use skeleton iatg obtain data task parallel environ paper organ follow section brie present descript algorithm skeleton survey relat work section present classic lowlevel imag oper skeleton parallel lowlevel imag process distribut memori system section present relat work describ imag applic task graph use task parallel framework multibaselin stereo vision applic togeth data parallel code use skeleton versu sequenti code speedup result data parallel approach versu data task parallel approach present section final conclud remark made section skeleton relat work skeleton algorithm abstract encapsul dierent form parallel common seri applic aim obtain environ languag allow easi parallel program user handl problem com munic synchron deadlock nondeterminist program run usual embed sequenti host languag use code hide parallel applic user concept algorithm skeleton new lot research done demonstr use parallel program skeleton polymorph higherord function dene function languag straightforward way reason skeleton build upon function languag work also done use skeleton imag process serot et al present parallel imag process environ use skeleton top caml function languag paper develop algorithm skeleton creat parallel imag process environ readi use easi implementationdevelop parallel imag process applic dierenc previou approach allow applic implement c program environ allow possibl useimpl dierent schedul algorithm obtain minimum execut time skeleton lowlevel imag process classic lowlevel imag oper lowlevel imag process oper use valu imag pixel modifi imag way divid point oper neighborhood oper global oper below disscu detail three type oper point oper imag point oper power function imag process larg group oper fall categori main characterist pixel output imag depend correspond pixel input imag point oper use copi imag one memori locat anoth arithmet logic oper tabl lookup imag composit discuss detail arithmet logic oper classifi point view number imag involv import issu develop skeleton them arithmet logic oper imag alu oper fundament oper need almost imag product varieti purpos refer oper imag constant monad oper oper two imag dyadic oper oper involv three imag triadic oper monad imag oper monad imag oper alu oper imag constant oper shown tabl sx y dx y sourc destin pixel valu locat x y k constant tabl monad imag oper function oper add constant dx subtract constant dx multipli constant dx divid constant dx constant dx constant dx xor constant dx absolut valu dx monad oper use mani situat instanc use add subtract bia valu make pictur brighter darker dyadic imag oper dyadic imag oper arithmet logic function pixel two sourc imag produc destin imag function shown tabl two sourc imag use creat destin imag dx y tabl oper function oper add subtract multipli divid min dyadic oper mani use imag process exampl subtract one imag anoth use studi ow blood digit subtract angiographi motion compens video code addit imag use step mani complex imag algorithm like develop imag restor algorithm moddel addit nois special eect imag morph motion pictur triadic imag oper triadic oper use three input imag comput output imag exampl oper alpha blend imag composit use function graphic comput imag graphic composit use combin sever imag one typic imag render separ possibl use dierent render algorithm exampl imag may render separ possibl use dierent type render hardwar dierent algorithm imag process composit need product need merg multipl pictur one nal imag imag edit program well program combin synthet gener imag scan imag need function comput imag term alpha blend dene use two sourc imag s alpha imag destin imag d see formula anoth exampl triadic oper squar dierenc refer imag two shift imag oper use multibaselin stereo vision applic describ section tabl triadic imag oper function oper alpha blend dx squar di dx local neighborhood oper neighborhood oper lter creat destin pixel base criteria depend sourc pixel valu pixel neighborhood surround it neighborhood lter larg use comput imag use enhanc chang appear imag sharpen blur crispen edg nois remov also use imag process applic object recognit imag restor imag data compress dene lter oper chang pixel sourc imag base valu surround pixel may linear nonlinear lter linear ltere versu nonlinear ltere gener speak lter imag refer process produc destin imag sourc imag linear lter properti weight sum sourc imag produc similarli weight sum destin imag contrast linear lter nonlinear lter somewhat dicult character output lter given input cannot predict impuls respons nonlinear lter behav dierent dierent input linear ltere use twodimension discret convolut imag twodimension convolut common way implement linear lter oper perform sourc imag twodimension convolut kernel produc destin imag convolut kernel typic much smaller sourc imag start top imag the top left corner also origin imag kernel move horizont imag one pixel time move one row move horizont again process continu kernel travers entir imag destin pixel row column n kernel center locat sourc imag mathemat twodimension discret convolut dene doubl summat given mn imag fm n kl convolut kernel hk l dene origin top left corner assum fm n much larger hk l then result convolv fm n hk l imag gm n given formula formula assum kl odd number extend imag k line vertic direct l column horizont direct sequenti time complex oper omnkl observ time consum oper well tted data parallel approach global oper global oper creat destin pixel base entir imag inform repres exampl oper within class discret fourier transform dft discret fourier transform convert input data set tempo ralspati domain frequenc domain vice versa lot applic imag process use imag enhanc restor compress imag process input set pixel form twodimension function alreadi discret formula output pixel x lm follow x jk e i jl j k column coordin j n k also includ class global oper oper like histogram transform imag output anoth data structur data parallel lowlevel imag oper oper descript given previou section conclud point neighborhood global imag process oper parallel use data parallel paradigm hostnod approach host processor select split distribut data node host also process part imag node process receiv part imag host gather assembl imag back togeth figur present data parallel paradigm hostnod approach point neighborhood global oper global oper send entir imag correspond node node process certain part imag order avoid extra interprocessor commun due border inform exchang neighborhood oper extend partit imag show figur way node processor receiv data need appli neighborhood oper origin imag process imag master master node node node n master fig dcg skeleton point oper origin imag extend imag master master node node node n masterprocess imag fig dcg skeleton neighborhood oper origin imag process area process area process area process area n process imag master master fig dcg skeleton global oper base observ identifi number skeleton parallel process lowlevel imag process oper name accord type lowlevel oper number imag involv oper header skeleton shown below base distribut comput gather dcg main skeleton previous known map skeleton suitabl regular applic lowlevel oper imag process implement skeleton base ideea describ paragraph see figur skeleton run set processor set processor host processor select split distribut imag node node set receiv part imag imag oper appli it comput take place result sent back host processor skeleton implement c use mpipanda librari implement transpar user void imagepointdist_iounsign int nchar namevoidim_op dcg skeleton monad point oper one inputoutput void imagepointdist_io_cunsign int nchar name voidim_opfloat ct dcg skeleton monad point oper need constant valu pararamet one inputoutput void imagepointdist_i_ounsign int nchar namechar namevoidim_op dcg skeleton monadicdyad point oper one input one output void imagepointdist_io_iunsign int nchar namechar namevoidim_op dcg skeleton monadicdyad point oper one inputoutput one input void imagepointdist_i_ounsign int nchar namechar namechar namevoidim_op dcg skeleton dyadictriad point oper input one output void imagepointdist_i_ounsign int nchar namechar namechar namechar name input output void imagepointdist_i_ounsign int nchar namechar namechar namechar name dcg skeleton triadic point oper input one output void imagewindowdist_iounsign int nchar namewindow winvoidim_op dcg skeleton neighborhood oper one inputoutput void imagewindowdist_i_ounsign int nchar namechar namewindow winvoidim_op dcg skeleton neighborhood oper one input one output void imageglobaldist_iounsign int nchar namevoidim_op dcg skeleton global oper one inputoutput develop sever type skeleton depend type lowlevel oper point neighborhood global number inputoutput imag skeleton associ paramet repres task number correspond skeleton use task parallel framework depend skeleton type one identi imag given paramet last argument point oper process imag so skeleton use number lowlevel imag process oper perform similar way for instanc dyadic point oper take two input imag combin process depend oper type produc output imag depend oper type skeleton type might exist addit paramet necessari imag oper point oper assign imagepointdist skeleton neighborhood oper assign imagewindowdist skeleton global oper assign imageglobaldist skeleton skeleton modifi input imag imagepointdist io imagewindowdist io imageglob aldist io io stand inputoutput imag skeleton take number input imag creat new output imag exampl imagepointdist skeleton point oper take input imag creat new output imag skeleton necessari dyadic point oper like addit subtract etc see tabl creat new imag process two input imag similarli skeleton imagepointdist point oper take input imag creat new output imag exampl lowlevel imag process oper suitabl type skeleton squar dierenc one refer imag two dispar imag oper use multibaselin stereo vision applic see tabl section similar skeleton exist also local neighborhood global oper imagepointdist io c skeleton monad point oper need constant valu paramet process input imag see tabl present exampl use skeleton code simpl imag process applic dataparallel way imag process applic edg detect use laplac sobel oper first read input imag creat two output imag window appli laplac sobel oper num node number processor num node number node applic run detect rst line partial code show below imag name input imag given input paramet skeleton imag l imag output paramet imag skeleton use imagewindowdist skeleton perform oper last two paramet window use which contain inform size data window imag oper appli via skeleton task parallel framework recent shown exploit task data parallel program solv larg comput problem yield better speedup compar either pure data parallel either pure task parallel main reason task data parallel rel limit therefor use one bound achiev perform thu exploit mix task data parallel emerg natur solut show appli data task parallel improv speedup applic level consider eort ad taskparallel support dataparallel lan guag fx fortran paradigm hpf ad dataparallel support taskparallel languag orca order fulli exploit potenti advantag mix task data parallel ecient support task data parallel critic issu done compil level also applic level applic imag process eld suitabl techniqu mix task data parallel techniqu use direct acycl graph literatur also call macro data ow graph mdg data parallel task in case imag process oper node preced relationship edg purpos work chang name graph imag applic task graph iatg imag applic task graph model task parallel program model macro data ow commun graph direct acycl graph c where v nite set node repres task imag process oper e set direct edg repres preced constraint task w weight function give weight process time node task task weight posit integ c commun function c give weight commun time edg commun weight posit integ imag process applic task graph iatg is fact mdg node stand imag process oper edg stand preced constraint two adjac oper case node repres larger entiti mdg node simpl instruct program import properti iatg are weight direct acycl graph node repres imag process oper edg repres preced constraint them two distinguish node start preced node stop succe node dene well balanc iatg applic task graph type task imag oper level exampl iatg multibaselin stereo vision applic describ section figur rst level squar dierenc oper appli imag task second level error oper execut task moreov graph edg form regular pattern weight node edg iatg base concept process commun cost process cost account comput commun cost data parallel task imag process oper correspond node depend number processor alloc node commun cost account cost data commun node process cost model node iatg repres process task an imag process oper appli via dcg skeleton describ section run nonpreempt number processor task assum comput cost denot exec i p function number processor comput cost function task obtain either estim prole cost estim use amdahl law accord it execut time task is task number p number processor task execut task execut time singl processor fraction task execut serial use prole task execut cost either tted function similar one describ in case data avail processor prole valu use directli tabl valu simpl determin measur execut time basic imag process oper implement imag process librari tabul valu commun cost model data commun redistribut essenti implement execut scheme use data task parallel individu task execut data parallel fashion subset processor data depend task may necessit chang set processor also distribut scheme figur illustr classic approach redistribut pair task task taska execut use seven processor read data d task taskb execut use four processor read data d necessit redistribut data seven processor execut task taska four processor execut task taskb addit chang set processor could also chang distribut scheme data d instanc two dimension data taska might use block distribut d wherea taskb might use rowstrip distribut processor execut taskb processor execut taska redistribut fig data redistribut two task processor execut taskb processor execut taska master master b fig imag commun two host processor reduc complex problem rst allow one type distribut scheme rowstrip second send imag two processor the select host processor two set processor shown figur edg iatg correspond preced relationship associ commun cost denot tcomm i depend network characterist latenc bandwidth amount data transfer emphas two type commun time first intern commun time repres time intern transfer data processor alloc task quantiti part term execut time associ node graph secondli extern commun time time transfer data ie imag two processor two processor repres host processor two associ imag process task correspond two adjac graph node quantiti actual commun cost edg graph case also use either cost estim prole determin commun time stateoftheart distribut memori system time send messag contain l unit data processor anoth processor model as startup per byte cost pointtopoint commun l length messag byte run experi distribut memori system consist cluster pentium promhz pc mb ram run linux connect myrinet dmesh topolog dimens order rout figur show perform pointtopoint commun oper predict commun time report time minimum time obtain execut code reason select minimum valu possibl interfer caus user trac network measur perform linear tting extract commun paramet b figur see predict commun time base formula approxim good measur commun time measur predict timemicrosecond messag size fig perform pointtopoint commun da iatg cost properti task input edg call entri task task output edg call exit task length path graph sum comput commun cost node edg belong path dene critic path cp longest path graph graph n node n last node graph repres nish time node i exec i p execut time task set p node critic path given formula pred set immedi predecessor node node i dene averag area a iatg n node task p processor system formula p number processor alloc task p critic path repres longest path iatg averag area provid measur processortim area requir iatg base two formula processor alloc task accord result obtain solv follow minim problem subject solv alloc problem schedul need schedul task obtain minimum execut time classic approach wellknown list schedul paradigm introduc graham schedul one processor task task run one processor schedul known npcomplet one processor task sinc sever list schedul algorithm propos schedul problem also extend multipl processor task task run nonpreempt number processor therefor multipl processor task schedul also npcomplet heurist use intuit behind minim equat repres theoret lower bound time requir execut imag process applic correspond iatg execut time applic neither smaller critic path graph less averag area graph tsass convex program algorithm determin number processor task avail use experiment part section nonlinear solver base snopt avail internet solv previou problem solv schedul problem propos schedul algorithm present use anoth possibl use schedul algorithm develop data task parallel graph experi evalu benet propos data parallel framework base skeleton also task parallel framework base iatg rst compar code multibaselin stereo vision algorithm without use skeleton with without data parallel compar speedup obtain appli data parallel applic speedup obtain data task parallel multibaselin stereo vision applic use algorithm develop okutomi kanad describ webb al give greater accuraci depth use two camera input consist three n n imag acquir three horizont align equal space camera one imag refer imag two name match imag dispar rst match imag shift pixel second imag shift pixel dierenc imag form comput sum squar dierenc correspond pixel refer imag shift match imag next error imag form replac pixel dierenc imag sum pixel surround window dispar imag form nding pixel dispar minim error final depth pixel display simpl function dispar figur present iatg applic observ comput dierenc imag requir point op erat comput error imag requir neighborhood oper comput dispar imag requir also point oper input ref m the refer two match imag d task td shift pixel task td shift d pixel task t dispar imag minim err imag pseudocod multibaselin stereo vision applic broadcast diff diff diff diff err err err reduc ref dispar imag fig multibaselin stereo vision iatg present sequenti code applic versu data parallel code applic code applic combin number skeleton requir much eort imag process user yet parallel applic data task parallel code slightli dicult present here sequenti code imagepointdist_i_odimrefm dtpipe code base skeleton besid creat imag host processor code nearli same function header dier skeleton paramet name imag window imag oper sequenti version oper header paramet imag window skeleton implement c use mpi result data parallel approach compar result obtain use data task parallel distribut memori system consist cluster pentium promhz pc mb ram run linux connect myrinet dmesh topolog dimens order rout task parallel framework use special mechan regist imag processor rst creat moreov skeleton associ task number correspond use process node pool three artici refer imag size use code written use c mpi messag pass librari multibaselin stereo vision algorithm exampl regular well balanc applic task parallel appli without need alloc schedul comparison reason use algorithm describ obtain ident result we divid number node number task obtain number node task run figur show speedup obtain data parallel approach dierent imag size figur show speedup applic use data task parallel approach also dierent imag size observ speedup becom quickli satur dataparallel approach speedup data task parallel approach perform good fact pure task parallel processor data task parallel on so pure task parallel speedup becom atten processor type applic better rst appli task parallel add data parallel use data task parallel ecient use data parallel processor fig speedup dataparallel approac processor fig speedup data task parallel approach conclus present environ data task parallel imag process data parallel framework base algorithm skeleton easi use imag process user task parallel environ base imag applic task graph comput iatg commun process cost iatg regular well balanc graph task parallel appli without need comput show exampl use skeleton task parallel framework multibaselin stereo vision applic multibaselin stereo vision exampl imag process applic contain parallel task task simpl imag point neighborhood oper use data task parallel ecient use data parallel code data task parallel environ use c mpipanda librari easili port parallel machin r parallel algorithm digit imag process parallel program algorithm skeleton structur manag parallel comput skeleton structur parallel composit multiplebaselin stereo framework exploit task data parallel distribut memori multicomput optim use mix task data parallel pipelin compu tation cpr mix task data parallel schedul distribut system new model integr nest task data parallel program ming fortran m languag modular parallel program task data parallel program languag base share object bound multiprocess time anomali implement perform fast parallel multibaselin stereo vision distribut asci supercomput da site user guid snopt fortran packag largescal nonlinear program lucent technolog ampl site mpi complet refer vol mpi core experi portabl layer implement parallel program system tr algorithm skeleton parallel algorithm fortran new model integr nest task data parallel program framework exploit task data parallel distribut memori multicomput task dataparallel program languag base share object optim use mix task data parallel pipelin comput mpith complet refer multiplebaselin stereo cpr ctr develop platform parallel imag process proceed th wsea intern confer signal speech imag process p septemb lisbon portug antonio plaza david valencia javier plaza pablo martinez commod clusterbas parallel process hyperspectr imageri journal parallel distribut comput v n p march frank j seinstra denni koelma andrew d bagdanov finit state machinebas optim data parallel regular domain problem appli lowlevel imag process ieee transact parallel distribut system v n p octob