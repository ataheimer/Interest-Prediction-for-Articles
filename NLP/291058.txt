t valu specul schedul high perform processor a recent research valu predict show surpris amount predict valu produc registerwrit instruct sever hardwar base valu predictor design propos exploit predict elimin flow depend highli predict valu paper propos hardwar softwar base scheme valu specul schedul vss static vliw schedul techniqu use specul valu depend instruct schedul instruct whose result depend on predict hardwar use provid valu predict allow execut specul instruct continu case misspredict valu control flow redirect patchup code execut proceed correct result paper experi vss load oper specint benchmark perform speedup shown use vss empir result valu predict load base valu profil data also provid b introduct modern microprocessor extract instruct level parallel ilp use branch predict break control depend use dynam memori disambigu resolv memori depend howev current techniqu extract ilp still insuffici recent research focus valu predict hardwar dynam elimin flow depend also call true depend result shown valu produc registerwrit instruct potenti highli predict use variou valu predictor lastvalu stride contextbas twolevel hybrid predictor work illustr valu specul futur high perform processor use break flow depend therebi expos ilp paper examin isa hardwar compil synergi exploit valu specul result indic synergi enhanc perform difficult integ benchmark prior work valu specul util hardwareonli scheme eg scheme instruct address pc registerwrit instruct sent valu predictor index predict tabl begin fetch stage predict gener fetch dispatch stage forward depend instruct prior execut stage valu specul depend instruct must remain reserv station even execut continu prevent retir verif predict valu predict valu compar actual result stateupd stage predict correct depend instruct releas reserv station updat system state retir predict valu incorrect depend instruct need reexecut correct valu figur figur pipelin stage hardwar valu specul mechan flow depend instruct depend instruct execut predict valu cycl predict instruct illustr pipelin stage valu specul util hardwar scheme littl work done softwarebas scheme perform valu predict valu specul depend instruct relat approach differ problem memori conflict buffer present dynam disambigu memori depend allow compil specul schedul memori refer other possibl depend memori instruct patchup code gener compil ensur correct program execut even memori depend actual occur specul schedul memori refer improv perform aggress schedul refer highli like independ other likewis valuespecul schedul attempt improv perform aggress schedul flow depend highli like elimin valu predict patchup code use valu misspredict appli scheme valu specul propos combin hardwar softwar solut call valu specul schedul vss hardwar pipelin stage vss scheme shown figur two new instruct ldpred udpr introduc interfac valu predictor execut stage ldpred load predict valu gener predictor specifi generalpurpos regist udpr updat valu predictor actual result reset devic futur predict misspredict figur show exampl use ldpred udpr perform vss origin code sequenc figur a instruct form long flow depend chain must execut sequenti flow depend figur pipelin stage valu specul schedul scheme two new instruct ldpred udpr interfac valu predictor execut stage a origin code i lw r r i add r r i next b new code valu specul r predict instruct i i lw r r i ldpred r index load predict r i i bne patchup r r verifi predict next patchup i udpr r index updat predictor r i add r r i i jmp next figur exampl valu specul schedul instruct broken via vss depend height result depend chain shorten furthermor ilp expos result data depend graph figur show data depend graph code sequenc figur break flow depend instruct i assum latenc arithmet logic branch store ldpred udpr instruct cycl latenc load instruct cycl then schedul length origin code sequenc figur a instruct i seven cycl break flow depend instruct i vss result schedul length five cycl figur b illustr schedul possibl due reduc overal depend height ilp expos new data depend graph fetch dispatch execut state updat valu predictor predict verif fetch dispatch execut state updat predict valu actual valu predict depend fetch dispatch execut state updat valu predict valu ldpred udpr improv schedul length seven cycl five cycl consid penalti associ miss predict due requir execut patchup code impact patchup code perform discuss section figur data depend graph code figur number along edg repres latenc instruct a schedul length seven cycl b expos ilp depend height reduct schedul length reduc five cycl figur b valu specul schedul break flow depend instruct i instruct i form separ depend chain allow execut specul schedul becom instruct i i i respect operand instruct i modifi r r regist r contain valu predict destin regist r predict instruct i instruct i ldpred load valu predict instruct regist r predict incorrect rr instruct i udpr updat valu predictor actual result predict instruct regist r note result udpr instruct part patchup code execut requir valu misspredict ensur correct program execut compil insert branch instruct i store instruct i branch patchup code predict valu equal actual valu patchup code contain udpr origin depend instruct i i execut patchup code program jump next instruct execut proce normal ldpred udpr instruct pair correspond valu predict use tabl entri index valu predictor index assign compil avoid unnecessari conflict insid valu predictor number tabl entri limit possibl conflict determinist factor choos valu predict compil approach valu predictor design featur new ldpred udpr instruct describ section combin hardwar compil techniqu strength dynam static techniqu exploit ilp leverag see sever possibl advantag vss static schedul provid larger schedul scope exploit ilp transform identifi long depend chain suitabl valu predict reorder code aggress valuespecul depend instruct execut earli possibl predict instruct depend compil control number predict valu assign differ indic access predict tabl instruct compil deem good candid predict predict reduc conflict hardwar patchup code automat gener reduc need elabor hardwar recoveri techniqu instead reli static predict valu eg profil data ldpred udpr access dynam predict hardwar enhanc predict accuraci vss appli dynamicallyschedul processor staticallyschedul vliw processor epic explicitli parallel instruct processor drawback vss static schedul techniqu employ valuespecul instruct commit specul therefor alway requir predict valu hardwar scheme dynam decid appropri specul execut instruct dynam decis base valu predictor confid predict valu avoid misspredict penalti low confid predict remaind paper organ follow section examin valu predictor design valu specul schedul section introduc vss algorithm section present experiment result vss section conclud paper mention futur work valu predictor design microarchitectur support valu specul schedul vss form specialpurpos valu predictor hardwar valu predict accuraci directli relat perform improv vss variou valu predictor lastvalu stride contextbas two level hybrid predictor a break depend b break depend provid differ predict accuraci valu predictor design complex gener provid highest predict accuraci order featur ldpred udpr instruct vss previous propos valu predictor must redesign slightli figur show block diagram valu predictor includ ldpred udpr instruct valu predictor three fundament unit current state block old state block predict hardwar block current state block may contain regist valu finit state machin histori inform machin flag depend predict method employ old state block hardwar duplic current state block hardwar predict gener predict hardwar input current state block variou predict mechan use exampl gener predict last valu last valu predictor or gener predict sum last valu stride differ recent last valu stride predictor also twolevel predictor allow predict recent comput valu twolevel predictor valu histori pattern index pattern histori tabl turn use index valu predict recent comput valu twolevel valu predict hardwar base twolevel branch predict hardwar figur block diagram valu predictor featur ldpred udpr ldpred udpr instruct contain immedi operand specifi valu predictor tabl index gener independ predict hardwar chosen ldpred instruct perform three action compil assign number index action first predict hardwar gener predict valu use input current state block second current state inform shift old state block last current state block updat base predict valu predict hardwar inform use predict hardwar updat simultan current state block updat note ldpred instruct predict valu use updat current state block specul compil assign number also index oper udpr instruct valu predict incorrect patchup basic block figur b must execut execut udpr instruct occur patchup code valu miss predict udpr instruct caus updat current state block predict hardwar actual comput valu old state block compil ensur ldpredudpr instruct pair execut turn each predict verifi valu predict nest old state block requir one tabl entri tabl entri old state block updat everi ldpred instruct use everi udpr instruct case misspredict figur hybrid predictor stride twolevel satur counter compar select predict techniqu vss scheme predict need gener ldpred instruct flag valu predictor indic valu predict valid not goal valu predictor gener mani correct predict possibl paper stride twolevel hybrid valu predictor implement find design provid highest predict accuraci use vss scheme stride predictor predict array loop induct variabl well twolevel predictor captur recurr recent use valu gener predict base previou pattern valu howev neither alon obtain high predict accuraci program exhibit differ characterist therefor hybrid valu predictor consist stride twolevel predict design cover situat current state old state predict hardwar actual valu ldpred predict valu ldpred udpr predict index stride twolevel counter counter twolevel figur show hybrid predictor obtain high predict accuraci select stride predictor twolevel predictor differ everi tabl entri satur counter stride predictor twolevel predictor satur counter increment correspond predict correct decrement predict incorrect satur counter predictor updat predict regardless predict actual select hybrid predictor select predictor maximum satur counter valu event tie hybrid predictor favor predict twolevel predictor predict accuraci result three valu predictor present section valu specul schedul perform improv valu specul schedul vss affect predict accuraci number save cycl from schedul length reduct number penalti cycl from execut patchup code suppos break flow depend valuespecul depend instruct specul save cycl overal schedul length predict correct patchup code also gener requir p cycl predict accuraci specul valu x case speedup posit hold exampl figur b vss save cycl from cycl cycl result patchup code contain instruct requir cycl ilp processor therefor posit speedup predict accuraci must greater actual predict accuraci less perform degrad vss perform consider mind algorithm vss propos figur first step perform valu profil schedul must select highli predict instruct improv perform vss result valu profil differ input paramet shown strongli correl therefor valu profil use select highli predict instruct perform valu specul valu profil perform registerwrit instruct profil overhead concern filter may use perform valu profil select instruct select instruct may resid critic path long depend height long latenc eg load instruct estim converg profil propos reduc profil overhead determin invari instruct similar techniqu could appli determin valu predict instruct next valu specul schedul perform region format treegion format region type chosen experi treegion nonlinear region includ multipl execut path form tree basic block larger schedul scope treegion allow schedul perform aggress control valu specul data depend graph construct treegion step four threshold predict accuraci use determin whether perform valu specul instruct instruct schedul queri valu profil inform get estim predict predict estim greater threshold valu predict perform aggress schedul instruct specul choos low threshold suggest valu threshold deriv experiment result section instruct select valu predict ldpred instruct insert directli it ldpred instruct immedi valu assign schedul chosen index valu predictor new regist also assign destin ldpred instruct new destin regist chosen ldpred instruct depend instruct need updat sourc regist reflect new depend ldpred instruct first depend instruct chain depend instruct need updat regist sourc remain depend chain perform valu profil perform region format build data depend graph region select instruct predict accuraci base valu profil greater threshold insert ldpred predict instruct select instruct step chang sourc operand depend instruct destin regist ldpred insert branch patchup code gener patchup code which contain udpr repeat step candid found updat data depend graph region perform region schedul repeat step region figur algorithm valu specul schedul unaffect even though one chain depend instruct may result one valu predict one ldpred instruct need valu predict step seven branch patchup code insert repair misspredict one branch per data valu predict requir schedul determin branch insert locat branch set instruct depend chain predict instruct branch patchup code candid valuespecul execut therefor desir schedul instruct predict instruct actual hardwar resourc restrict abil specul execut candid valu specul also candid valu specul duplic patchup code number directli affect penalti misspredict factor affect schedul decis place branch patchup code step eight patchup code creat repair miss predict patchup code contain udpr instruct copi candid valuespecul execut uncondit jump back instruct follow branch patchup code udpr instruct use immedi valu assign schedul correspond ldpred instruct index valu predictor sourc operand udpr instruct destin regist predict instruct the actual result predict instruct udpr instruct index actual result use updat valu predictor final step ten eleven data depend graph updat reflect chang treegion schedul perform machin resourc restrict depend candid valu specul specul predict instruct section show result use differ threshold valu determin valu specul experiment result specint benchmark suit use experi program compil classic optim impact compil univers illinoi convert rebel textual intermedi represent elcor compil hewlettpackard laboratori then lego compil research compil develop north carolina state univers use insert profil code form treegion schedul instruct instrument valu profil intermedi code lego compil convert c code execut result c code gener valu profil data experi valu specul schedul vss load instruct filter target valu specul load instruct select usual critic path long latenc valu profil load instruct perform program tabl show statist profil run number total profil load instruct repres total number load instruct benchmark load instruct instrument profil number static load instruct repres number load instruct actual execut differ total profil static load instruct number load instruct visit number dynam load instruct total ed ic re peg pe rl vo rt e x ri hm e ic ean predict accuraci load instruct tr de two leve hy b r figur predict accuraci load instruct stride twolevel hybrid predictor load execut multipli execut frequenc stride twolevel hybrid valu predictor simul valu profil evalu predict accuraci load instruct sinc goal paper measur perform vss rather requir capac hardwar buffer indic conflict load model intellig index assign algorithm like produc result similar thi develop algorithm outsid total profil load instruct static load instruct dynam load instruct compress ijpeg perl vortex tabl statist total profil static dynam load instruct scope paper left futur work valu profil everi execut load instruct simul predict compar actual valu determin predict accuraci valu predictor simul updat actual valu would hardwar prepar predict next use entri stride valu predictor use two field stride current valu predict alway current valu plu stride stride equal differ recent current valu stride valu predictor alway gener predict finit state machin hardwar requir determin predict use twolevel valu predictor design four data valu six outcom valu histori pattern valu histori tabl first level valu histori pattern index pattern histori tabl second level pattern histori tabl employ four satur counter use select like predict amongst four data valu satur counter pattern histori tabl increment three twelv decrement one zero select data valu maximum satur counter valu alway gener predict hybrid valu predictor stride twolevel valu predictor util previou descript illustr earlier figur section hybrid design satur counter use select stride twolevel predict also increment three twelv decrement one zero figur show predict accuraci load instruct stride twolevel hybrid predictor predict accuraci twolevel predictor higher stride predictor benchmark except compress ijpeg howev averag predict accuraci stride predictor higher twolevel predictor larg perform differ compress examin valu trace compress show mani long stride sequenc predict correctli historybas twolevel predictor hybrid predictor capabl leverag advantag predict method highest predict accuraci averag across benchmark figur show predict accuraci distribut load instruct use hybrid predictor figur distribut static load figur distribut dynam load mksim dynam load instruct predict accuraci compress dynam load instruct predict accuraci mksim static load predict accuraci repres dynam load instruct compress static load predict accuraci load excel candid vss high predict accuraci result low overhead due execut patchup code howev benchmark go ijpeg respect figur predict accuraci distribut static load instruct use hybrid predictor red ic tor pred ict ion accurac i percentag load mksim gcc compress li ijpeg per vor tex figur predict accuraci distribut dynam load instruct use hybrid predictor hybrid pred ictor predict accuraci percentag dynam load gcc compress li ijpeg perl vortex dynam load instruct predict accuraci therefor gain much perform benefit vss vss algorithm figur perform program specint predict accuraci threshold valu evalu number candid valuespecul execut limit three valu predict paramet vari evalu valu three provid good result evalu speedup long instruct word architectur machin model base hewlettpackard laboratori playdoh architectur chosen one cycl latenc assum oper includ ldpred udpr except load two cycl floatingpoint add two cycl floatingpoint subtract two cycl floatingpoint multipli three cycl floatingpoint divid three cycl lego compil static schedul program specint schedul use treegion format increas schedul scope includ treelik structur basic block singl nonlinear region compil perform control specul allow oper schedul branch univers function unit execut oper type assum eight univers unit u machin model use function unit fulli pipelin integ latenc cycl load latenc cycl program execut time measur use schedul length region execut profil weight effect instruct data cach ignor perfect branch predict assum effort determin maximum potenti benefit vss figur show execut time speedup program schedul vss without vss five differ predict accuraci threshold use select load oper valu specul maximum speedup benchmark vortex illustr figur vortex mani dynam load oper highli predict vortex highest predict load oper sheer number illustr tabl result best perform benchmark mksim compress also show impress speedup respect use threshold speedup mksim actual goe up even predict threshold goe down result deduc distribut dynam load mksim steadi increas number dynam load avail threshold decreas taper speedup though misspredict seen near threshold compress step distribut dynam load reflect correspond step speedup perform gain gcc reflect larg number dynam load oper predict penalti misspredict lower threshold reduc speedup gcc benchmark li distribut dynam load similar gcc lower perform due fewer dynam load benchmark perl clearli suffer u machin model go mksim gcc compress li ijpeg perl vortex figur execut time speedup vss vss predict accuraci threshold valu use mani dynam load benchmark go ijpeg good predict load oper base perform result predict threshold appear good select distribut predict dynam load figur threshold includ larg major predict dynam load choos threshold predict lower result taper perform benchmark due higher penalti misspredict satur function unit resourc result fewer save execut cycl conclus futur work paper present valu specul schedul vss new techniqu exploit high predict registerwrit instruct techniqu leverag advantag hardwar scheme valu predict compil scheme expos ilp dynam valu predict use enabl aggress static schedul valu depend instruct specul way vss thought static ilp transform reli dynam valu predict hardwar result vss present paper impress especi consid load oper consid valu specul futur work includ studi heurist select registerwrit oper critic path avail function unit resourc remain data depend affect abil improv static schedul penalti patchup code vss also appli oper load base predict potenti benefit speedup mani candid valu specul execut depend instruct predict instruct branch patchup code allow also import paramet gener better heurist decid specul valu mani vss candid allow directli affect amount patchup code studi acknowledg work fund grant hewlettpackard ibm intel nation scienc foundat mip would like thank bill havanki sumedh sathay sanjeev banerjia member tinker group also thank anonym review valuabl comment r dynam memori disambigu use memori conflict buffer valu local load valu predict exceed dataflow limit via valu predict the predict data valu valu profil can program profil support valu predict highli accur data valu predict use hybrid predictor the effect instruct fetch bandwidth valu predict specul execut base valu predict treegion schedul wideissu processor the superblock effect techniqu vliw superscalar compil analysi techniqu predic code hpl playdoh architectur specif version intel hp make epic disclosur tr superblock dynam memori disambigu use memori conflict buffer valu local load valu predict analysi techniqu predic code exceed dataflow limit via valu predict predict data valu valu profil program profil support valu predict highli accur data valu predict use hybrid predictor treegion schedul wide issu processor ctr dean m tullsen john s seng storageless valu predict use prior regist valu acm sigarch comput architectur new v n p may tarun nakra rajiv gupta mari lou soffa valu predict vliw machin acm sigarch comput architectur new v n p may mikio takeuchi hideaki komatsu toshio nakatani new specul techniqu optim floatingpoint perform preserv bitbybit reproduc proceed th annual intern confer supercomput june san francisco ca usa daniel a connor wenmei w hwu compilerdirect dynam comput reus rational initi result proceed nd annual acmiee intern symposium microarchitectur p novemb haifa israel huiyang zhou jill flanagan thoma m cont detect global stride local valu stream acm sigarch comput architectur new v n may compil control valu predict use branch predictor base confid proceed rd annual acmiee intern symposium microarchitectur p decemb monterey california unit state youfeng wu dongyuan chen jess fang better explor regionlevel valu local integr comput reus valu predict acm sigarch comput architectur new v n p may lucian codrescu d scott will jame meindl architectur atla chipmultiprocessor dynam parallel irregular applic ieee transact comput v n p januari martin burtscher amer diwan matthia hauswirth static load classif improv valu predict datacach miss acm sigplan notic v n may chaoy fu jill t bodin thoma m cont model valu specul optim edg select problem ieee transact comput v n p march