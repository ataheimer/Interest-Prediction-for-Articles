t improv minmax aggreg spatial object a examin problem comput minmax aggreg collect spatial object spatial object associ weight valu exampl averag temperatur rainfal area cover object given queri rectangl minmax problem comput minimummaximum weight among object intersect queri rectangl tradit queri perform rang search queri assum object index spatial access method minmax comput object retriev requir effort proport number object intersect queri interv may larg better approach maintain aggreg inform among index node spatial access method variou index path elimin rang search paper propos four optim improv perform minmax queri experi show propos optim offer drastic perform improv previou approach moreov byproduct work present optim version msbtree index propos minmax comput dimension interv object b introduct comput aggreg object nonzero extent receiv lot attent recent yw zmt pkz ztg formal gener boxaggreg problem dene as given n weight rectangular object queri rectangl r ddimension space nd aggreg weight object intersect r paper examin problem comput min max aggreg boxmax spatial object object repres minimum bound rectangl mbr associ weight valu want aggreg rectangl also call box thu name boxaggreg sinc comput min symmetr follow discuss focu max aggreg moreov assum object index spatial access method sam like rtree variant comput scienc depart univers california riversid ca donghuicsucredu comput scienc depart univers california riversid ca tsotrascsucredu work ben support nsf grant ii eia depart defens gut bk srf boxmax problem mani reallif applic exampl consid databas keep track rainfal geograph area area repres dimension rectangl queri is nd max precipit lo angel district databas may also keep track time interv rainfal case store dimension rectangl one dimens repres rainfal durat boxmax queri then nd max precipit lo angel district interv three approach toward solv boxaggreg queri straightforward approach simpli perform rang search sam index object comput aggreg object retriev readili avail solut requir eort proport number object intersect queri rectangl larg perform improv sam maintain addit aggreg inform jl lm pkz exampl aggreg rtree artre pkz rtree store aggreg valu subtre index record point subtre travers index aggreg inform elimin variou search path thu improv queri perform third approach use special aggreg index built explicitli comput aggreg question yw zmt ztg index maintain aggreg increment addit index usual rather compact sinc index actual data practic much smaller repres set provid best queri perform main contribut paper are propos four optim improv minmax aggreg one optim the kmax attempt elimin path index travers aggreg comput such use either sam index object or special aggreg index optim union boxelimin areareduct elimin resiz object mbr aect minmax comput thu appli special minmax aggreg indic present special aggreg index minmax rtree mrtree use four optim present experiment comparison among plain rtree ar tree artre kmax optim mrtree experi show drastic improv propos optim use byproduct research discuss special aggreg index msb tree yw optim appli boxelimin optim msbtree ecient solv minmax problem special case onedimension interv object origin version need frequent reconstruct rest paper organ follow section discuss relat previou work section identi special characterist boxmax problem present optim tech niqu section summar mrtree section present result experiment comparison section appli one propos optim techniqu msbtree final section provid conclus problem research relat work two variat boxaggreg problem depend whether object zero extent point object not aggreg point object special case orthogon rang search receiv vast attent past year eld comput geometri detail refer survey meh ps mat ae solut util variat rangetre ben follow multidimension divid andconqu techniqu databas eld jl propos r tree store aggreg result index aok propos select travers multidimension index problem select estim correspond count aggreg lm propos multiresolut aggreg tree mratre augment index record rtree aggreg inform point record subtre mratre also use select travers provid estim aggreg result result progress rene jl propos perform model estim perform index structur without aggreg data special case point aggreg problem work data cube aggreg olap applic data cube gbl thought multidimension array rkr propos cubetre storag abstract cube realiz use pack rtree ecient support cube groupbi aggreg ham address boxmax boxsum for sum count avg queri data cube solut boxmax queri base store precomput max valu balanc hierarch structur solut improv hamb solut boxsum queri base precomput prex sum aggreg rang cover smallest cell array solut improv gae ci gae specic gae propos dynam data cube best updat cost recent ccl propos dynam updat cube improv updat cost olog k u k u number chang array cell aggreg object nonzero extent yw present sbtree solv boxsum queri special case onedimension time interv sbtree extend multivers sbtree mvsbtree zmt ecient support tempor boxsum aggreg queri keyrang predic ztg address boxsum aggreg spatiotempor object furthermor yw present msbtree boxmax queri onedimension interv object artre pkz origin propos index spatial dimens spatial data warehous environ use solv boxsum boxmax queri spatial data nonzero extent artre rtree store index record aggreg valu object subtre sinc artre built support boxsum boxmax queri fulli optim toward boxmax queri artre use start point optim includ experiment comparison purpos also relat as answer window queri top pyramid data structur aggreg use existencenonexist imag featur visibl terrain data last spatialtempor data warehous environ pkzb propos aggreg rbtree arbtre use rtree index spatial dimens record r rtree pointer btree keep histor data r propos optim paper focu discuss max aggreg discuss min aggreg symmetr omit goal solv boxmax problem set object box valu given queri box q want nd maximum valu object intersect q assum object index treelik structur eg rtree object store leaf node mbr intern node contain mbr children use index boxmax queri answer perform rang search section propos four optim improv perform rst introduc notat indexleaf record entri internalleaf node tree given leaf record r let rbox rvalu denot mbr valu record respect given index record r let rbox denot mbr rvalu denot maximum valu record subtreer rchild denot child page point r kmax optim artre rtree index record store maximum valu leaf record subtre queri box contain mbr index record valu store record contribut queri answer examin subtre omit howev note higher level artre index record larg mbr boxmax queri like stop higher level artre kmax optim extens keep constant number leaf object along index record even queri box contain mbr index record examin subtre may omit kmax optim along index record r store k object for small constant subtreer largest valu among object subtre examin record r boxmax queri queri box intersect k maxvalu object r examin subtreer omit clearli kmax optim allow path omit index travers howev benet kmax queri perform provid free overal space increas sinc node store inform well updat time eort need maintain k object henc practic constant k kept small experi found larg improv queri time even small point out next three optim appli index explicitli maintain minmax aggreg to avoid confus call explicit index minmax index sinc minmax problem increment maintain tupl delet databas yw follow discuss assum appendonli databas ie spatial object insert databas never delet spatial object mbr obox valu ovalu insert databas obox accompani ovalu insert leaf record minmax index well howev describ insert may appli minmax index may caus exist mbr delet alter minmax index such use r tree implement minmax index result appli four optim mrtree boxelimin optim consid two leaf record need maintain minmax index sinc contribut max queri thu say becom obsolet due boxelimin optim insert object o leaf index record r found obox contain rbox ovalu rvalu remov r minmax index r index record remov subtreer well optim reduc size minmax index sinc subtre may remov insert tradeo time updat minmax index overal space occupi index newli insert object may make obsolet one exist record dierent path root leav minmax index made compact obsolet record and subtre remov howev may result expens updat process updat kept fast choos remov obsolet record met along insert path which singl path sinc use r tree implement minmax index complex insert algorithm remain olog n n number mbr minmax index which practic much smaller total number spatial object collect anoth choic choos c path remov obsolet record met along path c constant space occupi obsolet subtre reus union optim boxelimin optim focus make obsolet exist record index union optim focus make obsolet object insert minmax tree first note mbr object insert minmax index exist leaf object index whose mbr contain larger valu insert safe ignor purpos minmax comput fulli implement test path may contain object check worst may check leaf object minmax tree better heurist use k maxvalu mbr new object contain k maxvalu mbr found along index node insert path smaller valu need perform insert moreov observ even mbr object insert fulli contain exist leaf object still might safe ignor it case new object mbr contain union mbr sever exist object illustr gure shadow box repres new object insert two rectangl repres two object alreadi minmax index sinc new object contain union two exist object smaller valu insert safe ignor figur new object becom obsolet union two exist object implement techniqu index record r minmax index store union denot runion mbr leaf object subtreer minimum valu denot rlow object subtreer overal optim describ below union optim insert object o indexleaf record r found obox cover runionrbox ovalu rlowrvalu insert ignor moreov check whether maxvalu object store r cover obox valu smaller ovalu also make remain question optim store union leaf object index record worst union may need space proport number leaf object creat it given index record limit space store approxim union particular store good approxim repres box mbr small constant import approxim aect queri time correct queri result approxim union cover area cover actual union may erron make obsolet new object approxim union complet cover actual union formal state problem follow denit given constant set n box t cover tunion dene set box maxim ie exist anoth set box fa satisfi rst condit cover larger space nd exact answer exhaust search algorithm twodimension case take on time clearli unaccept need nd ecient algorithm comput good approxim cover tunion again order boxmax queri give correct result requir approxim cover tunion complet cover origin n box herebi propos on log n algorithm algorithm coveredunionbox srcn number n given set n box src return approxim cover tunion src note algorithm use small constant t c max tri seed c box src whose area largest initi set destin box dest empti everi dimens project src box dimens sort project end point array projd n endfor pick box b seed largest area cover union box dest loop max tri time dimens tryextend b fals endfor b cannot enlarg extend direct break els b extend box largest area endloop add b set endfor return dest algorithm tryextendbox b dimens boolean posit given box b dimens boolean variabl posit denot whether b extend posit neg direct along dimens tri extend b return it posit true tri extend posit direct find smallest number w projd larger project b dimens tri extend b w dimens shrink dimens need make sure b cover union src box extens success area b grow els tri extend neg direct similar omit endif return b idea algorithm coveredunion pick box origin n box tri expand one much possibl choos th box t choos one largest area cover box comput far expand chosen box tri expand along direct parallel axe trivial analysi show complex algorithm on log n follow discuss term union mean approxim cover tunion areareduct optim last optim propos dynam reduc box area object insert areareduct optim insert object o index record r found runion intersect obox rlow ovalu reduc size obox subtract area cover runion insert lower level insert reach leaf object intersect new object equal larger valu area new object reduc accordingli box new object similarli reduc maxvalu object store index record r exist whose box intersect obox whose valu smaller ovalu optim reduc mbr object reduc part cover exist record tree larger equal valu henc correct minmax aggreg aect one benet optim overlap among sibl record tree reduc figur show exampl two larg box repres two index record r r assum r union equal mbr r combin lightshadow dark shadow box repres object insert valu object recurs insert subtreer without appli areareduct optim r box would need expand fulli contain new object hand appli optim lightshadow area subtract thu insert subtreer much smaller box the darkshadow area fulli contain r box thu expans r neededr min figur areareduct optim help reduc overlap anoth benet areareduct optim help make new record obsolet exampl consid gure again possibl lower level subtreer darkshadow area found obsolet sinc lightshadow area alreadi made obsolet r due optim there need insert record all note result box area subtract may set box rather singl box object insert may fragment sever smaller box optim one choic handl follow r tree srf approach ie insert everi small box separ copi choic increas space overhead anoth choic maintain list small box execut insert algorithm go tree small box may becom smaller obsolet eventu leaf level mbr smaller box insert note mbr larg origin box insert mani case much smaller minmax r tree mrtree dynam diskbas heightbalanc tree structur two type page leaf page index page page size sinc mrtree base r tree page except root record least record leaf record form hbox v i v valu record index record form lowi box child usual mean list b k maxvalu leaf object subtre index record sort decreas order valu b stand mbr v valu leaf object th largest valu union store box the approxim tunion leaf mbr low minimum valu leaf object subtre algorithm boxmaxpag n box b valu v given tree node n queri box b run valu v algorithm return boxmax queri result subtre root n everi record r n rbox intersect b rv v n leaf els exist k rb intersect b let smallest one satisfi condit rv v set els v boxmaxpagerchild b v endif endif endfor return v boxmax straightforward recurs algorithm nd boxmax box b call boxmaxroot page b main dierenc algorithm rang queri algorithm rtree step correspond kmax optim index record r algorithm check k maxvalu object store r intersect b need examin subtreer algorithm inserttre box b valu v given tree index box b valu v algorithm insert object b v n root page n leaf everi record r n rbox intersect b rbox contain b rv v remov subtreer els everi rv v modifi box subtract rb it endfor rlow v modifi everi box subtract runion it endif endfor n zero record goto step empti goto step endwhil optim leaf page similar step omit empti insert hmbr vi n n root n ow splitn els n ow remov n reinsert record n tree n s level endif adjust entri parentn point n set n parentn endwhil n ow split old root creat new root els n one record n leaf remov n set n s child new root endif gener insert algorithm follow singl path root leaf reorgan may follow path back root optim appli go tree step correspond boxelimin optim remov subtre newli insert object larger valu spatial contain subtre step correspond areareduct optim tri reduc size box insert step deal rare case subtre index page n becom obsolet due insert object may occur n root page sinc otherwis index record point n parent page would obsolet n chanc examin case algorithm result tree singl page singl record step mean object insert obsolet recurs insert lower level need step choos child page recurs insert into use algorithm rtree choosechild procedur discuss detail here step path page examin backward way split owe page reinsert entri owe page ident approach rtree plu mainten addit inform kept along index record step handl owund ow root page consequ tree height may increasedecreas perform compar perform propos mrtree plain r tree artre artre kmax optim denot artre kmax algorithm implement c use gnu compil program run sun enterpris server machin two mhz ultrasparcii processor use solari page size kb space limit report perform mrtree number maxvalu object kept index record number box use repres union similarli ar kmax use index util lru buer path buer buer recent access path total memori buer use program page present result two dataset contain million squar object randomli select twodimension space space dimens million rst data set use test perform presenc small object size object randomli chosen second data set contain medium size object size object randomli chosen r ar kar mrqueri rectangl area queri time sec a index size b queri perform figur compar perform small object dataset figur compar perform small object dataset gure use r ar kar mr repres rtree artre artre kmax propos mrtree respect mrtree use less space gure a method obsolet record remov index artre kmax occupi space sinc compar rtree artre store inform index record evalu queri perform queri rectangl area vari whole space queri rectangl size randomli gener squar queri measur total run time run time obtain multipli number io averag disk page read access time ms ad measur cpu time cpu time measur ad time spent user system mode return getrusag system call figur b show averag time per queri variou queri size method compar small queri rectangl sinc object satisfi queri anyway mrtree clearli best queri rectangl size increas note queri time scale logarithm actual dierenc queri speed drastic for exampl queri size mrtree time faster artre reason larg queri rectangl minmax queri chanc stop higher level mrtree particular artre decid omit examin subtre queri rectangl contain box whole subtre hand mrtree search may omit travers subtre even queri rectangl partli intersect it use kmax optim seen compar ar tree kmax plain artre mrtree perform better artre kmax two reason first due addit optim mrtree store fewer object second object mrtree smaller area the area reduct optim thu achiev better cluster r ar kar mrqueri rectangl area queri time sec a index size b queri perform figur compar perform medium object mediums object perform improv mrtree structur even better gure reason larger object chanc contain object thu make obsolet result mrtree becom compact trend continu dataset larger object result shown breviti also compar index gener time small object gure a mrtree need cpu time gener about time more littl less io time expect although mrtree occupi less space gener need cpu time maintain extra inform store index record medium object gure b mrtree take r ar kar mrio cpu creation time kilo sec r ar kar mr io cpu creation time kilo sec a small object b medium object figur compar index creation time cpu time less io time compar structur sinc much smaller optim msbtree rst review msbtree propos yw answer boxmax queri dimension interv data show use one propos optim techniqu improv it msbtree msbtree tree structur record r tree node interv ri valu rv interv record tree node intersect union interv index record point node object insert also interv oi valu ov index record r extra valu ru explain shortli focu discuss max aggreg initi one node leaf node insert object leaf node l everi record r l ri intersect oi examin ov rv insert eect otherwis oi contain ri set otherwis split r two or three record one correspond intersect ri oi other correspond rest ri leaf node l ow split two page record evenli distribut two page base interv posit perform boxmax queri leaf page easi locat record intersect queri interv return maximum valu record besid interv i valu v pointer child child page index record also valu u mean u v index record r follow subtreer standalon tree rv would lower bound boxmax queri ru would upper bound sinc queri subtreer may standalon tree need maintain run valu correspond boxmax get far examin path root page point r nal queri result larger valu run valu boxmax queri result subtreer thu perform boxmax queri interv qi index page run valu current check record r intersect qi ru current noth done otherwis qi contain ri set current ru otherwis set current queri result subtreer discuss insert object index page i everi record r ri intersect oi examin first all ru ov need set keep ru upper bound next check ov rv ov rv noth need done otherwis oi contain ri simpli set otherwis recurs insert note given level l msbtree given interv i two record level l intersect i insert algorithm queri algorithm examin two path tree thu complex olog b m b page capac number record number leaf record sinc insert split two leaf record number updat ever perform much smaller n observ thi consid insert object whole space ov larger exist valu tree obvious insert although n arbitrarili larg compact tree one leaf record ie msbtree call compact number leaf record minimum msbtree updat algorithm ensur compact tree sinc ideal maintain small m yw propos period reconstruct msbtree reconstruct whole tree brows depthrst manner report everi interv togeth aggreg valu interv interv thu report continu one anoth adjac interv valu merg interv insert second initi empti msbtree eventu replac origin tree optim msbtree reconstruct phase msbtree olin ie new insert made discuss appli boxelimin optim propos section msbtree get rel much smaller tree remain onlin idea whenev u v valu index record r becom equal insert process remov whole subtreer implement thi modi insert algorithm insert object index page i add follow step origin insert algorithm record r oi contain ri ru ov remov subtreer mark r obsolet ie point obsolet page combin adjac obsolet record propag obsolet record leaf page remain discuss propag obsolet index record r leaf level r record page merg page sibl page otherwis exist sibl record obsolet without lose gener suppos si right ri merg r extend si contain ri also rst record everi node leftmost path start schild need extend well let analyz complex modi algorithm level tree algorithm examin two page page ob obsolet record record need follow singl path page contain record leaf thu worst case updat complex ob log b m number leaf record note discuss count cost free space occupi subtre point obsolet record fact sinc subtre need updat queri perform later garbag collect perform background process compar origin msbtree updat algorithm modi updat algorithm littl expens worst case howev happen often sinc time modi algorithm spend time updat tree shrink major benet optim algorithm origin one optim one result much smaller tree without period reconstruct exampl consid previou exampl insert object oi whole space ov larger everi exist record origin algorithm simpli updat u v valu rootlevel record thu number leaf record chang hand optim algorithm immedi decid whole tree obsolet thu result compact tree tree one leaf record conclus examin problem comput minmax aggreg queri spatial object nonzero extent propos four optim techniqu improv queri perform introduc mrtree new index explicitli design mainten minmax aggreg mrtree combin propos optim experiment comparison show approach provid drastic improv especi queri size increas by product show one optim appli exist aggreg index the msbtree acknowledg would like thank d gunopulo mani help discuss also thank d papadia provid us valuabl input relat work includ own final grate b seeger r tree code r comput geometri introduct tr comput geometri introduct rtree effici robust access method point rectangl geometr rang search rang queri olap data cube cubetre effici process window queri pyramid data structur multidimension divideandconqu effici comput tempor aggreg rang predic progress approxim aggreg queri multiresolut tree structur rtree dynam data cube data cube increment comput mainten tempor aggreg hierarch prefix cube rangesum queri rtree dynam updat cube rangesum queri effici olap oper spatial data warehous rtree pisa avoid build databladesr know valu everyth cost noth rel prefix sum ctr jie zhang michael gertz demet aksoy spatiotempor aggreg raster imag data proceed th annual acm intern workshop geograph inform system novemb washington dc usa zhang j tsotra optim spatial minmax aggreg vldb journal intern journal larg data base v n p april ine fernando vega lopez richard t snodgrass bongki moon spatiotempor aggreg comput survey ieee transact knowledg data engin v n p februari