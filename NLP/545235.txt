t use userlevel memori thread correl prefetch a paper introduc idea use userlevel memori thread ulmt correl prefetch approach user thread run generalpurpos processor main memori either memori control chip dram chip thread perform correl prefetch softwar send prefetch data l cach main processor approach requir minim hardwar beyond memori processor correl tabl softwar data structur resid main memori main processor need modif l cach accept incom prefetch addit approach wide usabl effect prefetch even irregular applic final flexibl prefetch algorithm custom user applic basi simul result show that new design correl tabl prefetch algorithm scheme deliv good result specif nine mostlyirregular applic show averag speedup furthermor scheme work well combin convent processorsid sequenti prefetch case averag speedup increas final exploit custom prefetch algorithm increas averag speedup b introduct data prefetch popular techniqu toler long memori access latenc past work data prefetch focus processorsid prefetch approach processor engin cach hierarchi issu prefetch request interest altern memorysid prefetch engin prefetch data processor main memori system memorysid prefetch attract sever reason first elimin overhead state bookkeep prefetch request introduc path main processor cach second support modif control l cach modif main pro cessor third prefetch exploit proxim memori advantag exampl store state memori fi nalli memorysid prefetch addit attract ride technolog trend increas chip integr inde popular platform like pc equip graphic engin memori system chipset like nvidia nforc even integr power processor north bridg chip simpler work support part nation scienc foundat grant ccr eia eia che darpa grant fc michigan state univers gift ibm intel hewlettpackard engin provid prefetch exist graphic processor augment prefetch capabl moreov propos integr process logic dram chip iram unfortun exist propos memorysid prefetch engin narrow scope inde design hardwar control perform simpl specif oper design special engin customdesign prefetch link data structur instead would like engin usabl wide varieti workload offer flexibl use programm memorysid prefetch support varieti prefetch algorithm one type particularli suit correl prefetch correl prefetch use past sequenc refer miss address predict prefetch futur miss sinc program knowledg need correl prefetch easili move memori side past correl prefetch support hardwar control typic requir larg hardwar tabl keep correl case one control place l l cach processor l effect approach high hardwar cost fur thermor often unabl prefetch far ahead enough deliv good prefetch coverag paper present new scheme correl prefetch perform userlevel memori thread ulmt run simpl generalpurpos processor memori processor either memori control chip dram chip prefetch line l cach main processor scheme requir minim hardwar support beyond memori pro cessor correl tabl softwar data structur resid main memori main processor need modif l cach control accept incom prefetch moreov scheme wide usabl effect prefetch even irregular applic final flexibl prefetch algorithm execut ulmt custom programm applic basi use new design correl tabl correl prefetch algorithm scheme deliv averag speedup nine mostlyirregular applic furthermor scheme work well combin convent processorsid sequenti prefetch case averag speedup increas fi nalli exploit custom prefetch algorithm increas averag speedup paper organ follow section discuss memorysid correl prefetch section present ulmt correla possibl locat memori processor chip north bridg memori cpu a proc main mem proc mem main memori system lookup repli prefetch j k fetch b proc main mem proc mem main memori system execut fetch prefetch repli c figur memorysid prefetch locat memori processor place a action push passiv b push activ c prefetch tion prefetch section discuss evalu setup section evalu design section discuss relat work section conclud memorysid correl prefetch memorysid prefetch memorysid prefetch occur prefetch initi engin resid either close main memori beyond memori bu insid manufactur built engin typic simpl hardwir control probabl recogn simpl stridebas sequenc prefetch data local buffer exampl nvidia dasp engin north bridg chip intel prefetch cach chipset paper propos support memorysid prefetch userlevel thread run generalpurpos core core simpl need support float point illustr purpos figur a show memori system pc core place differ place north bridg memori control chip dram chip place north bridg simplifi design dram modi fie moreov exist system alreadi includ core north bridg graphic process could potenti reus prefetch place core dram chip complic design result highlyintegr system lower memori access latenc higher memori bandwidth paper examin perform potenti design memori processorsid prefetch push pull or ondemand prefetch respect push prefetch occur prefetch data sent cach processor request it pull prefetch opposit clearli memori prefetch act pull prefetch simpli buffer prefetch data local suppli processor demand gener howev memorysid prefetch interest perform push prefetch cach processor hide larger fraction memori access latenc memorysid prefetch also classifi passiv ac tive passiv prefetch memori processor observ request main processor reach main memori base them examin intern state memori processor prefetch data main processor expect latter need futur figur b activ prefetch memori processor run abridg version code run main processor execut code induc memori processor fetch data main processor need later data fetch request also sent main processor figur c paper concentr passiv push memorysid prefetch l cach main processor memori processor aim elimin l cach miss sinc one see typic l cach miss time import contributor processor stall due memori access usual hardest hide outoford execut approach prefetch inexpens support main processor core need modifi all l cach need follow support first system l cach accept line memori re quest so l use free miss statu handl regist mshr event secondli l pend request prefetch line address arriv prefetch simpli steal mshr updat cach repli final prefetch line arriv l drop follow case l cach alreadi copi line writeback queue copi line l cach tri write back memori mshr busi line set prefetch line want go transactionpend state correl prefetch correl prefetch use past sequenc refer miss address predict prefetch futur miss two popular correl scheme stridebas pairbas scheme stridebas scheme find stride pattern address sequenc prefetch address access pattern continu futur pairbas scheme identifi correl pair group address exampl miss sequenc successor miss typic implement pairbas scheme use correl tabl record address correl later miss observ address correl address prefetch pairbas scheme attract gener appli cabil work miss pattern long miss address sequenc repeat behavior common regular irregular applic includ spars matric link data structur furthermor pairbas scheme like correl scheme need neither compil support chang applic binari pairbas correl prefetch studi use hardwarebas implement typic place custom prefetch engin hardwar correl tabl processor l cach l l cach typic correl tabl use organ follow row store tag address miss address set immedi successor miss miss seen immedi follow first one differ point applic paramet tabl maximum number immedi successor per miss numsucc maximum number miss tabl store predict numrow associ tabl assoc accord best perform entri row replac lru polici figur a illustr algorithm work call algorithm base figur show two snapshot tabl differ point miss stream i ii within row successor list mru order left right time hardwar keep pointer row last miss observ miss occur tabl learn place miss address one immedi successor last miss new row alloc new miss unless alreadi exist tabl use prefetch iii react observ miss find correspond row prefetch numsucc successor start mru one design work slightli differ discuss section past work demonstr applic pairbas correl prefetch mani applic howev also reveal shortcom approach one critic problem that effect approach need larg tabl propos scheme typic need mbyte onchip sram tabl applic larg footprint even need mbyte offchip sram tabl furthermor popular scheme prefetch sever potenti immedi successor miss two limit prefetch far ahead and intuit need observ one miss elimin anoth miss it immedi successor result tend low coverag coverag number use prefetch origin number miss ulmt correl prefetch propos use ulmt elimin shortcom pair base correl prefetch enhanc advantag follow discuss main concept section architectur system section modifi correl prefetch algorithm section relat oper system issu sec tion main concept ulmt run generalpurpos core memori perform two conceptu distinct oper learn prefetch learn involv observ miss main processor l cach record correl tabl one miss time prefetch oper involv react one miss look correl tabl trigger prefetch sever memori line l cach main processor action taken writeback memori practic agreement past work find combin learn prefetch work best correl tabl continu learn new pattern uninterrupt prefetch deliv higher perform consequ ulmt execut infinit loop shown figur initi thread wait miss observ observ one look tabl gener address line prefetch prefetch step then updat tabl address observ miss learn step resum wait prefetch address occup time miss address observ gener respons time tabl updat learn step prefetch step wait figur infinit loop execut ulmt prefetch algorithm execut ulmt character respons occup time respons time time ulmt observ miss address gener address prefetch best perform respons time small possibl alway execut prefetch step learn one moreov shift much comput possibl prefetch learn step retain critic oper prefetch step occup time time ulmt busi process singl observ miss ulmt implement prefetch viabl occup time smaller time two consecut l miss time correl tabl ulmt read write simpli softwar data structur memori consequ scheme elimin costli hardwar tabl requir current implement correl prefetch moreov access softwar tabl inexpens memori processor transpar cach tabl cach final new scheme enabl redesign correl tabl prefetch algorithm sec tion address lowcoverag shortdist prefetch limit current implement architectur system figur a b show architectur system integr memori processor north bridg chip dram chip respect first design requir modif dram interfac larg compat convent memori system second design need chang dram chip interfac need special support work typic memori system multipl dram chip howev sinc goal examin perform potenti two design abstract away implement complex second design assum singlechip main memori follow outlin system work discuss consid memori access result miss ignor writeback simplic affect algorithm figur a key commun occur queue miss request main processor deposit queue simultan ulmt use entri queue build tabl and base it gener address prefetch latter deposit queue queue compet access memori although queue lower prioriti address line prefetch deposit queue hardwar compar entri queue match address address x detect x remov queue remov x queue redund higherprior bridg chip unit north memori control memoryinterfac buscach memori processor main processor filter a interfac bu dramfilt memori control main processornorth bridg chip cach memori processor unit b figur architectur system integr memori processor north bridg chip a dram chip b request x alreadi queue x remov queue save comput ulmt note unclear whether lost opportun prefetch xs successor process x reason algorithm prefetch sever level successor section and result xs successor may alreadi queue process x may help improv state correl tabl howev minim total occup ulmt crucial scheme similarli mainprocessor miss deposit queue hardwar compar address queue match request put queue match entri queue remov possibl request main processor arriv fast ulmt consum queue overflow case memori processor simpli drop request figur a also show filter modul associ queue modul improv perform correl prefetch may sometim tri prefetch address sever time short time filter modul drop prefetch request direct address recent issu anoth prefetch request modul fixeds fifo list record address recentlyissu request request issu queue hardwar check filter list find address request drop list left unmodifi otherwis address ad tail list support unnecessari prefetch request elimin complet figur show queue repli memori main processor go queue addit ulmt need access softwar correl tabl main mem ori recal tabl transpar cach memori processor logic queue provid necessari path memori processor access main memori practic queue merg other memori processor dram chip figur b system work slightli differ miss request main processor deposit first queue queue ulmt memori processor access correl tabl cach and miss directli dram address prefetch pass filter modul place queue figur a entri queue check other common entri drop repli prefetch mainprocessor request return memori control reach memori control address compar processor miss request queue memoryprefetch line match miss request main processor former consid repli latter latter sent memori chip final machin includ form processorsid prefetch ing envis architectur oper two mode verbos nonverbos verbos mode queue figur a b receiv mainprocessor miss mainprocessor prefetch re quest nonverbos mode queue receiv mainprocessor miss mode assum mainprocessor prefetch request distinguish request exampl tag mip r nonverbos mode use reduc total occup ulmt case processorsid prefetch focu easytopredict sequenti regular miss pattern ulmt focu hardtopredict irregular one verbos mode also use ulmt implement prefetch algorithm enhanc effect processorsid prefetch present exampl case section correl prefetch algorithm simpli take current pairbas correl tabl algorithm implement softwar good enough inde indic section base algorithm two limit prefetch far ahead and intuit need observ one miss elimin anoth miss it immedi successor result tend low coverag increas coverag three thing need occur first need elimin two limit store tabl and prefetch ing sever level successor miss per miss immedi succ sor successor immedi successor sever lev el second prefetch highli accur final prefetch take decis earli enough prefetch line reach main processor need condit easier support ensur correl algorithm implement ulmt two reason it first one storag cheap and therefor correl tabl inexpens expand hold multipl level successor miss per miss even mean replic in format second reason customiz provid softwar implement prefetch algorithm rest section describ ulmt implement correl prefetch deliv high coverag describ three approach use convent tabl organ use tabl reorgan ulmt exploit customiz c c miss prefetch d b c c abcadc ii current miss c abcadc current miss miss sequenc correl tabl a c c miss prefetch d b prefetch c follow link c c abcadc ii current miss c abcadc current miss correl tabl miss sequenc b abcadc c c c last secondlast current miss c c last c c c secondlast abcadc current miss miss sequenc correl tabl miss prefetch dbc c figur pairbas correl algorithm base a chain b replic c use convent tabl organ first step attempt improv coverag without specif exploit lowcost storag customiz advantag ulmt simpli take convent tabl organ section forc ulmt prefetch multipl level successor everi miss result algorithm call chain chain take paramet base plu numlevel number level successor prefetch algorithm illustr figur b chain updat tabl like base i ii prefetch differ iii specif prefetch row immedi suc cessor take mru one among access correl tabl address entri found prefetch numsucc successor there then take mru successor row repeat process done numlevel time exampl suppos miss occur iii ulmt first prefetch b then take mru entri d looksup tabl prefetch ds successor c chain address two limit base name prefetch far ahead need one miss elimin second one howev chain may deliv high coverag two reason prefetch may highli accur ulmt may high respons time issu prefetch prefetch may inaccur chain prefetch true mru successor level successor instead prefetch successor found along mru path ex ampl consid sequenc miss altern abc bebf abcbebfabc miss encount chain prefetch immedi successor b access entri b prefetch e f note c prefetch high respons time chain miss come make numlevel access differ row tabl access involv associ search tabl associ and potenti one cach miss use tabl reorgan ulmt attempt improv coverag exploit low cost storag ulmt solut specif expand tabl allow replic inform row tabl store tag miss address numlevel level successor level contain numsucc address use lru replac use tabl propos algorithm call replic figur c replic take paramet chain shown figur c replic keep numlevel pointer tabl pointer point entri address last miss second last on use effici tabl access miss occur pointer use access entri last miss insert new address mru successor correct level i ii figur numsucc entri level mru order final prefetch replic simpl miss seen entri correspond row prefetch iii note replic elimin two problem chain first prefetch accur contain true mru successor level result group togeth successor given level irrespect path taken sequenc shown abcbebfabc miss a replic prefetch b c second respons time replic much smaller chain inde replic prefetch sever level successor singl row access mayb even singl cach miss replic effect shift comput prefetch step learn one prefetch need singl tabl access learn miss need multipl tabl updat good tradeoff prefetch step critic one furthermor multipl learn updat inexpens use pointer elimin need associ search tabl row updat like still cach memori processor sinc updat recent exploit customiz ulmt also improv coverag exploit second advantag ulmt solut customiz programm system choos run differ algorithm ulmt ap plicat chosen algorithm highli custom applic need one approach custom use tabl organ prefetch algorithm describ tune paramet applic basi exampl applic miss sequenc highli predict set number level successor prefetch numlevel high valu result characterist base chain replic level successor prefetch numlevel numlevel true mru order level ye number row access prefetch step requir search numlevel number row access learn step requir respons time low high low space requir for constant number prefetch x x numlevel x tabl compar differ pairbas correl prefetch algorithm run ulmt prefetch level successor high accuraci applic unpredict sequenc opposit also tune number row tabl numrow applic larg footprint set numrow high valu hold inform tabl small applic opposit save space second approach custom use differ prefetch algorithm exampl add support sequenti prefetch algorithm describ abov result algorithm low respons time sequenti miss pattern anoth approach adapt decid algorithm onthefli applic execut fact approach also use execut differ algorithm differ part one applic intraappl customiz may use complex applic final ulmt also use profil purpos monitor miss applic infer higherlevel inform cach perform applic access pattern page conflict compar algorithm tabl compar base chain replic algorithm execut ulmt replic highest potenti high coverag support farahead prefetch prefetch sever level successor prefetch high accuraci prefetch true mru successor level low respons time part need access singl tabl row prefetch step access singl row minim associ search cach miss shortcom replic larger space requir correl tabl howev minor issu sinc tabl softwar structur alloc main memori note algorithm also implement hardwar howev replic suitabl ulmt implement provid larger space requir hardwar expens oper system issu oper system issu relat ulmt oper outlin here protect ulmt separ address space instruct correl tabl data structur ulmt share neither instruct data applic ulmt observ physic address applic miss also issu prefetch address behalf main processor howev neither read write address therefor protect guarante multiprogram environ poor approach applic share singl tabl tabl like suffer lot interfer better approach associ differ ulmt tabl applic elimin interfer tabl addit enabl custom ulmt applic conserv assum mbyte tabl averag per applic applic requir mbyte modest fraction today typic main memori requir excess save space dynam size tabl case applic use space tabl shrink schedul schedul know ulmt associ applic consequ schedul schedul preempt applic ulmt group furthermor oper system provid interfac applic control ulmt page remap sometim page get remap sinc ulmt oper physic address event caus tabl entri becom stale choos take action let tabl updat automat learn altern oper system inform correspond ulmt remap occur pass old new physic page number then ulmt index tabl line old page entri found ulmt reloc updat tag applic successor row given current page size estim tabl updat take microsecond overhead may overlap execut oper system page map handler main processor note entri tabl may still keep stale successor inform inform may caus useless prefetch tabl quickli updat automat evalu environ applic evalu ulmt approach use nine mostli irregular memoryintens applic irregular applic hardli amen compilerbas prefetch consequ obviou target ulmt correl prefetch except cg regular applic tabl describ applic last four column tabl explain later simul environ evalu done use executiondriven simul environ support dynam superscalar processor model model pc architectur simpl memori processor integr either north bridg chip dram chip follow microarchitectur figur tabl show paramet use compon architectur cycl ghz cycl architectur model cycl cycl model uniprogram environ singl applic singl ulmt execut concurr model content system includ content applic thread ulmt share resourc memori control dram channel dram bank processorsid prefetch main processor option includ hardwar prefetch prefetch multipl stream stride l cach prefetch monitor l cach miss identifi prefetch numseq sequen correl tabl appl suit problem input numrow size mbyte base chain repl cg na conjug gradient class equak specfp seismic wave propag simul test ft na fourier transform class gap specint group theori solver rako subset test mcf specint combinatori optim test mst olden find minimum span tree node parser specint word process subset train spars sparsebench gmre compress row storag tree univ hawaii barneshut nbodi problem bodi averag tabl applic use main processor issu dynam ghz int fp ldst fu pend ld st branch penalti cycl memori processor issu dynam mhz int fp ldst fu pend ld st branch penalti cycl main processor memori hierarchi line cycl hit rt l data writeback kb way b line cycl hit rt rt memori latenc cycl row miss cycl row hit memori bu splittransact b mhz gbsec peak memori processor memori hierarchi line cycl hit rt north bridg rt mem latenc cycl row miss cycl row hit latenc prefetch request reach dram cycl dram rt mem latenc cycl row miss cycl row hit intern dram data bu b wide mhz gbsec peak paramet applic proc dual channel channel b mhz total gbsec peak random access time trac ns time memori control tsystem ns depth queue filter modul tabl paramet simul architectur latenc correspond contentionfre condit rt stand roundtrip processor cycl ghz cycl tial stream concurr work follow third miss sequenc observ prefetch recogn stream then prefetch next numpref line stream l cach furthermor store stride next address expect stream special regist processor later miss address regist prefetch prefetch next numpref line stream updat regist prefetch contain numseq regist see scheme work somewhat like stream buffer prefetch line go l choos approach minim hardwar complex shortcom l cach may get pollut complet resimul system prefetch go separ buffer rather l found perform chang littl part check buffer l miss introduc delay algorithm paramet tabl list prefetch algorithm evalu default paramet use sequenti prefetch support hardwar main processor call conven convent also implement softwar ulmt evalu two softwar implement seq seq case prefetch memori observ l miss rather l unless otherwis indic processorsid prefetch and on ulmt algorithm oper nonverbos mode sec tion base algorithm choos paramet valu use joseph grunwald compar work last four column tabl give conserv valu size correl tabl applic tabl twoway setassoci size number row tabl numrow lowest power two that trivial hash function simpli take lower bit line address less insert replac exist entri gener alloc sophist hash function reduc numrow significantli without increas conflict much case know row base chain repl take byte respect bit machin comput total tabl size overal applic need space other averag valu toler mbyte base chain repl respect ulmt implement wrote ulmt c handoptim minim respons occup time one major perform bottleneck implement frequent branch remov branch unrol loop hardwir algorithm paramet also perform optim increas spatial local reduc instruct count none algorithm use floatingpoint oper evalu character applic behavior predict miss sequenc start character well ulmt algorithm predict miss sequenc applic that run ulmt algorithm simpli observ l cach miss address without perform prefetch ing record fraction l cach miss correctli predict sequenti prefetch mean upcom miss address match next address predict one stream identifi pairbas prefetch upcom address match one successor predict level figur show result predict three level suc cessor given miss level chart show predict immedi successor level show predict next successor level successor one experi pairbas scheme use larg tabl ensur practic predict miss due conflict tabl num row k assoc numsucc condi prefetch algorithm implement name paramet valu base base chain chain replic softwar memori ulmt repl sequenti stream seq sequenti stream seq sequenti stream hardwar l main processor conven tabl paramet valu use differ algorithm level correct predict seq base level cg equak ft gap mcf mst parser spars tree averag correct predict chain repl level cg equak ft gap mcf mst parser spars tree averag correct predict chain repl figur fraction l cach miss correctli predict differ algorithm differ level successor tion level chain repl equival base level base applic figur also show effect combin algorithm figur show ulmt algorithm effect predict miss stream applic exampl level seq base correctli predict averag miss re spectiv moreov best algorithm keep predict correctli across sever level successor exampl repl correctli predict averag miss level re spectiv therefor algorithm good potenti figur also show differ applic differ miss behavior instanc applic mcf tree sequenti pattern and therefor pairbas algorithm predict miss applic cg instead sequenti pattern domin result sequenti prefetch predict practic l miss applic mix pattern among pairbas algorithm repl almost alway outperform chain wide margin chain maintain true mru successor level howev repl effect pattern better combin multistream sequenti prefetch seqrepl time l miss anoth import issu time miss figur classifi l miss accord number cycl two consecut miss arriv mem ori miss group bin correspond cycl cycl etc unit ghz processor cycl signific bin contribut miss distanc averag miss critic beyond number latenc hard hide outoford execut inde sinc roundtrip latenc memori cycl depend miss like fall bin contribut processor stall figur suggest depend miss cannot overlap other consequ want ulmt prefetch them make sure ulmt fast enough learn miss occup less cycl miss bin fewer less critic far apart put pressur ulmt time may give enough time ulmt respond fortun miss like overlap comput cg equak ft gap mcf mst parser spars tree averag figur character time l miss compar differ algorithm figur compar execut time applic differ case prefetch nopref processorsid prefetch list tabl conven differ ulmt scheme list tabl base chain repl combin conven repl convenrepl custom algorithm custom result case memori processor integr dram applic averag bar normal nopref bar show memoryinduc processor stall time caus request processor l cach uptol request beyond l cach benopref conven base chain repl convenrepl custom nopref conven base chain repl convenrepl nopref conven base chain repl convenrepl nopref conven base chain repl convenrepl nopref conven base chain repl convenrepl custom cg equak ft gap mcf normaiz execut time beyondl base chain repl convenrepl custom nopref conven base chain repl convenrepl nopref conven base chain repl convenrepl nopref conven base chain repl convenrepl nopref conven base chain repl convenrepl mst parser spars tree averag normal execut time beyondl busi figur execut time applic differ prefetch algorithm yondl remain time busi includ processor comput plu pipelin stall system perfect l cach would busi uptol time averag beyondl signific compon execut time nopref account time thu although ulmt scheme target l cach miss target main contributor execut time conven perform well cg sequenti pattern dom inat howev ineffect applic mcf tree pure irregular pattern averag conven reduc execut time pairbas scheme show mix perform base show limit speedup mostli prefetch far enough averag reduc nopref execut time chain perform littl better limit inaccuraci figur high respons time section averag reduc nopref execut time repl abl reduc execut time significantli perform well almost applic outperform base chain case impact come nice properti replic algorithm discuss section averag applic speedup repl nopref final convenrepl perform best averag remov half beyondl stall time deliv averag applic speedup nopref compar impact processorsid prefetch conven memorysid prefetch repl see construct effect convenrepl reason two scheme help other specif processorsid prefetch prefetch elimin sequenti miss memorysid prefetch work non verbos mode section and therefor see prefetch request therefor fulli focu irregular miss pattern result reduc load ulmt effect algorithm custom first paper ulmt prefetch ing attempt simpl custom ap plicat tabl show chang cg run seqrepl verbos mode mst mcf run repl higher num level case conven on result shown figur custom bar three applic applic custom ulmt algorithm cg seqrepl verbos mode mst mcf repl tabl custom perform conven also on custom cg tri exploit posit interact processor memorysid prefetch cg sequenti miss pattern figur multipl stream overwhelm convent prefetch inde although processorsid prefetch accur prefetch line referenc time enough onli time miss l cach custom turn verbos mode processorsid prefetch request seen ulmt furthermor ulmt extend singlestream sequenti prefetch algorithm seq execut repl environ posit interact two prefetch increas specif applic refer differ stream interleav manner processorsid prefetch unscrambl miss sequenc chunk same stream prefetch request seq prefetch ulmt easili identifi stream and effici prefetch ahead result processorsid prefetch arriv time manner custom speedup cg improv with convenrepl case demonstr even regular applic amen sequenti processorsid prefetch benefit ulmt prefetch custom mst mcf tri exploit predict beyond third level successor miss set numlevel repl shown figur approach success mst produc margin gain mcf initi attempt custom show promis re sult appli custom three applic averag execut speedup nine applic rel nopref becom cg equak ft gap mcf mst parser spars tree averag normal execut time beyondl busi figur execut time differ locat memori processor locat memori processor figur examin impact place memori processor figur first two bar applic taken figur nopref con venrepl last bar applic correspond convenrepl algorithm memori processor place memori control north bridg chip convenreplmc processor north bridg chip twice memori access latenc cycl vs cycl eight time lower memori bandwidth gbsec vs gbsec addit cycl delay seen prefetch request reach dram howev figur show impact execut time small result small decreas averag speedup impact small thank abil repl accur prefetch far ahead timeli immedi successor prefetch affect prefetch level successor still time overal given result hardwar cost two design conclud put memori processor north bridg chip costeffect design two prefetch effect gain insight prefetch scheme figur examin effect line prefetch l cach ulmt line call prefetch figur show data spars tree averag seven applic figur combin l miss prefetch break categori prefetch elimin l miss hit prefetch elimin part latenc l miss arriv bit late delayedhit l miss pay full latenc nonprefmiss useless prefetch useless prefetch broken prefetch brought l referenc time replac replac prefetch drop arriv l line alreadi cach redund sinc coverag fraction origin l miss fulli partial elimin repres sum hit delayedhit shown figur nonprefmiss figur number l miss left prefetch rel origin number l miss note nonprefmiss higher algorithm nonprefmiss number l miss elimin rel origin number l miss nonprefmiss broken two group miss line figur hit delay hit come origin miss line hit new l conflict miss caus prefetch look averag seven applic see base chain effect coverag small base hurt cycl count mainprocessor cycl base chain repl convenrepl convenreplmc nopref base chain repl convenrepl convenreplmc nopref base chain repl convenrepl convenreplmc spars tree averag applic spars tree hit delayedhit nonprefmiss replac redund figur breakdown l miss line prefetch ulmt prefetch origin miss normal inabl prefetch far ahead chain hamper high respons time limit accuraci figur also show repl high coverag howev come cost useless prefetch replac plu redund equival origin miss addit miss due conflict prefetch origin miss see therefor advanc pairbas scheme need addit bandwidth convenrepl seem low coverag despit high perform figur reason prefetch request issu processorsid prefetch effect elimin l miss lump nonprefmiss categori figur reach memori sinc ulmt prefetch nonverbos mode see request cons quentli ulmt prefetch focus irregular miss pattern ulmt prefetch elimin irregular miss appear hitsdelayedhit final figur also show spars tree show limit speedup figur mani conflict cach result mani remain nonprefmiss furthermor prefetch accur result larg replac redund categori work load ulmt figur show averag respons time occup time section ulmt algo rithm averag applic time measur ghz cycl bar broken comput time busi memori stall time mem number top bar show averag ipc ulmt ipc calcul number base chain repl replmc base chain repl replmc respons time occup time number processor cycl mem respons time occup time figur averag respons occup time differ ulmt algorithm mainprocessor cycl instruct divid number memori processor cycl figur show that algorithm occup time less cycl consequ ulmt fast enough process l miss figur memori stall time roughli half ulmt execut time processor dram processor north bridg chip replmc chain repl lowest occup time note repl occup much higher chain despit higher number tabl updat perform repl reason fewer associ search better cach line reus repl respons time import prefetch effect figur show repl lowest respons time around cycl respons time replmc twice much fortun replic algorithm abl prefetch far ahead accur and therefor effect prefetch sensit modest increas respons time main memori bu util final figur show util main memori bu variou algorithm averag applic increas bu util induc advanc algorithm divid two part increas caus natur reduc execut time addit increas caus prefetch traffic overal figur show increas bu util toler util increas origin worst case convenrepl moreov increas come faster execut util directli attribut prefetch gener fact memorysid prefetch add oneway traffic main memori bu limit bandwidth need base chain repl util prefetch due reduc execut time due prefetch conven repl conven figur main memori bu util relat work memorysid prefetch memorysid prefetch simpl hardwar control exampl nvidia chipset includ dasp control north bridg chip seem mostli target stride recognit buffer data lo calli chipset intel report prefetch cach may indic presenc similar engin cooksey et al propos contentbas prefetch hardwar control monitor data come memori item appear address engin prefetch it alexand kedem propos hardwar control monitor request main memori observ repeat pattern prefetch row data dram sram buffer insid memori chip scheme differ use generalpurpos processor run prefetch algorithm userlevel thread studi propos special programm engin exam ple hugh yang lebeck propos ad special engin prefetch link data structur hugh focus multiprocessor processinginmemori system yang lebeck focu uniprocessor put engin everi level cach hierarchi main processor download inform engin link structur prefetch perform scheme differ gener applic anoth relat system impuls intellig memori control capabl remap physic address improv perform irregular applic impuls could prefetch data implement nextlin prefetch furthermor buffer data memori control rather send processor correl prefetch earli work correl prefetch found recent sever author made contribut charney reev studi correl prefetch suggest combin stride prefetch gener correl prefetch joseph grunwald propos basic correl tabl organ algorithm evalu alexand kedem use correl prefetch slightli differ indic abov sherwood et al use help stream buffer prefetch irregular pattern final lai et al design slightli differ correl prefetch specif prefetch trigger miss instead trigger deadlin predictor indic line cach use and therefor new line prefetch in scheme improv prefetch timeli expens tighter integr prefetch processor sinc prefetch need observ miss address also refer address program counter differ recent work import way first propos hardwareonli engin often requir expens hardwar tabl use flexibl userlevel thread generalpurpos core store tabl softwar structur memori second except alexand kedem place engin l l cach processor l place prefetch memori focu l miss time interv l miss larg enough ulmt viabl effect final propos new tabl organ prefetch algorithm that exploit inexpens memori space increas farahead prefetch prefetch coverag prefetch regular structur sever scheme propos prefetch sequenti stride pattern includ refer predict tabl chen baer stream buffer jouppi palacharla kessler sherwood et al base processorsid prefetch scheme processorsid prefetch mani propos processorsid prefetch often irregular applic tini nonexhaust list includ choi et al karlsson et al lipasti et al luk mowri roth et al zhang torrella scheme specif target link data structur tend reli program inform avail processor like address size data struc ture often need compil support scheme need neither program inform compil support relat work chappel et al use subordin thread multithread processor improv branch predict suggest use thread prefetch cach manag fi nalli work also relat data forward multiprocessor processor push data cach hierarchi anoth processor conclus paper introduc memorysid correl prefetch use userlevel memori thread ulmt run simpl generalpurpos processor main memori scheme solv mani problem convent correl prefetch provid sever import addit featur specif scheme need minim hardwar modif beyond memori processor use main memori store correl tabl inexpens exploit new tabl organ increas farahead prefetch coverag effect prefetch applic larg miss pattern long repeat support custom prefetch algorithm programm individu applic result show scheme deliv averag speedup nine mostlyirregular applic furthermor scheme work well combin convent processorsid sequenti prefetch case averag speedup increas final exploit custom prefetch algorithm increas averag speedup work extend design effect techniqu ulmt custom particular custom link data structur prefetch cach conflict detect elimin gener applic profil custom cach conflict elimin improv spars tree applic smallest speedup acknowledg author thank anonym review hidetaka magoshi jose martinez milo prvulov marc snir jame tuck r distribut predict cach design high perform memori system dynam improv local virtual memori sy tem institut astronomi impuls build smarter memori control simultan subordin microthread ssmt gener correl base hardwar prefetch reduc memori latenc via nonblock prefetch cach iter benchmark prefetch link data structur system merg dramlog prefetch use markov predictor improv directmap cach perform addit small fullyassoci cach prefetch buffer prefetch techniqu irregular access link data structur compar data forward prefetch communicationinduc miss sharedmemori mp scalabl processor billiontransistor era iram directexecut framework fast accur simul superscalar processor softwar prefetch pointer call intens environ nvidia nforc integr graphic processor igp dynam adapt specul preprocessor dasp evalu stream buffer secondari cach replac prefetch system cach second directori sequenti access block depend base prefetch link data structur soni comput entertain inc push vs pull data movement link data structur speed irregular applic sharedmemori multiprocessor memori bind group prefetch tr reduc memori latenc via nonblock prefetch cach evalu stream buffer secondari cach replac speed irregular applic sharedmemori multiprocessor compilerbas prefetch recurs data structur prefetch use markov predictor compar data forward prefetch communicationinduc miss sharedmemori mp depend base prefetch link data structur simultan subordin microthread ssmt improv directmap cach perform addit small fullyassoci cach prefetch buffer push vs pull predictordirect stream buffer deadblock predict myampersandamp deadblock correl prefetch scalabl processor billiontransistor era contentbas prefetch distribut prefetchbuffercach design high perform memori system impuls directexecut framework fast accur simul superscalar processor memorysid prefetch link data structur ctr kyle j nesbit jame e smith data cach prefetch use global histori buffer ieee micro v n p januari philip g emma allan hartstein thoma r puzak vijayalakshmi srinivasan explor limit prefetch ibm journal research develop v n p januari amir roth gurindar s sohi quantit framework autom preexecut thread select proceed th annual acmiee intern symposium microarchitectur novemb istanbul turkey ad logic close memori reduc latenc indirect load high miss ratio acm sigarch comput architectur new v n june brian roger yan solihin milo prvulov memori predecrypt hide latenc overhead memori encrypt acm sigarch comput architectur new v n march justin teller charl b silio jr bruce jacob perform characterist maui intellig memori system architectur proceed workshop memori system perform june chicago illinoi dongkeun kim steve shihwei liao perri h wang juan del cuvillo xinmin tian xiang zou hong wang donald yeung milind girkar john p shen physic experiment prefetch helper thread intel hyperthread processor proceed intern symposium code gener optim feedbackdirect runtim optim p march palo alto california ilya ganusov martin burtscher effici emul hardwar prefetch via eventdriven helper thread proceed th intern confer parallel architectur compil techniqu septemb seattl washington usa hur calvin lin memori prefetch use adapt stream detect proceed th annual ieeeacm intern symposium microarchitectur p decemb lixin zhang mike parker john carter effici address remap distribut sharedmemori system acm transact architectur code optim taco v n p june wessam hassanein jo fort rudolf eigenmann data forward inmemori precomput thread proceed th annual intern confer supercomput june juli malo franc ravi iyer cqo framework enabl qo share cach cmp platform proceed th annual intern confer supercomput june juli malo franc stephen somogyi thoma f wenisch anastassia ailamaki babak falsafi andrea moshovo spatial memori stream acm sigarch comput architectur new v n p may zhen yang xudong shi feiqi su jihkwon peir overlap depend load addressless preload proceed th intern confer parallel architectur compil techniqu septemb seattl washington usa r shetti m kharbutli y solihin m prvulov heapmon helperthread approach programm automat lowoverhead memori bug detect ibm journal research develop v n p march zhen fang lixin zhang john b carter ali ibrahim michael a parker activ memori oper proceed st annual intern confer supercomput june seattl washington yan solihin jaejin lee josep torrella correl prefetch userlevel memori thread ieee transact parallel distribut system v n p june jiwei lu abhinav da weichung hsu khoa nguyen santosh g abraham dynam helper thread prefetch sun ultrasparc cmp processor proceed th annual ieeeacm intern symposium microarchitectur p novemb barcelona spain adrin cristal oliverio j santana mateo valero jo f martnez toward kiloinstruct processor acm transact architectur code optim taco v n p decemb marco galluzzi valentn puent adrin cristal ramn beivid josngel gregorio mateo valero first glanc kiloinstruct base multiprocessor proceed st confer comput frontier april ischia itali chialin yang alvin r lebeck hungwei tseng chienhao lee toler memori latenc push prefetch pointerintens applic acm transact architectur code optim taco v n p decemb zhenlin wang doug burger kathryn s mckinley steven k reinhardt charl c weem guid region prefetch cooper hardwaresoftwar approach acm sigarch comput architectur new v n may xianh sun surendra byna yong chen serverbas data push architectur multiprocessor environ journal comput scienc technolog v n p septemb suleyman sair timothi sherwood brad calder decoupl predictordirect stream prefetch architectur ieee transact comput v n p march