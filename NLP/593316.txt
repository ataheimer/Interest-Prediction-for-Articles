t solv variou weight match problem constraint a paper studi resolut augment weight match problem within constraint program cp framework first contribut paper set techniqu improv substanti perform branchandbound algorithm base constraint propag second contribut introduct weight match global constraint weightedmatch propag use special increment algorithm oper research first compar program techniqu use constraint propag special algorithm oper research busak gowen flow algorithm hungarian method although cp shown competit special polynomi algorithm pure match problem situat differ soon problem modifi addit constraint use previous mention set techniqu simpler branchandbound algorithm base constraint propag outperform complex special algorithm techniqu appli success travel salesman problem seen augment match problem also show increment version hungarian method use propag weightedmatch constraint extens weight case work rgin show bring signific improv timet exampl b introduct constraint logic program clp gener constraintbas program cp becom interest approach solv combinatori optim problem vh instanc problem jobshop schedul shown effici tradit approach base oper research or cl deliv flexibl ie easi adapt algorithm slightli custom problem addit constraint goal investig advantag drawback constraint program compar classic combinatori optim maximum weight match problem bipartit graph see techniqu may combin bipartit match interest import three reason first wellunderstood problem mani polynomi algorithm rang simpl realli elabor eg gt avail therefor perform constraint satisfact algorithm assess rigor gaug second mani reallif problem either match extend match one addit constraint is therefor perfect domain see boundari flexibl effici lay moreov mani match problem optim problem weight may indic use weight match algorithm use gener optim method nonweight techniqu third match often part complex problem effici propag match constraint basic build block modern constraint satisfact system look care match algorithm deriv idea use design constraint solver paper organ follow section describ naiv approach match improv implement easili move complex heurist cut rule show use handl larger problem section compar previou result two wellknown algorithm hungarian weight method busak gowen flow algorithm show constraint satisfact approach realli compar special algorithm problem find optim match hand plausibl approach find set veri good solut lead section look two extend match problem first case allow substitut new cost matrix k edg machinetask alloc problem renew k machin second case studi resolut two simultan match problem eg machinetask alloc problem maxim product within bound energi consumpt two variat problem origin algorithm adapt compar last appli section variou techniqu present paper timet problem show use weight match global constraint captur hard soft constraint time enabl effici resolut constraint base program formal match problem describ follow let gve bipartit graph vertex set v part two shore edg link v v match set edg e two adjac perfect match match cover vertic consid case perfect match correspond assign such match frequent aris product plan assign job machin task technician moreov consid case weight graph defin weight match sum weight edg purpos find exist perfect match maxim weight or minim weight weight w ij replac a w ij larg constant a naiv clp natur way see problem constraint program think vertic v variabl v valu vertex v link set valu v form domain match correspond assign variabl differ variabl alway assign differ valu problem consist find assign maxim weight constraint alldiffer r offer builtin clp languag propag often perform arcconsist ma mm valu assign variabl taken domain variabl contradict occur becaus domain becom empti system backtrack previou variabl assign tri next possibl assign optim algorithm classic branch bound scheme variabl select possibl valu recurs tri solut weight w found constraint weight w ad system help prune subtre search space use simpl upper bound weight time search two upper approxim maxim match maintain sum variabl best possibl assign for variabl v defin valu bestv maxim valu weightvx possibl valu x reciproc sum valu best possibl invert assign instead comput sum explicitli node search tree maintain increment time valu x remov domain variablev weightxvbestx bestx recomput differ old new valu subtract similar updat perform bestv weightxvbestv whenev one bound becom strictli smaller goal one predict upcom solut smaller weight best one found far branch tree cut off propag algorithm widespread among implement alldiffer constraint clp system select node branch usual done firstfail principl one select variabl smallest domain assign usual tri decreas order weight drive search toward match heavi weight best first principl greedi heurist shown tabl naiv algorithm solv problem x node within second requir unreason amount time larger problem although may case implement alldiffer constraint take upper bound import program consid upper bound time slower x instanc cannot solv x problem within reason time fact give us hint progress symmetr view problem bring constraint approach next two section describ improv made propag scheme heurist first fail best first order improv perform experi report paper done clair program languag programm use blackbox constraint system access propag search engin as mani clp system chang could encod within solver allow state problem singl command alldiffer chang written expert constraint system programm use open constraint system access solver propag engin program littl longer user program chang avail httpwwwdmiensfrlaburtheclairehtml ad symmetri regret mani improv made algorithm make scale larger problem first idea suggest import symmetr upper bound fulli symmetr descript problem model consid vertic v variabl vertic v valu arbitrari breech symmetri problem although perfectli valid way around add redund model v seen set variabl v set valu branch vertic v v impli overhead an invers domain relat must maintain avoid miss evid decis for instanc valu one domain need assign variabl henc match done side time similar use symmetr redund model nqueen problem jo would expect sinc nqueen custom match problem without weight moreov firstfail heurist select vertex branch panacea notion regret give acut descript crucial vertic regret usual defin differ optim choic second best case v vertex v x valu bestvweightvx defin regretx differ bestv maximum weightvx valu xx focus regret justifi fact problem solut chang constant ad edg incid one vertex thu rel valu matter oppos absolut one regret actual chang made upper bound best assign vertex discard select vertex largest regret branch point entrop choic sens tri maxim impact decis describ cl entrop heurist power tool proof optim sinc limit size tree forc much propag happen node avoid real slow algorithm node regret best assign node memor updat increment anoth idea would somehow rebreak symmetri time two upper bound match avail soon one becom less goal branch cut select vertic v larg regret decreas convers case one bound clearli better other could seem worthwhil encourag dissymmetri choic branch node implement give bonu or penalti depend situat select branch vertex proport vertic v heurist denot balanc tabl tabl illustr effect techniqu randomli gener instanc vertex typic connect edg weight random number entri tabl show number backtrack b search process kbb run time on pentium pro find optim solut give proof optim naiv approach arc consist first fail behav poorli addit regret symmetri bring gain factor idea balanc realli pay off naiv propag s kb s kb kb kb b b kb b s s mb basic b kb b kb s mb tabl program finer tune algorithm one aspect algorithm sharpen propag addit upper bound evalu domain reduct due edg select also domain reduct upper bound matter fact dynam remov illeg edg edg uv illeg soon bestu weightuv greater avail slack goal goal object weight goal subsequ decreas time admiss solut found call techniqu dynam cut report behavior tabl interest dynam cut two fold one hand detect failur littl earlier a rather small benefit hand maintain smaller relev domain may improv effici firstfail principl remov meaningless valu produc rapidli domain small cardin firstfail tell us examin want reintroduc firstfail behavior choic heurist base regret use simpl trick use cgl select vertex minim lexicograph pair par fix paramet effect select vertic largest regret still domain cardin par select first fail domain smaller par strategi yield improv small valu par search tree describ mani branch per node actual may wast time wonder edg select vertex know best one sinc edg may well look alik numer search tree construct differ singl altern node either best edg select one not tree becom narrow binari mayb deeper practic prevent algorithm wast time irrelev choic new branch scheme report tabl binari branch tune done concern upper bound use cut branch search tree formula sum best choic estim best assign inde v v favorit choic p vertic v know take account regret atleast p becaus cannot match common favorit vertex therefor possibl tighten bound subtract conserv estim regret occur thi applic lookahead principl tri forecast evolut bound vertex v v consid previou set vertic x v bestx set p vertic associ sum regret highest one call lookv replac strategi estim differ simpl bound actual choic call lookahead tabl note estim correspond relax match problem could suggest use lagrangean relax affect weight node fact lookahead strategi use similar idea affect weight node relat sever other one prefer graph these node prevent solut relax problem match moreov hungarian method associ weight node also seen relat lagrangean relax basic s s mb dynam cut kb mb mb new branch s kb s lookahead kb s s tabl remark made result first lookahead heurist work well although benefit obviou number backtrack pay size problem larg enough hand dynam cut binari branch scheme produc unstabl result difficult measur signific improv techniqu propag branch boud heurist succes appli travel salesman problem tsp repres weight match problem tri match node direct successor cycl coupl subtour elimin constraint describ cl improv enabl constraint program solv citi tour instead citi tour more complex techniqu also given larger problem tradit algorithm approach match wide studi oper research commun year col ge two method present pretend best one avail today made compromis limit algorithm simpl enough understood implement reason amount time proport implement time constraintbas program algorithm busak gowen describ gm vl emb match problem flow problem ad sourc link vertic v sink link vertic v case capac edg set adapt wellknown fordfulkerson maximum flow algorithm case network weight edg start null flow augment satur along augment path augment path found mean flow maxim polynomi algorithm run number edg n number node howev unlik fordfulkerson increment sens cannot complet partial flow minim cost maxim flow it requir partial flow maxim stream cost hungarian method algorithm class primaldu algorithm often associ problem state linear program ps primal program consist find maxim match minim weight dual program consist find posit weight p u associ vertic u edg uv sum p u maxim algorithm construct increment weight p u start p u equal construct graph g p form edg uv verifi p u algorithm altern work dual model updat p u order add new edg graph g p primal model find augment path g p end match g p minim weight maxim match g polynomi algorithm run on major interest compar flow algorithm increment one want remov edg uv graph recomput optim solut one set weight uv larg posit constant remov uv g p take one iter complet optim match comparison clp find optim solut pure match program cp competit techniqu cp solv reason well problem node wherea hungarian method scale problem well node on exampl solv backtrack approxim s best constraint program flow algorithm take s hungarian method take s howev one longer consid problem find one optim solut optim solut or rather solut within given distanc optimum clp becom plausibl competitor tabl report experi four program compar first one straightforward adapt previou constraint program basic instead stop first solut explor whole tree second similar branch bound explor flow algorithm use evalu optim match node instead use upper bound estim flow algorithm actual trigger one edg current optim match remov dynam graph third program similar differ branch scheme edg origin optim solut explor two branch either edg part match remov dynam graph fourth program branch bound algorithm similar third one except hungarian method use instead flow algorithm take advantag increment hungarian method it abil recomput optim match singl iter edg discard node search tree explor bottleneck amount comput perform node search tree increment hungarian method best algorithm sinc explor small search tree all explor branch lead admiss solut howev constraint algorithm fair competitor perform much less work per node sol sol sol sol sol sol basic b b b kb s kb s kb flow algorithm b s b b s b s b b s kb s flow algorithm new branch b b b b b s b hungarian match b b b b b b b tabl find solut henc problem find nearoptim perfect match constraint program behav better basic oper research program the adapt flow algorithm well smarter or program increment hungarian method big advantag constraint program simplic inde much easier implement or algorithm naiv smart seem therefor good candid reallif match problem involv addit constraint and thu requir explor space solut pure problem complex match section address case two reallif variat match problem adhoc algorithm could also probabl special design variat problem howev methodolog point view decid consid adapt origin solut could implement reason amount time sinc constraint program adapt matter minut replac k machin suppos plant manag fund replac k machin among n newer one want find optim assign maximum bring maxim product task machin given newer machin effici older one mean match problem extend addit choic k vertic v prefer use differ weight matrix say weight instead weight sake comparison implement three solut problem one use constraint propag two or solut basic adapt flow algorithm smart adapt hungarian method first one straightforward adapt constraintbas program basic principl postpon choic k new vertic much possibl take account modifi upper bound estim instead take sum best choic node add sum sum k heaviest edg differ graph defin gain product function new old machin ie consid weightuv weightuv weight edg uv like bound maintain increment second program base flow algorithm goe search tree node depth correspond choic th machin replac branch explor whenev decis replac made product function updat ie second weight function use th machin node upper bound comput prune sum optim solut match origin graph where k decis made optim solut match cardin ki differ graph third program base hungarian method algorithm goe search tree program look near optim solut cf section node vertex v v select branch match one vertic x remov edg vx x x first branch explor correspond current assign v solut given hungarian method upper bound sum best possibl match given hungarian method estim submatch size k differ graph same estim constraint algorithm constraint b s b s b s kb s kb s mb s flow s hungarian match b b b b b b b b b tabl replac k machin figur show three strategi problem constraintbas approach perform better approach base flow algorithm well algorithm use hungarian method constraint approach much faster smart or algorithm n littl faster n somewhat slower n much slower n which anyway upper limit constraintbas approach pure match problem main advantag simplic it took simpl line code modifi upper bound origin constraint algorithm compar or algorithm make constraint approach good solut small midsiz problem even valu k solut base increment hungarian method well adapt larg problem bimatch second problem address case combin two match problem with two distinct weight matric one problem use satisfi one optim in tasktomachin assign amount maxim product keep energi consumpt certain level difficulti vari accord role play passiv match problem valu chosen maxim energi consumpt low high energi match domin problem margin hand intermedi valu make problem much harder shape solut space equal affect match problem impli distribut feasibl solut search tree longer concentr one area dispers linear program perspect bi match problem made three compon match constraint share two match problem energi consumpt constraint cost function repres optim product classic approach situat use lagrangean relax push energi constraint cost function again implement sever solut find maxim product match consumpt less given constant first one also straightforward adapt basic constraint program search guid optim product consumpt constraint use prune two lower bound consumpt estim sum edg least consumpt vertex set moreov instead consid regret product function consid sum regret product energi function therefor program obtain simpl replic line origin basic program energi substitut product second algorithm branch bound algorithm use twice increment hungarian method two hungarian match construct one maxim product one minim consumpt branch base hungarian match maxim solut match use prune branch cut minim consumpt strictli greater e maxim product less best one found far third one fourth base lagrangean relax busak flow algorithm hungarian method gener principl method put constraint object function certain coeffici vari valu coeffici re assum relax problem ie without constraint push cost function simpler solv here push energi constraint cost function obtain simpl match problem solv flow algorithm object function becom total weight match follow weight function edg weight l u let us call fl valu maximum match weight l construct fl for l upper bound origin problem sinc energi consumpt smaller e now comput valu f minim valu fl l vari l f also upper bound that found dichotom search provid us upper bound high qualiti also vari valu l possibl lower bound if one l yield admiss energi bound comput node search tree branch made edg match optim flow indic third approach previou section third program straightforward implement lagrangean relax flow algorithm fourth one implement lagrangean relax hungarian method tri increment possibl tri keep part dual solut similar valu l inc hung match kb kb s kb kb s kb lagragean relax flow algorithm b b b b b b s b b lagragean relax hung match b s b b b b s b b b constraint basic kb kb s kb s kb kb s tabl bimatch tabl compar four algorithm two problem cost weight function randomli gener valu rang balanc optim cost feasibl energi cut search tree e small close valu minim energi consumpt match energi respons prune program behav like simpl match one symmetr e larg problem almost unconstrain look like simpl maxim product match program hardest situat energi cost respons prune search tree situat correspond e e exampl lagrangean relax pay larg problem criterion domin other howev seem real life problem criterion often domin other point view constraint approach much effici again constraint program perform better simpl or algorithm with two increment hungarian match also perform better except balanc situat n complex lr program fact hungarian method mildli increment lagrangean relax scheme dual solut cannot easili repair chang weight function applic previou section shown strenght constraintpropag approach compar special algorithm shall see techniqu combin oppos consid timet problem consist fill weekli schedul set lesson of durat hour lesson given set possibl start time set prefer start time schedul made halfday hour lesson interrupt section illustr weight match techniqu appli problem provid signific improv notic lesson durat problem would inde match problem suggest straightforward relax consid lesson interrupt second prefer encod use weight minimum weight match correspond assign use mani prefer start time possibl rest paper consid lesson l l schedul n time slot length hour lesson given two list time slot integ n repres respect set possibl preferr start time goal find start time lesson two lesson overlap usus disjunct schedul constraint pair lesson ll either startl startl lesson fit half day within half day say th halfday cover time unit i i i i lesson durat start first unit i lesson size start unit i i etc number default defin number lesson assign start time outsid set prefer time minim problem depend rang input data problem seen combin satisfiablil problem fill schedul optim problem an assign problem lesson larg enough them problem may look like binpack prefer optim almost irrelev hand smaller lesson pack much easier optimis problem domin similarli difficulti prefer ie tight prefer set augment import optim compon problem pick three problem repres differ situat problem use rather short lesson such highschool schedul complex prefer the optimum default problem similar from lesson size point view simpler prefer the optimum last problem use larger lesson explor algorithm would react problem satisfi issu order exploit match relax decompos lesson durat k k unit hour total number u unit is therefor sum durat lesson match need build associ start time a time slot unit unit u associ lesson l time slot i give weight edg ui follow cannot happen would impli illeg start time lesson l u happen impli start time outsid prefer set happen lesson l start one prefer time defin minweightalldifferentstartu startu u w minimum weight match graph recal valu comput effici hungarian match also maintain increment throughout search procedur section describ recomput valu edg remov graph sinc lesson l k unit straightforward check optim solut timet problem correspond minimum weight match schedul default valu match u d thu search solut less defautlt use redund constraint solv three problem use branchandbound algorithm minim number default branch done start time lesson tri peref valu first lesson branch pick use firstfail heurist start time decis propag follow discard valu lesson could caus overlap lesson assign start time unit compos lesson set accordingli number default reach upper bound edg prefer remov use redund constraint detect becom imposs place larg lesson valu durat strictli larger halfday for exampl hour comput set lesson lessonsd durat union possibl half day lesson possibl check possibl lessonsd final check possibl problem lesson h problem lesson h problem lesson h simpl propag kb s kb s kb s match cut kb s kb s kb s regin filter kb s kb s kb s weight match cut b s b s kb s global consist b shave b s b s b s tabl appli variou weight match techniqu timet problem tabl give result obtain follow approach first method perform constraint propag second method check underli match problem for unit still feasibl ie exist perfect match third method remov edg belong least one perfect match use regin algorithm r fourth method use new global constraint minweightalldiffer propag explain earlier use increment hungarian method fifth method use lookahead consist check tri unassign lesson l discard prefer respect nonpref edg tri mean detect remov valu would creat contradict propag constraint contradict detect deduc lesson l must start prefer resp nonpref time sixth method appli global consist techniqu consist tri possibl start time remov produc contradict similar shave techniqu use jobshop schedul cl conclus drawn experi first global constraint minweightalldiffer bring seriou improv standard propag local consist problem number backtrack divid factor moreov overhead keep valu minim weight match date increment hungarian method reason compar cost simpl match propag bound default inde addit minweightalldiffer averag time per backtrack three instanc goe ms ms therefor gain search tree size turn real speedup second propag unweight match constraint the differ constraint done effici filter algorithm propos r margin impact resolut problem compar propag weight match constraint third seem good idea check global consist perform limit breadthfirst explor search tree limit depth one seem work better branch decis base satisfact lesson method rather actual assign time slot lesson method due fact complex method smaller method moreov global consist techniqu work best timet larg block lesson durat rather problem small lesson match relax accur conclus first conclus might constraint propag competit techniqu pure weight match problem special algorithm simpl enough use appropri hand constraint propag plausibl approach augment match problem depend complex addit constraint size problem perform obtain easili cp approach rang reason excel compar special approach case good enough best approach incorpor weight match techniqu constraint base branch bound search first contribut paper set gener techniqu improv perform constraintbas branchandbound algorithm problem name binari branch scheme base regret use implicit symmetri lookahead bound function techniqu may appli augment match problem actual appli success travel salesman problem cl second contribut show inde weight match consid global constraint minweightalldiffer sinc know propag effici use increment version hungarian algorithm use global constraint shown timet exampl constraint solver offer featur abl solv problem hard soft constraint time take advantag weight wherea system reli simpl match implement soft constraint second layer much less effici way must also notic featur allow us combin best world two augment problem studi part keep simplic flexibl constraintbas approach ensur robust underli match algorithm acknowledg would like thank anonym refere help comment suggest earlier version paper r deduct objectori approach complex schedul problem improv clp schedul task interv cumul schedul task interv solv small tsp constraint introduct algorithm match handbook oper research manag scienc network faster scale algorithm network problem concurr et cooprat de modl multipl consist network relat run effici arc consist combinatori optim filter algorithm constraint differ csp modern heurist techniqu combinatori problem constraint satisfact logic program graph algorithm tr