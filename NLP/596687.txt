t edg provis fair vpndiffserv network a custom virtual privat network vpn differenti servic diffserv infrastructur like demand secur also guarante qualityofservic qo pursuanc desir leasedlinelik servic howev expectedli unabl unwil predict load vpn endpoint paper propos custom specifi requir rang quantit servic servic level agreement sla support servic internet servic provid isp would need autom provis system logic partit capac edg variou class or group vpn connect manag effici allow resourc share among group dynam fair manner edg provis certain amount resourc base sla traffic contract edg alloc vpn connect also need provis interior node transit network meet assur offer boundari network we therefor propos twolay model provis vpndiffserv network top layer respons edg provis drive lower layer charg interior resourc provis help bandwidth broker bb variou algorithm exampl analys present provis alloc resourc dynam edg vpn connect develop prototyp bb perform requir provis connect admiss b introduct grow demand sinc privat network built use dedic line offer guarante bandwidth latenc similar guarante provid ip base virtual privat network vpn internet design deliv perform guar ante advent differenti servic ip backbon provid variou level qualiti servicerec propos expedit forward ef per hop behaviour phb recommend method build virtual leas line line vll type pointtopoint connect vpn provid servic and other exampl recent implement bandwidth broker allow user specifi singl quantit valu ie mbp mbp etc base specif edg router establish vpn connect dynam howev expect user unabl unwil predict load vpn endpoint provid point view also guarante exact quantit servic might difficult job begin vpndiffserv deploy we therefor propos user specifi requir rang quantit servic exampl user want establish vpn stub network b figur sure whether need mbp mbp mbp know lower upper bound requir approxim specifi rang mbp requir isp outsourc servic latter isp offer multipl option via websit figur help custom select suitabl option activ servic dynam fli sever advantag user need specifi exact capac give flexibl specifi rang price custom pay higher one pay lower bound capac lower normal need paid upper bound capac low load possibl user might enjoy upper bound rate say mbp exampl without pay anyth extra kind price might attract user isp take advantag attract custom without break commit thi howev pose signific challeng isp would need deploy autom provis system abl logic partit capac edg variou class or group group identifi offer exampl mbp could repres one group mbp could repres anoth vpn manag effici allow resourc share among group dynam fair manneralso must provis interior node network meet assur offer boundari network have therefor propos twolay model section ii provis vpndiffserv network top layer respons edg provis drive lower layer charg interior resourc provis help bandwidth broker bb restrict paper edg provis consid fact complex lie boundari network main drive forc overal provis section iii variou algorithm exampl analysi present provis alloc resourc dynam edg fair issu alloc unus resourc address section iiid prototyp bb perform requir provis connect admiss describ section iv section v conclud paper summari contribut discuss futur research direct edg router interior router interior interior edg router edg router edg router edg router isp stub network custom custom stub network network stub custom custom stub network c c fig vpn diffserv deploy scenario ii provis requir vpndiffserv network model provis diffserv network mean determin alloc resourc necessari variou point network also modif exist resourc share dynam among variou vpn class ie group quantit case vpn qualit traffic some assur servic requir provis network boundari network interior determin resourc requir node quantit traffic need estim volum traffic travers network node isp natur know sla amount vpn quantit traffic enter transit network specif edg node volum cannot estim exact accuraci variou interior node travers vpn connect know path connect howev rout topolog known figur almost accur estim default path meet requir incom connect altern variou qo rout also use find suitabl path enforc mpl techniqu a role bandwidth broker autom provis base basic need provis vpndiffserv network support quantit servic consid provis two layer model top layer respons edg provis drive bottom layer charg interior provis figur seek provid system vpn servic avail demand find bandwidth broker right choic capabl perform dynam endtoend admiss control setup leas line like vpn maintain topolog well polici state node network also capabl manag provis network resourc separ administ ds domain cooper similar domain edg provis interior provis bandwidth broker cr cr cr er cr cr cr er fig layer provis view vpndiffserv network b novel bandwidth specifi interv overcom user difficulti specifi exact amount quantit bandwidth requir outsourc vpn servic isp model support flexibl way express sla user specifi rang quantit amount rather singl valu although sever advantag also make edg interior provis difficult complex explain simpl ex ampl refer figur again assum edg router provis provid mbp quantit resourc establish vpn connect elsewher network isp provid two option via web interfac vpn custom select rate connect dynam mbp mbp easi see time connect mbp connect enjoy mbp even mixtur two eg connect connect mbp new connect accept activ connect termin maintain network state simpl caus either reduct forc renegoti exist connect connect mbp one connect leav simpli connect mbp admiss process equal simpl isp provid new option exampl shown figur b user select rang mbp mbp where minimum maximum offer guarante bandwidth maintain state admiss control difficult detail exampl found section iiibwhen user connect would get maximum rate mbp new connect start arriv rate exist connect would de creas exampl connect rate would stage activ connect termin rate everi singl connect would expand mbp mbp simpl case singl resourc group support rang mbp mbp realiti might sever group shown figur b case renegoti possibl expans exist connect admiss control mainten network state simpl idea present illustr figur traffic ef traffic c user_maxi c user_mini useri useri vpn pipe vpn connect demand a b fig sla a bandwidth specifi interv c user mini c user mini group i actual rate vpn connect c useri vari rang never get c user mini b c useri rate configur edg router polic rate traffic submit rate higher rate mark best effort traffic drop depend polici c model notat model address novel approach sla provid polici algorithm autom resourc provis admiss control howev support provis first start alloc certain percentag resourc node edg interior accommod quantit traffic edg quantit portion logic divid dedic vpn tunnel ie requir mbp mbp explicitli connect wish rate defin rang ie mbp mbp etc top level bandwidth apportion shown figur notat ffl ct total capac node interfac ffl cded capac alloc vpn connect requir absolut dedic servic ffl cshare capac apport vpn connect describ requir rang ffl c qual remain capac qualit traffic ffl cquan capac provis quantit traffic equal cded cshare c quan c quan share ded c qual z share y a c qual c qual b a b fig top level bandwidth apportion a logic partit edg b logic partit interior edg cquan rate control polic shape interior cquan indic amount capac alloc actual protect quantit traffic need aris valu differ differ node kind logic partit help capac never wast even portion resourc alloc quantit traffic use vpn connect unus capac natur goe qualit portion enhanc best effort qualit servic true edg interior cshare shown figur logic divid multipl group group support differ rang figur might multipl group group defin follow notat ffl c basei base capac group share vpn connect belong group ffl c user mini isp offer minimum guarante bandwidth user vpn connect ffl c user maxi isp offer maximum guarante bandwidth user vpn connect ffl n sharedi current number share vpn connect ffl c sharedi amount capac current use group i ffl c useri actual rate activ connect group equal c sharedi in section cshare unus total unus bandwidth share servic group sharedunus c basei ded share share qual cunus fig microscop view bandwidth apportion edg numer share polici appli share servic group call share servic group realiti base capac share certain number vpn connect share polici might allow group share resourc among connect also share group vpn connect case unus capac may also appli dedic capac prioriti given certain group alloc unus resourc actual fair share challeng problem address issu follow section develop provis mechan iii edg provis polici analysi algorithm base model describ section ii variou alloc polici could adopt isp ingress point alloc capac dynam maintain guarante qualiti servic variou type incom exist vpn connect multipl class vpn support differ bandwidth specifi cation suitabl polici ffl polici i capac unus one group cannot use group mean multipl share servic group one group whose resourc exhaust support numer connect borrow resourc other even group unus capacityalso none group allow use unus capac dedic servic group ffl polici ii capac unus one share servic group borrow anoth share servic group howev like previou pol ici suppos borrow dedic servic group ffl polici iii capac unus dedic servic group borrow tunnel share servic group also group share resourc among themselv section start vpn connect accept algorithm ingress point admiss complex lie complex introduc need partit share resourc support model polici present abov analysi exampl algorithm polici iii iii clarifi detail a vpn call accept ingress job admiss control determin whether vpn connect request accept reject request accept requir resourc must guarante group new vpn establish request admit least minimum bandwidth state offer satisfi also retain least minimum requir exist user ie c user mini new vpn connect request accept ensur that admit vpn connect alway receiv least minimum offer bandwidth c user mini group restrict number maximum connect join group much capac accept connect actual decid connect state group share polici go discuss next subsect b capac alloc share among group polici base capac alloc group sole use vpn connect belong group onli circumst resourc assign one group borrow other even capac unus make alloc simpl edg also interior implement point view simpl sinc unus capac use group qualit servic mention earlier also enhanc vpn connect accept system check connect alloc maximum rate possibl base capac c basei enough assign exist connect maximum rate c user maxi otherwis base capac share among exist new vpn connec tion therefor express admiss polici follow exampl follow exampl assum total link bandwidth mbp one share user group also assum isp offer group c user base capac c base alloc group mbp mbp call accept long condit c user mini section iiia met number call exceed c user mini new arriv call reject exampl st call exampl accept c user would minimum bandwidth could longer guarante there fore call reject c capac alloc share among group polici ii capac alloc group fulli use vpn con nection capac borrow connect share servic group need howev borrow capac must relinquish need group capac borrow although borrow dealloc add complex edg provis connect variou group how ever better chanc enjoy higher rate follow present algorithm regard vpn connect arriv termin possibl expans exist connect result termin connect share servic group c vpn connect arriv like previou case vpn connect arriv essenti involv check avail resourc use new con nection avail alloc capac incom call even base capac certain group allow new connect belong group assign maximum isp offer rate ie c user maxi resourc share among variou group might happen resourc group borrow group leav requir resourc ie cshare unus c user maxi case resourc must relinquish appropri groupss dealloc exist connect lead rearrang capac connect note capac relinquish way borrow numer way unus capac borrow compet group see section iiic iiid sake simplic group maximum excess bandwidth c releas first next on group enough base capac support new connect max offer rate hi share unus capac also enough support new connect max offer rate see exampl cshare unus c user maxi share unus capac borrow capac relinquish borrow see exampl els n relinquish c user maxi group max excess bw rearrang bandwidth group mention capac borrow one group other one group borrow resourc natu ralli base capac less need ie much one group borrow depend much unus resourc avail least equal maximum offer rate c user maxi amount alloc otherwis ie cshare unus c user maxi whole unus resourc goe group question divid among connect group share capac equal exceed base capac hi unus capac still support new connect rate capac borrow see exampl cshare unus c user maxi if unus capac less max rate capac share exist new connect see exampl els n cshare unus consid sever numer exampl section clarifi algorithm analysi present abov follow exampl assum total link bandwidth mbp two share user group ie group c user c user c user prior vpn connect request group here group c c user c user max also cshare unus greater c user max henc c prior vpn connect request group exampl c greater c user mbp mean group use base bandwidth new connect maximum offer bandwidth mbp howev cshare unus time request arriv cshare gamma mbp indic anoth group borrow capac group group left least c user mbp request could assign desir amount resourc therefor option left relinquish mbp group borrow it search tabl find group taken bandwidth therefor need deduct mbp group recomput individu share vpn connect c c share gammac user max mbp obvious c mbp prior vpn connect request group case one group use full alloc base capac borrow resourc group left spare capac here c total spare capac cshare unus valu greater c user max ie mbp therefor new vpn connect request alloc maximum offer valu ie mbp even exceed base capac group exampl prior vpn connect request group exampl depict scenario one group alreadi exceed base capac accommod new connect request unus resourc left groupsher even new call arriv group borrow mbp so current capac alloc group equal distribut among exist new arriv vpn connect therefor c mbp c vpn connect termin vpn connect termin resourc might releas relev group depend current rate everi connect enjoy group rate less equal maximum offer rate capac releas group current share result connect group increas equal capac share lower number connect if howev current rate everi connect alreadi equal maximum offer rate termin would trigger deduct c user maxi share resourc c sharedi connect alreadi enjoy c user maxi rate chang occur exist connectionsth algorithm state follow see exampl cshare unus cshare unus cshare unus cshare unus clarifi vpn connect termin process consid similar exampl present previou section exampl connect termin group here c share user mean capac use group connect termin remain unchang even termin so new valu c share also mbp vpn connect equal share capac c share capac deduct group total unus share capac also remain unchang exampl vpn connect departur group exampl c share user state fact prior departur activ vpn connect use maximum possibl offer bandwidth c user mbp total henc departur trigger deduct c user mbp total capac use group prior departur capac even deduct good enough satisfi activ connect offer highest possibl rate mbp therefor c mbp vpn connect receiv c share termin process trigger deduct c user max capac use group unus share capac increas valu so cshare unus c vpn capac expans unus share capac left group distribut among other prioriti given certain group alloc unus capac next section present variou polici alloc unus dedic capac might appli well consid one case prefer given needi group need determin ratio c useri c user maxi so order group accord ratio reorder group first one lowest c useri c user maxi last one highest c useri c user maxi reorder done expans algorithm start alloc unus bandwidth first group next base avail resourc state share unus share cshare unus gamma n sharedi c user share unus cshare unus cshare unus exampl vpn connect termin group termin vpn connect group cshare unus mbp need resourc group capac use partli fulli find group need resourc sinc c user user max remain seen extent could use unus capac iti here c share c share unus greater c user max mbp therefor capac group expand n share c user mbp alloc exist connect c user remain unus capac reduc cshare unus gamma n share c user mbp exampl vpn connect departur group unlik previou exampl group need use portion unus resourc remain capac alloc exist group vpn connect order enhanc servic c share increas mbp exist connect receiv c share mbp d fair alloc unus dedic resourc polici iii previou section discuss method one share servic group borrow resourc anoth similar group section discuss possibl share unus dedic resourc among variou share servic group share servic group allow borrow resourc unus dedic resourc defin new term share cded unus question alloc unus dedic resourc fairli among compet group vpn tunnel want maximum bandwidth offer isp polici offer possibl point share share quantiti need alloc maximum possibl offer rate connect even allow unus dedic resourc use share servic group greater need defin fair set user throughput valu ie c useri given set maximum offer load c user maxi c share word need divid extra capac cded unus among needi group fair manner howev fair share extra resourc trivial issu address other differ network situat propos favour share bottleneck capac equal among user independ requir other advoc penal user caus overload share resourc among vpn connect group equal share unus dedic capac help much group connect alreadi enjoy rate close c user maxi time also allevi problem group rate c user mini much less c user maxi fair criterion also fit would depriv heavi user group gain share unus dedic resourc even enjoy rate much c user maxi case complic fact penal heavi user group cannot reduc current share might happen certain case tri maxim rate lower user group follow section discuss variou fair share method edg d alloc unus resourc lower user group first case first need order user group base c user maxi valu object satisfi lower user group first tri alloc maximum offer valu higher user group less chanc acquir resourc left dedic servic group rational behind vpn user satisfi alloc higher user group might bring littl chang mani case suffici extra resourc avail order lead servic group possibl expand k group vpn tunnel belong group enjoy maximum offer band th group receiv rest unus dedic resourc tunnel remain unchang total enhanc share capac comput follow share n sharedi c user maxi cded unus n sharedi c user comput help us view c share share differ group howev gener case true k case are share c share cded unus cded unus practic unus dedic capac process start ask first group unus capac enough satisfi vpn connect so connect receiv maximum valu c user maxi queri second group other wise whole amount capac alloc first group divid among compet connect process continu long unus capac posit figur assum situat group vpn connect capac respect c user maxi also cshare mbp group c mbp group c mbp c user mbp group c mbp c user mbp prior avail cded unus mbp group alreadi order appli algorithm see first two group alloc maximum rate therefor expand theta theta respect rest unus capac cded unus gamma mbp goe third group d alloc unus resourc highest needi group first much like process describ differ group order base need apportion mechan algorithm remain same here need determin ratio c useri c user maxi so group lower ratio get prefer group higher ratio therefor process start feed needi group continu long unus capac previou section c user max c user max c user c user max clearli group needi group cded unus mbp serv needi group enhanc servic new c c user previou exampl group never chanc grab portion unus bandwidth new polici allow improv servic substanti d alloc unus resourc base proport need although mechan seem fair sinc alloc base group need mani case sever needi group littl differ need case apportion might alway fair unus dedic resourc exhaust tri feed first group remain depriv get share section there fore present way alloc unus resourc base proport need group need resourc ie ratio c useri c user maxi receiv portion unus resourc proport group need therefor group i receiv extra resourc base proport need expand ded unus c share excessi share excess need group c share excessi actual excess quantiti need offer connect group maximum valu c user maxi therefor c share exampl again let us consid exampl illustr use proport need order need alloc extra capac sole base proport need group c user c user max group c user c user max group c user c user max applic alloc polici expand capac group to c gamma connect improv new c c user max similarli group c mbp c c user max group c user clearli show proport share fairli enhanc rate needi group case appli fair method iv implement bandwidth broker dynam configur underli network may provid differ class servic satisfi variou vpn custom identifi gener function provid resourc polici option present bb standard web interfac shown figur b bandwidth broker manag outsourc vpn corpor custom servic level agreement sla isp allow one user specifi demand www interfac establish vpn certain qo two endpoint a essenti compon bandwidth broker bb need keep track exist connect avail resourc updat relev databas reflect recent network state bb interact special configur daemon cd certain user request arriv setup tunnel bb decid whether alloc enough resourc meet demand tunnel bb invok sla databas check valid user request essenti need maintain connect databas contain list current activ vpn edg resourc databas keep track record quantit resourc avail base capac current resourc consumpt variou router interfac fig bb web interfac user b exampl dynam configur switch network public internet univ genev univ bern univ bern fig experiment setup vpn resourc control bandwidth broker check resourc connect databas whenev new connect arriv departur might trigger modif rate exist connec tion better understand edg router dynam configur meet user demand conform sla demonstr exampl dynam rate alloc vpn connect commerci cisco router consid similar exampl detail section iii see simpl algorithm realli appli edg devic let us consid experiment setup figur difservvpn three vpn qo capabl edg router privat network behind them configur user a want establish vpn connect sourc destin choos menu mbp isp provid websit submit request resourc group definit edg resourc databas entri shown figur appli algorithm present section polic rate c user configur edg router c mbp user b choos menu also get c sinc capac group abil support that assum two user c d decid vpn connect capac vari mbp group support connect maximum avail rate mbp therefor c mbp also configur router connect see follow polic individu vpn connect inbound c user a b c user c d ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit classifi request vpn traffic accesslist permit ip host host accesslist permit ip host host accesslist permit ip host host accesslist permit ip host host here show ingress router polic mark sinc diffserv unidirect assum bit preced use ef traffic mark traffic exceed specifi rate mark best effort bit preced user familiar cisco router notic first traffic rate paramet for exampl ratelimit polic mark command rate refer c useri group i two burst paramet control resourc resourc definit connect databas edg resourc databas network element edg router request web interfac edg router group base capac use capac resourc group usermin usermax user id sourc address id time id sourc tun dest address dest tun resourc group usag current activ fig partial entri connect resourc databasesa scenario connect receiv maximum offer valu configur user a b also want establish connect sourc respect choos menu mbp ie group see capac exhaust group therefor two new connect two exist connect share base capac mbp connect configur c c user mbp shown figur new configur script use point follow ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit ratelimit input accessgroup conformact setprectransmit exceedact setprectransmit accesslist permit ip host host accesslist permit ip host host v conclus paper propos novel rang base sla allow custom specifi requir rang quantit servic vpn connect sinc unabl unwil predict load vpn endpoint support servic propos develop prototyp bandwidth broker bb logic partit capac edg variou servic class or group vpn manag effici allow resourc shar control resourc resourc definit connect databas edg resourc databas network element edg router request web interfac edg router group base capac use capac resourc group usermin usermax user id sourc address id time id sourc tun dest address dest tun resourc group usag current activ mbp fig scenario rate exist connect reduc accommod new connect ing among group dynam fair manner variou algorithm exampl analysi present provis resourc dynam edg support qo vpn connect one obviou advantag system price gain price custom pay higher one pay lower bound capac lower normal need paid upper bound capac low load possibl user might enjoy upper bound rate without pay anyth extra price might attract user isp take advantag attract custom advantag believ model quit attract isp will deploy real world scenario vi acknowledg work describ paper part work done project charg account technolog internet cati fund swiss nation scienc foundat project no snf r equip project no foundat forderung der wissenschaftlichen forschung der universitt bern r rout guidelin effici rout method framework differenti servic architectur differenti servic overview qualiti servic rout nextgener highspe network problem solut framework qosbas rout internet flexibl model resourc manag virtual privat network mpl support differenti servic framework ip base virtual privat network expedit forward phb bottleneck flow control implement bandwidth broker dynam endtoend resourc reserv outsourc virtual privat network implement servic broker manag qo enabl vpn core mpl ip vpn architectur benjamin teitelbaum fair window flow control comput network studi fair packet switch network fair atm network tr ctr raffael bolla roberto bruschi franco davoli capac plan ip virtual privat network mix traffic comput network intern journal comput telecommun network v n p june haci a mantar ibrahim t okumu junseok hwang steve j chapin scalabl intradomain resourc manag architectur diffserv network journal high speed network v n p januari