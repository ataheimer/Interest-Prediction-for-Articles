t likelihood ratio deriv estim finitetim perform measur gener semimarkov process a paper investig likelihood ratio method estim deriv finitetim perform measur gener semimarkov process gsmp develop readili verifi condit applic method condit mainli place restrict basic build block ie transit probabl distribut densiti function event lifetim initi distribut gsmp contrast structur condit need infinitesim perturb analysi explicitli show condit hold mani practic set particular larg class queue reliabl model one intermedi result obtain studi independ valu formal show random variabl repres number occur event gsmp finit time horizon finit exponenti moment neighborhood zero b introduct run simul one often interest estim deriv perform measur respect paramet input distribut eg rout probabl time distribut servic time distribut queue network lifetim distribut repair time distribut compon reliabl model one reason comput deriv estim use sensit analysi exampl reliabl context design system may want determin focu design effort improv overal system perform addit effici deriv estim play import role simulationbas optim algorithm eg see glynn a one approach estim deriv via simul likelihood ratio method also call score function method eg see aleksandrov sysoyev shemeneva arsham et al glynn a reiman weiss rubinstein lecuy nakayama goyal glynn nakayama overview techniqu may found bratley fox schrage glynn lecuy rubinstein shapiro valid techniqu establish explicitli certain perform measur class discret space discretetim markov chain glynn discretespac continuoustim markov chain reiman weiss nakayama goyal glynn generalst space markov chain regen structur also call harri chain glasserman glynn perform measur studi mainli transient one perform measur base behavior stochast process time interv begin length either fix random a stoppingtim steadyst perform measur studi insofar express function stoppingtim base transient perform measur use regen structur main impedi verifi valid lie justifi interchang deriv expect requir method lecuy reiman weiss rubinstein shapiro gener condit ensur interchang justifi howev condit difficult verifi mani specif context paper establish condit readili verifi mani context valid likelihood ratio method set gener semimarkov process gsmp gsmp gener mathemat framework model mani discreteev system consider amount work studi differ aspect class stochast process eg see shassberg whitt glynn b haa shedler glasserman yao a b also dynam close follow eventdriven simul gsmp use model system analyz simul studi variou simul methodolog eg see glynn iglehart glasserman a glasserman yao c paper use gsmp framework studi likelihood ratio deriv estim method appli finitetim perform measur ie perform measur expect random variabl determin fix time t gener gsmp framework enabl us verifi applic likelihood ratio deriv estim method larg class reliabl queue model fact whole project initi motiv need simulationbas deriv estim larg class reliabl model type heildelberg shahabuddin nicola nicola nakayama heildel beger goyal nicola shahabuddin heidelberg glynn nonmarkovian version model construct analyz save softwar packag blum et al altern method estim deriv use simul infinitesim perturb analysi ipa eg see ho cao heidelberg et al glasserman a glasserman abc establish condit method give rise unbias estim deriv finitetim perform measur gsmp one main differ condit ipa condit likelihood ratio method impos restrict basic build block ie transit probabl distribut densiti function event lifetim initi distribut gsmp wherea ipa relat underli structur gsmp give exampl larg class stochast model one justifi valid likelihood ratio method ipa due limit pose structur condit hand ipa method admit larger class eventtim distribut likelihood ratio method also varianc likelihood ratio method deriv estim grow quit fast length observ increas eg see glynn result set discretetim markov chain thu larg time horizon t likelihood ratio method statist ineffici estim deriv ipa deriv estim suffer drawback rest paper organ follow section contain descript gsmp model work section review basic idea likelihood ratio method estim deriv section also provid proof valid method gsmp set set technic condit one intermedi result deriv here show random variabl repres number occur event gsmp t finit exponenti moment around neighborhood zero done bound gsmp agedepend branch process use result finit exponenti moment branch process section give simpl suffici condit condit section hold particular show condit hold mani set aris practic final section explicitli demonstr condit section hold certain class reliabl model queue network model mathemat model model evolut stochast system gener semimarkov process gsmp describ develop model close follow glasserman a approach denot physic state space process s assum either finit countabl infinit exampl context multiclass queue network state contain inform number custom type station along descript queue variou station let denot set event exampl multiclass queue network event complet servic extern custom arriv station make follow assumpt set finit case assumpt satisfi infiniteserv queue state s defin es set activ event state s ie event may occur system state s queueingsystem exampl servicecomplet event particular queue possibl state server queue busi introduc scalar paramet respect deriv comput exampl might repres mean arriv time custom rout probabl queue network comput deriv want evalu deriv paramet valu theta open set easili extend set calcul deriv respect scalarvalu paramet work comput gradient respect vectorvalu paramet consid i separ event e a let f denot distribut use gener event time e paramet valu assum distribut function f densiti f with respect lebesgu measur f initi state chosen use probabl mass function delta given state select initi state gener event time event e es f theta s e a let p delta s e probabl mass function s paramet valu system current state event e es occur system immedi move new state probabl ps call transit probabl the gener theori gsmp allow gener eg see glynn b state s defin set possibl clock read identifi jajdimension vector write c system state s clock ce activ event e es run rate s e assum s e e es applic s let s e assum valu allow greater model capabl exampl model preemptiv servic set s servicecomplet event preempt state s assum clock rate bound ie exist constant clock rate s e e a applic hold one exampl infinitecapac open queue system rate server process custom proport queue length assum state s least one activ event e es given system current state clock vector c defin hold time current state also defin event trigger transit current state sinc clock time continu distribut two clock never equal probabl one paramet valu state s event e a let cs denot set event activ state cancel upon transit state trigger event e defin set new event n s set old event os respect transit state state trigger event e new event e new clock valu ce gener distribut f also old event updat new clock valu ce immedi enter state cancel event e cs origin activ state may longer activ state note allow possibl cancel event e immedi reactiv ie e e case new clock valu immedi gener event e defin discretetim markov process fy nth state visit c n vector clock read nth transit state space process ss fsg theta cs transit probabl follow ae sigma form fix possibl infinit real number transit probabl s c paramet valu s c a fbg indic function probabl event fbg defin continuoustim gsmp piecewiseconst process stay state n interv length y precis let epoch nth transit notat simplic defin e number transit occur time then defin gsmp let p denot probabl measur govern gsmp paramet valu expect oper induc p space gsmp let f denot filtrat gsmp determinist loos speak histori process time t eg see section billingsley let fft perform measur v t f measur random variabl interest estim deriv d fft paramet probabl measur gsmp fix expect oper induc p impos restrict random variabl v t exist constant h v t j d almost omega h exist random variabl w w probabl show section mani perform measur interest satisfi condit likelihood ratio deriv method section review likelihood ratio method estim d d evalu paramet valu comput like bring deriv oper insid expect howev expect oper depend care must taken assum p absolut continu respect p restrict filtrat f z z lt radonnykodym deriv p respect p restrict filtrat f simpli likelihood ratio absolut continu respect anoth probabl measur q set q measur also q measur eg see section billingsley known chang measur glynn damerdji establish valid gsmp certain context thu express perform measur fft expect random quantiti taken respect probabl measur independ paramet key question remain whether bring deriv oper insid expect ie whether d d assumpt lecuy assumpt k lecuy see also rubinstein shapiro provid condit hold gener probabl space howev specif context gsmp difficult verifi directli answer interchang question gsmp set let us first determin exact form likelihood ratio lt heurist likelihood ratio lt given see glynn iglehart detail howev version likelihood ratio use would need restrict condit distribut function f justifi interchang deriv expect for exampl would chang altern requir f uniformli even satisfi f exponenti distribut mean get around thi instead work slightli modifi gsmp lead differ likelihood ratio alter distribut v t chang distribut clock time gener e a defin new distribut function recal time horizon note f x e mix continu discret distribut f x e x t point mass probabl f t e point befor one event occur time use rule want deal thi exampl order set event manner one event occur time take lowest event occur event for determin next physic state visit etc case origin modifi gsmp ie process z defin previou section distribut sampl path t sinc v t depend sampl path gsmp time ie f measur use new distribut gener clock time chang distribut v t appli approach requir mild condit distribut function f prove interchang new likelihood ratio given assum hold see appli product rule differenti yield d d d d d give deriv likelihood ratio express similar case fix number transit in contrast fix time horizon also glynn establish valid interchang deriv expect likelihood ratio deriv method appli gsmp develop condit basic build block gsmp valid we later give section easili verifi suffici condit follow condit hold first impos regular condit densiti gener event lifetim event e a exist h set f e independ event e f e ffl exist h uniformli f e event e f e exist h f delta e differenti f e delta uniformli bound f e theta note condit permit support distribut lifetim event e depend thu exampl disallow event e uniform distribut support present properti impli previou condit f proof lemma may found appendix let assum condit aa hold i exist h f e independ ii event e a uniformli t iii event e iv event e differenti f t e delta bound impos regular condit initi distribut exist h set independ ffl exist h uniformli exist h delta differenti uniformli bound theta final impos regular condit transit probabl exist h set g independ ffl exist h uniformli p exist h p delta delta delta differenti p delta uniformli bound p theta sens condit aa ensur basic build block gsmp wellbehav function neighborhood establish valid theorem condit aa hold v t lt differenti valid show theorem hold first need prove follow result independ valu condit a a hold exist constant z proof observ nt distribut whether use f gener lifetim event e a henc work f case system event cancel show result use method employ proof corollari glasserman a theorem page prabhu use result renew theori system event cancel need new approach given use result theori branch process establish result first construct new process bound nt show new process distribut multityp agedepend branch process see eg athreya ney definit bound multityp agedepend branch process singletyp agedepend branch pro cess final use result nakayama shahabuddin sigman simplic assum clock rate s proof easili gener clock rate unequ bound condit a e a recal lifetim event e follow distribut f lifetim may expir gsmp event cancel follow frequent use follow multityp agedepend branch process simplifi notat let branch process differ type object index e object type e lifetim distribut f branch process begin time time one object type born ie total object born object live random time specifi correspond lifetim distribut die object die instantan give birth exactli one object type process thu continu construct sampl path first bound process follow begin gener sampl path origin gsmp t follow ffl samplepath gener origin gsmp transit point equival event expir point noncancel event also includ event which may also nullset schedul new process transit point gsmp schedul event alreadi schedul transit point new event never cancel whenev expir start multityp branch process sort mention befor ffl origin gsmp event cancel new process let cancel event run expir whenev expir start multityp branch process kind mention befor let bt total number event schedul t construct process claim construct process sampl path multityp agedepend branch process first glanc claim may seem incorrect event expir time cancel event if cancel depend event expir time event caus cancel by expir independ lifetim assumpt branch process seem violat howev care argument reveal otherwis note differ construct process ordinarili gener multityp agedepend branch process order gener lifetim ordinari case lifetim may gener sequenti ie first gener lifetim object first gener object second gener on construct process order gener lifetim random random next lifetim one choos gener depend posit length lifetim alreadi gener howev lifetim independ anyth system henc order gener chang distribut branch process consid new branch process defin follow branch process begin time time object born object die give birth exactli object lifetim object follow distribut h depend defin follow first defin distribut function g gx x otherwis note x e distribut f use condit a a partii lemma easili show gx uniformli set t henc choos suffici small h jgx note ffl m defin new distribut function h follow hx otherwis observ distribut h stochast smaller see ross g impli h stochast smaller assum f note defin singletyp agedepend branch process let b t number object born includ time t also sinc h stochast smaller g b t stochast larger bt final sinc h m use theorem nakayama shahabuddin sigman show exist z proof complet proof theorem need show suffici small ffi absolut valu differ quotient domin uniformli p integr random variabl mean valu theorem suffici small ffi exist finit sinc jaj choos ffl clearli lemma possibl choos suffici small h condit a a a a a a part iv lemma hold condit a a part iii lemma hold ffl hold jffij h henc js correspond ffi alway lie first consid term v t jl t j f t e f t e delta f t e densiti function f express evalu point greater t defin sup sup sup condit a aa partiii iv lemma h h h h finit h h h h lie interv then let oe probabl condit a repeat applic schwarz inequ yield addit use fact oe impli moment nt exist p henc henc oeh integr similarli show jv t jlt jj uniformli domin integr random variabl final appli domin converg theorem complet proof worthwhil compar condit similar one literatur first consid amiabl condit use theorem reiman weiss one may use theorem reiman weiss valid exchang deriv expect special case setup ie present one distribut never appear variabl perform measur howev even impos restrict set amiabl condit difficult verifi directli one show help lemma mean valu theorem assumpt with condit replac weaker tractabl assumpt use proposit below impli amiabl condit secondli consid assumpt though set use differ our still make comparison exampl condit similar condit perform measur also sens type distribut condit impli distribut condit ak lecuy ie type distribut condit hold one use constant close bound random variabl gamma i constant bound random variabl gamma i use nt analogu discret stop time analog result lemma given prove condit specifi ak gamma i gamma i hold compar condit employ glasserman ab show unbiased ipa deriv estim gsmp context first note condit mainli impos restrict basic build block gsmp hand condit ipa primarili structur gsmp particular glasserman requir commut condit place limit relationship activ event certain state transit probabl state possibl immedi successor state condit essenti ensur slightli alter valu paramet result chang order two event sampl path sampl path in sens correct next event moreov glasserman permit initi distribut transit probabl depend paramet anoth differ type perform measur fft result restrict v t f measur random variabl satisfi condit a determinist glasserman allow v t addit function time allow either determinist time nth transit time nth occurr particular event suffici condit aa hold show assumpt hold mani set aris practic in section explicitli demonstr follow suffici condit satisfi larg class reliabl queue model first consid condit a proposit suppos condit a a hold also suppos fft f measur random variabl v t exist p almost omega satisfi follow i exist finit constant probabl ii exist finit constant k probabl condit hold proof need show w j k second moment paramet valu follow lemma show directli mani perform measur aris practic satisfi condit a proposit suppos perform measur fft one realvalu function gs delta continu differenti s either a jsj b g uniformli bound theta d condit hold note v t form ii proof first note v t i ii f measur condit i hold trivial satisfi condit a consid form ii assum either condit iia iib hold sinc gs delta continu differenti suffici small h t satisfi condit a show two rich class distribut gamma distribut weibul distribut case scale paramet satisfi distribut condit given aa gamma distribut wide use type stochast model weibul distribut one frequent employ distribut reliabl model proposit suppos lifetim event e gamma densiti shape paramet scale paramet ie fx given e i set fx independ uniformli t uniformli bound t theta proof part i trivial part ii note fx e fx converg uniformli t part iii note f x x t proposit suppos lifetim event e weibul densiti shape paramet scale paramet ie fx given e i set fx independ uniformli t uniformli bound t theta omit proof sinc similar proposit note need consid distribut depend paramet check condit aa satisfi true initi distribut condit aa transit probabl p condit aa follow result show state space finit converg bound condit a a a hold automat uniform proof trivial therefor omit proposit suppos jsj i condit hold s s ii condit hold s exist h which may depend s s delta delta bound iii condit hold s iv condit hold s s e p exist h which may depend s p bound exampl give exampl system condit aa hold first exampl deal larg class reliabl model second exampl consid larg class multiclass queue network reliabl model consid class reliabl model studi heidelberg shahabuddin nicola nicola shahabuddin heidelberg glynn nicola nakayama heidelberg goyal system compos k compon compon fail get repair compon lifetim repair time gener distribut r class repairmen system consisit finit number repairmen repair compon assign one repairman class repair strategi use repairman class may preemptiv nonpreempt prioriti fcf random order servic use member prioriti class allow follow interpen denci among compon first oper oper compon may depend certain compon oper addit repair fail compon may depend certain compon oper also failur compon may caus compon fail instantan certain probabl call failur propag exampl cancel event aris system consid oper certain set compon oper physic state system nth transit given n depend whether ith compon oper fail nth transit q j n repair queue jth repairman class note jsj easi see process fz previous mention system consid oper certain set compon oper formal u set oper state f set fail state system consid oper time otherwis consid down assum time system oper new ie compon age thu initi distribut independ paramet condit aa automat event system either compon failur compon repair clearli maximum k event entir system sinc k compon failur repair event associ it henc condit satisfi sinc jsj failur propag system outcom event e given system current state s fix ie ps exactli one state otherwis howev failur propag system may random final state reach given state event proposit provid suffici condit condit hold transient perform measur one may interest unreli expect interv unavail unreli probabl system failur fix time t henc case fft form i proposit event fz f tg thu condit hold interv unavail fraction time t system down case fft form ii proposit gz fgt note gz independ therefor v t probabl condit satisfi reliabl set one usual interest deriv perform measur respect i paramet failur time distribut individu compo nent ii paramet repair time distribut individu compon iii failur propag probabl first two case likelihood ratio deriv estim method applic distribut depend paramet respect deriv taken satisfi condit aa special case condit satisfi distribut paramet proposit third case densiti function f independ paramet condit aa automat satisfi also ps typic form constant clearli condit satisfi sinc jsj jaj finit check condit given proposit particular form ps condit satisfi class reliabl system turn glasserman ab condit unbiased ipa deriv typic satisfi particular glasserman assum event never cancel could occur set sinc allow failur propag also commut condit hold mani repair strategi exampl one repairman fix fail compon firstcom firstserv fashion condit violat moreov glasserman work cover perform measur unreli howev ipa admit mani eventtim distribut exampl one use repair time uniformli distribut the also paramet ipa allow result paper queue network consid multiclass queue network servic time custom class station gener distribut random variabl assum finit number server station custom class use markovian rout ie custom type complet servic station j immedi goe station k probabl r j k consid open close network case open network assum arriv process class station renew process gener distribut interrenew time event system custom arriv one custom class station custom servic complet one custom class server station henc event set finit applic condit satisfi mention earlier one situat open network servic rate custom station proport number custom system assum network close alway start custom configura tion initi distribut independ paramet condit aa automat satisfi similarli assum network open alway start custom present initi distribut independ paramet condit aa automat hold perform measur interest system i expect timeaverag queue length t given station ii case open network expect timeaverag number custom t entir system iii case open network probabl total number custom system exce threshold time interv t if network finit combin buffer probabl least one custom loss due buffer overflow t show condit hold perform measur sinc case v t independ v t show e v t case iii obviou case i close network also obviou case i open network case ii custom initi system follow lemma condit a hold becaus say case ii let qs total number custom system time s qsd t nsd t proposit impli condit hold condit a a one may interest deriv perform measur respect i paramet servic time distribut class particular station ii case open network paramet interarrivaltim distribut certain custom class particular station iii rout probabl certain custom class particular station case reliabl model first two case likelihood ratio deriv estim method applic distribut depend paramet respect deriv taken satisfi condit aa wide use case condit satisfi distribut paramet type given proposit proposit third case case close network due finit state space appli proposit case open network proposit longer use state space longer finit howev sinc number station finit sinc markovian rout finit mani differ valu assum henc show condit hold make sure transit probabl continu neighborhood condit hold ps form c constant multiclass queue system consid here glasserman ab condit unbiased ipa deriv typic satisfi specif com mute condit hold multiclass network gener exampl particular station visit one custom class fed one sourc condit violat also glasserman work cover perform measur probabl buffer overflow occur time t final glasserman disallow rout probabl more gener statedepend transit probabl depend paramet howev mention befor ipa admit mani eventtim distribut mention condit aa hold gener queue network exampl shown typic valid statedepend rout appendix proof lemma work first author support part nsf career award dmi njit sbr grant no work second author support part nsf grant dm nsf career award dmi author would like thank area editor associ editor two refere help detail comment i obviou ii wish show ffl exist ffi satisfi condit a ffl exist h condit a satisfi x f e condit a x satisfi therefor still hold choos henc ffl exist ffi satisfi t subtract term use fact f y get iii follow immedi part ii lemma iv condit a ffl exist h condit a fx e fx x f e defin dffi condit a exist h smaller h exist jf x fflkf constant k partiii lemma exist h choos h part iv lemma minh mean valu theorem shown previou paragraph f x e exist suffici small ffi exist also z domin converg theorem gammah h r r r r r stochast optim sensit analysi probabl measur system avail estim save languag refer user manual guid simul nd maximum likelihood ratio estim gener semimarkov pro cess gradient estim via perturb analysi structur condit perturb analysi deriv estim finit time perform indic structur condit perturb analysi queu system gradient estim regen process wilson monoton gener semimarkov process gener semimarkov process antimatroid structur secondord properti some guidelin guarante common random number stochast approxim mont carlo optim likelihood ratio gradient estim overview optim stochast system via simul ieee press a gsmp formal discreteev system likelihood ratio deriv estim stochast system simul method queue overview import sampl stochast simul regen gener semimarkov process converg properti infinitesim perturb analysi estim bound rel error estim transient measur highli depend nonmarkovian system optim perturb analysi queue network note interchang deriv expect likelihood ratio deriv estim asymptot likelihood ratio deriv estim simul highli reliabl markovian system likelihood ratio sensit analysi markovian model highli depend system a note exponenti moment fast simul highli depend system gener failur repair process fast simul steadi state avail nonmarkovian highli depend system sensit analysi via likelihood ratio ieee press sensit analysi simul via likelihood ratio new york the score function approach sensit analysi comput simul model sensit analysi perform extrapol comput simul model discret event system sensit analysi stochast optim score function method on equilibrium distribut class finitest gener semimarkov process continu gener semimarkov process tr ctr sigrn andradttir paul glasserman peter w glynn philip heidelberg sandeep juneja perwez shahabuddin profession appreci acm transact model comput simul tomac v n pe april pierr lecuy valri demer bruno tuffin rare event split quasimont carlo acm transact model comput simul tomac v n pe april