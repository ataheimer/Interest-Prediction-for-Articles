t justif inclus depend normal form a abstractfunct depend fd inclus depend ind fundament integr constraint aris practic relat databas paper address issu normal presenc fd ind and particular semant justif inclus depend normal form idnf normal form combin boycecodd normal form restrict ind noncircular keybas motiv formal three goal databas design presenc fd ind noninteract fd ind elimin redund updat anomali preserv entiti integr show that fd presenc ind free redund equival free updat anomali then properti deriv equival syntact condit databas design individu syntact condit weaker idnf restrict fd embed righthand side ind common three condit howev also show that three goal databas design satisfi simultan idnf necessari suffici condit b introduct function depend fd arm mai ull aa generalis notion entiti integr key cod inclus depend ind mit cfp generalis notion referenti integr foreign key cod dat sens fd ind fundament data depend aris practic relat databas design presenc fd establish area databas theori research twenti year cod bb mai ull aa semant justif normal form presenc fd wellunderstood term elimin call updat anomali redund problem aris relat satisfi set fd bg fag cha vin vin advic given result investig semant normal form order elimin mention problem design databas schema boycecodd normal form bcnf cod despit import ind integr constraint littl research carri integr normalis process relat databas integr fundament success design sinc enforc referenti integr simpl matter ctf normal form includ fd ind consid ca mr lg mr bd necessari suffici condit term remov updat anomali redund problem given goal paper fill gap provid suffici necessari semant inclus depend normal consid problem occur presenc fd ind two exampl first exampl illustr situat attribut redund due interact fd ind exampl let head relat schema attribut h d h stand head depart stand depart let lect relat schema attribut l d l stand lectur stand depart furthermor let dg set fd databas schema state head depart manag uniqu depart lectur work uniqu depart fheadhd lectldg set ind r state head depart also work lectur depart note logic implic pullback infer rule see proposit thu fd head f redund also note assum head h f thu depart may one head two problem aris respect r f i firstli interact f may lead logic implic data depend envisag databas design may easi detect gener implic problem fd ind intract see discuss section exampl pullback infer rule impli fd f redund secondli ind headhd lectld combin fd lect impli attribut head redund sinc depart head infer fact l key lect formal infer done aid relat algebra express use renam join project see mai ull aa detail relat algebra thu headhd lectld replac headh lectl attribut head remov without loss inform second exampl illustr situat propag insert due ind may result violat entiti integr exampl let emp relat schema attribut e p e stand employe name p stand project titl let proj relat schema attribut p l p stand project titl l stand project locat furthermor pg set fd databas schema state employe work uniqu project fempp projpg set ind r state employe project one list project note project may situat sever locat correspondingli locat may associ sever project thu fp lg primari key proj problem aris respect r f righthand side p ind empp projp proper subset primari key proj let r r relat emp proj respect suppos employe assign new project yet alloc locat thu yet record r now due ind i insert employe tupl r new project propag r insert r tupl record new project sinc locat project still unknown due entiti integr possibl propag insert r summaris problem would like avoid design relat databas presenc fd ind firstli avoid redund attribut secondli avoid violat entiti integr propag insert lastli avoid interact fd ind due intract joint implic problem fd ind main contribut paper formalis design problem result databas schema idnf problem elimin also demonstr robust idnf show that bcnf remov redund databas schema presenc fd ind also equival elimin updat anomali databas schema layout rest paper follow section formal defin fd ind satisfact introduc chase procedur mean test enforc satisfact set fd ind section formalis notion interact set fd ind give necessari suffici condit fd noncircular ind interact section characteris redund presenc fd ind section characteris insert modif anomali presenc fd ind show equival free either insert modif anomali free redund section characteris generalis entiti integr presenc fd ind section defin idnf present main result establish semant idnf term either updat anomali redund problem satisfact generalis entiti integr final section give conclud remark indic current research direct definit notat denot cardin set jsj size set defin cardin standard encod s subset write proper subset write ae t often denot singleton fag simpli write mean fag s addit often denot union two set s t ie t simpli st function inclus depend formalis notion fd ind satisfact defin use subclass fd ind also present chase procedur test enforc satisfact set fd ind chase procedur instrument prove main result definit databas schema databas let u finit set attribut relat schema r finit sequenc distinct attribut u databas schema finit set g r r relat schema assum countabl infinit domain valu d without loss gener assum linearli order rtupl or simpli tupl whenev r understood context member cartesian product theta relat r r finit possibl empti set rtupl databas r famili n relat fr r r r given tupl r assum r relat r denot insert r ftg delet r gamma ftg let r databas schema databas r furthermor let r relat relat schema r r definit project project rtupl onto set attribut r denot ty also call yvalu t restrict y project relat r onto y denot y r defin y rg definit function depend function depend or simpli fd databas schema r statement fd relat schema r r r x r set attribut fd said trivial x said standard x satisfi d denot definit inclus depend inclus depend or simpli ind databas schema r statement form r x r j y r sequenc distinct attribut ind said trivial form rx rx ind rx sy said unari ind said type form rx sx ind r x r j y r satisfi d denot relat r r j respect let f set fd r f set fd f r r furthermor let set ind r let definit logic implic sigma satisfi d denot logic impli fd ind oe written sigma whenev databas r follow condit true hold logic impli set gamma fd ind r written sigma denot set fd ind logic impli sigma definit key bcnf keybas ind set attribut x r superkey r respect f f key r respect f superkey r respect f proper subset ae x superkey r respect f let keysf set fd form x r x key r respect f ng databas schema r boycecodd normal form or simpli bcnf respect f r r nontrivi fd r superkey r respect f ind r x r j y superkeybas respect keybas superkey respect key r j respect f j definit circular noncircular set ind set ind r circular either contain nontrivi ind rx ry exist distinct relat schema r contain ind r set ind noncircular circular class proper circular ind imi defin includ class noncircular ind special case definit proper circular set ind set ind r proper circular either noncircular whenev exist distinct relat schema r contain ind r well known armstrong axiom system arm mai ull aa use comput f casanova et al axiom system cfp use comput howev consid fd ind togeth comput sigma shown undecid mit cv hand noncircular mitchel axiom system mit use comput sigma ck moreov special case set unari ind cosmadakiss et al axiom system ckv use comput sigma implic problem problem decid whether oe oe fd ind sigma set fd ind wellknow implic problem fd decid linear time bb hand implic problem ind is gener pspacecomplet cfp implic problem noncircular ind npcomplet man ck type ind polynomi time implic problem cv unari ind linear time implic problem ckv consid fd ind togeth implic problem undecid mention abov implic problem fd noncircular ind exptimecomplet noncircular ind type implic problem nphard ck fd unari ind polynomi time implic problem ckv next proposit describ pullback infer rule mit cfp allow us infer fd fd ind proposit sigma definit reduc set fd ind project set fd f r onto set attribut r denot f y given f wz yg set attribut r said reduc respect r set fd f simpli reduc respect f r understood context f y contain trivial fd set fd ind said reduc r x r j y i reduc respect f j easili shown decid polynomi time size sigma whether sigma reduc not chase procedur provid us algorithm forc databas satisfi set fd ind definit the chase procedur ind chase respect sigma denot chase sigma result appli follow chase rule fd ind rule current state long possibl the current state prior first applic chase rule state upon input chase procedur fd rule r occurr larger valu a a smaller valu a a ind rule r x r j y r tx y r j add tupl u r j r j assign new valu greater current valu occur tupl relat current state d observ allow circular chase procedur alway termin jk when chase respect sigma termin chase sigma said violat set fd g r ie chase sigma j g finit number applic ind rule current state d result j g special case class proper circular ind shown chase procedur alway termin imi follow theorem consequ result mr chapter theorem let set fd proper circular ind databas schema r follow two statement true ii chase sigma termin finit number applic ind rule current state d interact fd ind demonstr proposit fd ind may interact sens may fd ind impli set fd ind impli fd ind taken separ point view databas design interact undesir sinc databas design may normalis respect set fd respect combin set fd ind illustr follow exampl exampl consid databas schema set sigma fd f ind r given sabg easili verifi r bcnf respect f howev augment f b logic impli sigma use proposit r bcnf respect augment set fd f sinc superkey r respect set fd bg major difficulti occur databas design set fd ind interact result fact that note earlier implic problem arbitrari set fd ind undecid mit cv thi gener cannot determin whether databas design bcnf respect arbitrari set fd ind sinc set logic impli fd cannot effect comput consequ desir goal databas design set fd ind interact formalis notion non interact characteris proper circular ind special case non interact occur definit no interact occur fd ind set fd f r said interact set ind r fd ff r subset g f g ind fi r subset j i f j j follow theorem proven ll see mr chapter theorem r bcnf respect set fd f r proper circular set ind r reduc f interact next exampl show cannot gener extend theorem case set ind proper circular particular proposit sigma reduc necessari condit interact occur f i suffici condit non interact exampl consid databas schema set sigma fd f ind r given by ag fra sa sb rbg easili verifi sigma reduc circular use axiom system follow sigma thu f interact anoth exampl let easili verifi sigma reduc circular again f interact sinc use axiom system rag attribut redund section investig condit databas design ensur elimin redund goal long cite one princip motiv use normalis databas design mai ull mr aa howev proven somewhat difficult formalis intuit notion redund rel recent notion formalis relationship classic normal form establish vin vin definit redund associ normal form guarante redund elimin follow definit valu redund let databas r satisfi f r tupl r relat relat schema r r occurr valu ta r attribut redund respect f everi replac ta distinct valu v v ta result databas j f databas schema r said valu redund free normal form or simpli vrfnf respect set fd f r exist databas r occurr valu ta redund respect f illustr definit simpl exampl exampl consid singl relat scheme set f fd given bg r vrfnf sinc consid relat r r shown tabl bvalu present tupl redund sinc r replac valu either tupl anoth valu result f violat tabl relat r follow result establish vin vin show given set fd f vrfnf equival bcnf sake complet provid sketch proof theorem databas schema r bcnf respect f r vrfnf respect f proof part follow show contraposit r bcnf vrfnf result follow r bcnf exist nontrivi impli fd x x superkey use well known construct theorem ull exist two tupl relat r tupl ident xa relat r vrfnf sinc chang either avalu result x violat part follow observ occurr ta redund relat r must exist r impli x cannot superkey henc r bcnf establish part vin shown presenc multivalu depend nf fourth normal form fag also equival vrfnf somewhat surprisingli syntact equival vrfnf gener case join depend present new normal form weaker pjnf projectjoin normal form fag nf fifth normal form mai vin concept valu redund littl use though evalu databas design presenc ind follow result demonstr design constraint involv nontrivi ind vrfnf respect set ind lemma let set fd noncircular ind databas schema r r vrfnf respect sigma nonempti contain least one nontrivi ind proof let r x r j y nontrivi ind i construct databas relat r r singl tupl contain zero everi relat r k empti now let thu theorem due noncircular i r current state r let r j current state relat r j r j yvalu tupl r must contain zero sinc thu zero singl tupl r redund sinc chang result r x r j y violat due lemma requir design vrfnf respect fd respect ind howev note other sci lg mr even stronger form redund occur databas presenc ind refer attribut redund illustr exampl given introduct definit attribut redund attribut relat schema r r redund respect sigma whenev databas r satisfi sigma r nonempti relat r everi tupl r ta replac distinct valu v result databas j sigma databas schema r said attribut redund free normal form or simpli arfnf respect set fd ind sigma r exist attribut relat schema r r redund respect sigma next exampl show arfnf weak sigma contain fd highlight differ vrfnf arfnf exampl consid relat r exampl shown tabl let r result ad tupl r then easili verifi that although r vrfnf respect f r arfnf respect f sinc replac valu distinct valu result databas still satisfi f combin definit defin redund free normal form definit redund free normal databas schema r said redund free normal form or simpli rfnf respect set fd ind sigma r vrfnf respect f arfnf respect sigma next theorem show set ind noncircular rfnf equival set fd ind reduc databas schema bcnf theorem let set fd noncircular ind databas schema r r rfnf respect sigma sigma reduc r bcnf respect f proof if theorem r vrfnf respect f remain show r arfnf proof utilis direct graph represent g n e set ind i construct follow see sci relat schema r r separ node label r distinguish node label arc r nontrivi ind rx sy i easili verifi path g r ind rx sy sinc noncircular g acycl let r attribut r r relat schema construct databas nonempti relat r d exhibit fact nonredund respect sigma first initialis databas databas follow let r singl tupl b relat r r k initialis empti therefor theorem current state r then theorem r current state r k relat r k empti exist path g r r k singl tupl b r includ a therefor theorem current state r sinc final state initialis d then j f sinc claim also case let us call nontrivi ind r x r j y sourc ind x project permut infer rule ind cfp assum without loss gener sourc ind form r va r j wb due noncircular current state r k relat r k empti exist path g r r k therefor r k r now arc r r j g ind r x r j y i two case consid first x contain zero thu secondli x r x r j y sourc ind r va r j wb let r j current state r therefor follow ind r x r j y path r r j sinc requir part conclud sinc differ replac if theorem r bcnf respect f vrfnf assum sigma reduc remain show r arfnf assumpt exist ind r x r j y nontrivi fd pullback infer rule nontrivi fd project permut infer rule ind cfp let r tupl nonempti relat r assum j sigma follow redund respect sigma sinc whenev replac ta distinct valu result databas seen contrari assumpt next construct two exampl demonstr condit theorem violat r arfnf exampl let r databas schema exampl consid databas overr shown tabl respect verifi set fd ind exampl reduc r bcnf respect set fd attribut relat schema head seen redund sinc chang e tabl caus violat similar situat occur everi databas defin r r arfnf tabl relat head tabl relat lect exampl let r fstudent enrolg databas schema student fstud id nameg addressg furthermor let addressg set fd r fenrolstud id studentstud idg set ind r verifi set fd ind exampl reduc r bcnf respect set fd r rfnf vrfnf sinc occurr enrol redund databas shown tabl respect stud id name tabl relat student stud id cours address tabl relat enrol next exampl show cannot extend theorem case set ind circular exampl consid databas schema set sigma fd f ind r given by ag fra sa rag verifi sigma reduc r bcnf respect f proper circular unari type also keybas let databas r nonempti relat r let r tupl assum without loss gener databas result replac distinct valu result tupl order conclud exampl show j sigma assum contrari sigma thu must tupl distinct case j ra sa sinc a follow thu contrari assumpt therefor attribut r must redund respect sigma reader easili verifi attribut also redund respect sigma even f empti appear exampl relat schema remov r without loss semant insert modif anomali section investig condit databas design ensur elimin keybas updat anomali as distinct type updat anomali investig bg vin concept origin introduc fag deal insert delet tupl later extend vin vin includ modif tupl keybas updat anomali defin occur updat relat either insert delet modif result new relat satisfi key uniqu violat constraint relat reason consid undesir enforc key uniqu implement via relat databas softwar much effici manner enforc gener constraint fd mai ull aa so satisfact constraint relat result key uniqu integr relat updat easili enforc wherea exist keybas updat anomali impli convers herein formalis concept base approach differ presenc ind allow updat propag relat chase procedur show free insert anomali equival free modif anomali addit show ind noncircular free either insert modif anomali equival set fd ind reduc databas schema bcnf respect set fd consid delet anomali sinc presenc fd remov tupl relat satisfi set fd caus violat fd set definit compat tupl tupl r compat respect set fd ind r or simpli compat whenev sigma understood definit free insert anomali databas r insert violat respect set fd ind or simpli insert violat whenev sigma understood context exist tupl r compat chase ftg i j sigma databas schema r free insert anomali respect sigma or simpli r free insert anomali sigma understood context exist databas r insert violat note definit utilis chase procedur enforc propag insert tupl due ind i exampl insert violat consid databas schema r exampl let databas r relat head empti r relat lect contain singl tupl insert violat tupl sinc appli chase procedur result ad relat r thu violat fd l d next theorem show assum set ind noncircular bcnf set fd ind reduc equival free insert anomali theorem let set fd noncircular ind databas schema r r free insert anomali sigma reduc r bcnf respect f proof if let databas r tupl compat d remain show chase ftg i first claim chase ftg hold due theorem impli fd rule need never invok comput chase ftg sigma moreov due fact r bcnf respect f compat d so theorem chase ftg sigma if two case consid case r bcnf respect f r r bcnf respect f thu nontrivi fd superkey r respect f assum x reduc respect r f otherwis replac x reduc subset w x w x follow x proper subset superkey r respect f let r r contain singl tupl contain zero let relat empti assum without loss gener j sigma otherwis let chase sigma due noncircular state r remain unchang chase sigma let tupl whose xvalu zero valu one compat chase ftg i j sigma sinc fd violat current state r therefor r free insert anomali case sigma reduc r bcnf respect f ind r x proper superset key say w r j respect f j let r j r j contain singl tupl say contain zero let relat d includ r r empti assum without loss gener j sigma otherwis let chase sigma due noncircular state r remain unchang chase sigma tupl agre j wvalu disagre j rest valu then compat chase ftg i j sigma sinc fd w violat result current state r j illustr theorem note firstli exampl given theorem demonstr case databas schema insert anomali set depend reduc altern follow exampl demonstr case databas schema bcnf insert anomali exampl let r exampl start databas shown tabl respect insert tupl compat enrol enrol relat appli chase procedur result databas shown tabl respect n new valu seen violat sigma r free insert anomali next exampl show part theorem is gener fals even proper circular set ind stud id name tabl relat student stud id cours address tabl relat enrol stud id name tabl relat student stud id cours address tabl relat enrol exampl consid databas schema set sigma fd f ind r given by rabg easili verifi proper circular r bcnf sigma reduc addit r free insert anomali sinc databas fr sg relat r s respect due i drop sab rab i then proof part theorem r insert violat next exampl illustr cannot gener extend theorem case set ind circular even sigma reduc due possibl interact fd ind exampl consid databas schema set sigma fd f ind r given by rbg verifi sigma reduc circular shown exampl although sigma reduc sigma thu f interact let databas r relat r r contain singl tupl let tupl insert violat sinc chase ftg i a in fact case chase procedur termin sinc insert r chase procedur modifi tupl input databas satisfi sigma see comment definit formal defin second type keybas updat anomali modif anomali follow approach vin vin differ chase procedur use propag effect chang relat definit free modif anomali databas r modif violat respect set fd ind or simpli modif violat whenev sigma understood context exist tupl u relat r tupl r compat databas schema r free modif anomali respect sigma or simpli r free modif anomali sigma understood context exist databas r modif violat theorem let set fd noncircular ind databas schema r r free modif anomali r free insert anomali proof if let databas r tupl compat u r tupl r relat r follow compat fug need show chase ftg i sigma theorem chase procedur chase remain show chase gamma fug ftg i g definit chase procedur follow chase sinc definit chase ftg i if r free modif anomali similar argument made part proof theorem follow sigma reduc r bcnf first case add addit tupl u r contain one origin state r second case add addit tupl u r contain zero origin state r result follow part theorem combin theorem obtain next result corollari let set fd noncircular ind databas schema r follow statement equival i r free insert anomali ii r free modif anomali iii r rfnf generalis entiti integr section justifi superkeybas ind basi caus propag insert tupl repres undefin entiti thu caus violat entiti integr problem illustr exampl given introduct next definit view chase procedur mechan enforc propag insert tupl due ind i definit generalis entiti integr let tupl ad relat r current state databas d comput chase sigma then entitybas exist least one key x r respect f x ta new valu assign result invok ind rule databas schema r satisfi generalis entiti integr respect set fd ind r databas r tupl ad relat current state comput chase sigma entitybas next theorem show satisfact generalis entiti integr equival set ind superkeybas theorem databas schema r satisfi generalis entiti integr respect set fd ind superkeybas proof superkeybas result immedi follow definit ind rule see definit hand superkeybas ind r x superkey r j respect f j let databas r relat apart r r empti relat r singl tupl definit fd rule see definit everi key say k r j respect f j least one attribut say k tupl j ad r j r j assign new avalu ind rule otherwis contrari assumpt deduc superkey r j respect f j follow r satisfi generalis entiti integr conclud proof inclus depend normal form databas schema idnf respect set fd ind bcnf respect set fd set ind noncircular keybas show databas schema idnf satisfi generalis entiti integr either free insert anomali free modif anomali redund free normal form next formal defin idnf cf mr mr definit inclus depend normal form databas schema r inclus depend normal form idnf respect set sigma fd f ind r or simpli idnf sigma understood context r bcnf respect f noncircular keybas set ind note set ind empti r idnf equival r bcnf note restrict fd f standard next result follow corollari theorem definit theorem let set fd noncircular ind databas schema r follow statement equival i r idnf ii r free insert anomali satisfi generalis entiti integr iii r free modif anomali satisfi generalis entiti integr iv r rfnf satisfi generalis entiti integr conclud remark identifi three problem may aris design databas presenc fd ind apart updat anomali redund problem may aris relat due fd consid own first problem attribut redund second problem potenti violat entiti integr propag insert third problem concern avoid complex interact may occur fd ind intract determin interact first problem formalis rfnf shown corollari databas schema rfnf respect set fd ind free insert anomali equival free modif anomali result view extens similar result consid fd own second problem formalis generalis entiti integr shown theorem databas schema satisfi generalis entiti integr respect set fd ind set ind superkeybas third problem formalis non interact implic problem fd ind shown theorem set fd ind interact set ind proper circular set fd ind reduc databas schema bcnf combin result togeth obtain theorem three equival semant characteris idnf theorem justifi idnf robust normal form elimin redund updat anomali databas schema goal normalis reduc redund seem apart r bcnf gener must restrict set ind noncircular see exampl nonetheless circular set ind aris practic exampl want express pairwis consist two relat schema r consist set ind includ two ind databas schema r pairwis consist everi pair relat schema consist bfmi note pairwis consist express set proper circular ind case need altern semant express goal normalis minim requir fd ind interact theorem long set fd ind reduc r bcnf respect f then set ind express pairwis consist f interact i sinc proper circular consid bcnf databas schema r relat schema empdnameg set ind express fact employe work depart exist depart least one employe first ind keybas second not despit fact verifi f interact moreov manag also employe could add ind deptmgr empenam i verifi exhibit appropri counterexampl still true f interact although even proper circular databas schema r seem reason design idnf research need carri determin semant normal form fd ind conclud paper propos normal form databas schema r interact free inclus depend normal form respect set sigma fd f ind r r bcnf respect f ind either keybas express pairwis consist f interact r relat databas theori depend structur data base relationship comput problem relat design normal form relat schema object relat databas scheme function desir acycl databas scheme boycecodd normal form do proceedingsin proceed intern confer larg data basesproceed inclus depend interact function depend design theori solv anomali problem graph theoret approach recent investig relat data base system extend databas relat model captur mean enforc toward sound view integr methodolog implic problem function referenti integr multivalu depend new normal form relat databas normal form relat databas oper normal form relat databas base domain key abstract queri process test contain conjunct queri function logic databas design prevent interact function theori relat databas complex infer problem subclass implic problem function compar univers instanc relat data model principl databas knowledgebas system modif anomali boycecodd normal form semant justif normal form relat databas design redudn elimin new normal form relat databas tr ctr fabien de marchi jeanmarc petit semant sampl exist databas inform armstrong databas inform system v n p may stphane lope jeanmarc petit farouk toumani discov interest inclus depend applic logic databas tune inform system v n p march junhu wang binari equal implic constraint normal form data redund inform process letter v n p januari junhu wang binari equal implic constraint normal form data redund inform process letter v n p januari laura c rivero jorg h doorn viviana e ferraggin elicit convers hidden object restrict databas schema proceed acm symposium appli comput march madrid spain millist w vincent jixu liu chengfei liu strong function depend applic normal form xml acm transact databas system tod v n p septemb marcelo arena leonid libkin informationtheoret approach normal form relat xml data journal acm jacm v n p march marcelo arena leonid libkin informationtheoret approach normal form relat xml data proceed twentysecond acm sigmodsigactsigart symposium principl databas system p june san diego california marcelo arena normal theori xml acm sigmod record v n decemb solmaz kolahi leonid libkin redund vs depend preserv normal informationtheoret studi nf proceed twentyfifth acm sigmodsigactsigart symposium principl databas system june chicago il usa mark leven georg loizou snowflak schema good data warehous design inform system v n p may