t linear hash function a consid set h linear or affin transform two vector space finit field f studi good h class hash function name consid hash set size n rang cardin n randomli chosen function h look expect size largest hash bucket h univers class hash function finit field respect measur differ field behav differentlyif finit field f n element bad set f size n expect maxim bucket size hn n perfect squar even bad set largest bucket size alway least n thi worst possibl sinc respect univers class hash function everi set size n expect largest bucket size n howev consid field two element get much better bound best previous known upper bound expect size largest bucket class o log n reduc upper bound olog n log logn note far guarante random function there averag largest bucket would thgrlog n log log nin cours proof develop tool may independ interest suppos subset vector space z consid random linear map smaller vector space r cardin larger cegrrlogr probabl egr imag cover element rang b introduct consid distribut n ball bucket randomli independ result distribut ball bucket object occup theori dep math sackler faculti exact scienc tel aviv univers tel aviv israel institut advanc studi princeton nj research support part usaisra bsf grant sloan foundat grant no nec research institut grant hermann minkowski minerva center geometri tel aviv univers email nogamathtauacil fakultat fur informatik und automatisierung technisch universitat ilmenau postfach ilmenau germani work done author aliat univers dortmund partial support dfg grant di email martindietzfelbingertheoinftuilmenaud z bric centr danish nation research foundat univers aarhu ny munkegad aarhu denmark support esprit long term research programm eu project number alcomit email bromillebricsdk part work done author univers toronto x ibm haifa research lab matam haifa israel email erezphaifavnetibmcom work done author visit univers toronto renyi institut hungarian academi scienc pf budapest h hungari partial support dimac center grant otka t t fkfp email tardoscseltehu part work done author visit univers toronto institut advanc studi princeton theori algorithm complex theori often necessari use consid put ball bucket without complet independ precis follow set studi class h hash function map univers u f xed set u hash given adversari member h h chosen uniformli random hash use h distribut multiset fhxjx sg studi class h class function u f get classic occup problem carter wegman dene class h univers s remark stricter denit often use complex theori literatur univers famili follow properti well known variat use extens variou set size n hash n bucket probabl collis occur size n hash n bucket probabl everi bucket receiv element size n hash n bucket expect size largest bucket less p n intuit behind univers hash often lose rel littl compar use complet random map note properti true strong sens even complet random expect on bucket suce the birthday paradox noth lost use univers famili instead bound second third properti howev rather coars compar one would get complet random properti complet random n log n ball would suce cover bucket good probabl the coupon collector theorem ie polynomi improv n properti complet random expect largest bucket size log n log log n ie exponenti improv p n last case seem lose quit lot compar use complet random map better bound would seem desir howev rather easi construct unnatur exampl univers famili set hash show size n necessari cover n bucket nonzero probabl bucket size gener unavoid set size n hash n bucket show abstract properti univers allow stronger statement x concret univers famili hash function ask follow question extent ner occup properti complet random map preserv provid answer question case linear map two vector space nite eld natur well known class univers in sens carter wegmen hash function gener avor result larg eld bad sens bound becom worst possibl univers famili small eld good sens bound becom good almost good one independ distribut ball precis cover problem show follow easi theorem theorem let f eld size n let h class linear map f f subset f size jf j h hand prove follow harder theorem theorem let subset vector space z choos random linear map smaller vector space r jsj c jrj log jrj probabl least imag cover entir rang r largest bucket problem let us rst introduc notat let u univers key chosen x class h function map u sg then set u size n chosen adversari uniformli random pick hash function use h look size largest result hash bucket denot expect size l n formal sujsjn usual think size close n note univers class yield class h consid set linear map f f k k f nite eld class univers valu paramet expect largest bucket larg theorem let f nite eld jf s class h linear transform furthermor jf j perfect squar h s note close lower bound quadrat eld upper bound hold everi univers class also mention bad set construct theorem quadrat eld good linear hash function sinc alway exist bucket size least p s eld eld two element situat complet dierent markowski carter wegman mcw show case l mv improv result although implicit paper show l o log improv bound show that theorem class h linear transform two vector space z furthermor also show even rang smaller jsj logarithm factor still hold theorem class h linear transform two vector space z log note even one use class r function one obtain slightli better result expect size largest bucket case l log s l log log s best possibl bound class interestingli upper bound base upper bound cover properti nontrivi lower bound l class linear map z ie might good olog s log log s leav open question motiv doubt method implement dictionari hash chain recommend textbook clr gbi especi situat mani updat oper practic import scheme situat good bound cost singl oper import e g realtim applic expect maxim bucket size form key ever present dictionari time interv play crucial role result show that least long size hash tabl determin right start use hash famili linear function z perform well respect simpl hash class bound worst case bucket size avail even fail hold see exampl section other sophist hash famili s dm dgmp guarante small maxim bucket size consist function higher evalu time cours worst case constant time certain oper absolut necessari known twolevel hash scheme use e g fk scheme fk static dictionari dynam perfect hash dkmhrt dynam case constant time lookup expect time on n updat oper realtim dictionari dm perform oper constant time high probabl note howev price paid guarante constant lookup time dynam scheme averag cost insert signicantli higher simpl scheme like chain hash overal storag requir higher well relat work anoth direct tri show specic class good bound expect size largest bucket build class specic design good properti one immedi result obtain look class h ddegre polynomi nite eld log n log log n see eg abi easi see class map element domain independ rang thu bound appli class function also appli class combin follow well known construct found in eg fk sometim call collaps univers class c size log nlog log ju contain function map u g that set size n randomli chosen map c onetoon probabl on k class consist function obtain rst appli member c member h class l n log log n size olog log ju jlog n log log n evalu time olog n log log n reason model comput say ram unit cost oper member univers hash ecient but much larger famili given siegel s dietzfelbing meyer auf der heid dm provid famili size ju j n function evalu o time ram l n log log n famili s dm somewhat complex implement class linear map requir basic bit oper as discuss alreadi cw therefor desir studi class main purpos present paper notat subset domain function h use hs denot sg x element rang use h x denot fs j xg b subset vector space v x v use notat ag use z denot eld element logarithm paper base two cover properti lower bound cover larg eld prove theorem take set f size ag densiti around one quarter see thi note x pick randomli independ f xy x y distribut linear see take nonzero linear note gs ba case gs upper bound cover small eld existenti case start show subset vector space z jaj sucient larger anoth space w exist linear transform map entir rang constant e base natur logarithm theorem let nite set vector vector space v arbitrari dimens z let integ jaj log e exist linear map onto z proof theorem need follow simpl lemma note although state lemma vector space hold nite group lemma let v nite vector space v proof v u chosen uniformli independ random v event u v a probabl independ proof theorem let dimens v start choos vector choic v exist lemma then procedur choos v note one assum vector v linearli independ sinc choos vector v linearli depend vector formerli chosen make g disjoint contradict jx choos onto linear kernel equal w w claim bound theorem asymptot tight shown follow proposit proposit everi larg enough integ set least t log t vector vector space v z linear map map let chosen random pick element v independ probabl set chebyshev inequ know probabl least cardin least pn pn use p x log e x log e one show mani claim proposit let us comput probabl exist linear map map onto z tt possibl map probabl p probabl almost small still map onto z choos linear map random subsect strengthen theorem prove bigger requir constant factor almost choic linear transform work may seem immedi rst glanc sinc lemma tell us random choic next vector good averag particular might seem random choic v v proof theorem unfortun case exampl think linear subspac contain half v case ratio point cover random vector v chosen ad a vector chosen probabl thu step remain probabl becom otherwis thu expect valu much bigger rst lemma technic natur lemma let k random variabl let constant suppos k i condit set valu threshold proof proof induct k base case trivial assum statement lemma k prove k let log logt may suppos c sinc otherwis bound lemma greater choic rest random variabl form random process length k satisfi condit lemma unless thu appli induct hypothesi get dene f interv clearli upper bound prob k j claim interv x fx f x prove simpli observ f xx rst increas decreas see comput deriv still increas phase suppos alreadi decreas phase dene x notic assum x begin proof f us dene x notic x x easi check x must still increas phase f xx thu x x simpli thu must fxx x thu prove claim case x claim trivial use claim nish proof write remark bound lemma achiev integ j k optim process theorem a everi constant c follow hold let nite set vector vector space v arbitrari dimens z let integ jaj c uniform random linear transform b subset vector space z u densiti jaj integ uniform random onto linear transform proof start prove part b theorem order pick onto map use follow process similar one proof theorem pick vector uniformli random vector z u choos random onto linear constraint v ie vector v kernel note v s necessarili linearli independ necessarili span kernel still transform inde distribut uniformli random amongst onto linear map z u use notat similar one use proof theorem let nonneg monoton decreas equat e guarante lemma sinc independ j j i thu condit lemma satis denit right hand side equal estim theorem final note as proof theorem sinc x z set disjoint size u u u u t contradict thu claim upper bound probabl a z turn part a theorem prove use part b part a random linear transform necessarili onto dierenc claim prove pose less problem diculti priori bound jajjv j fact ratio arbitrarili small solv thi choos transform two step rst step ensur densiti cover set substanti appli part b second step first pick uniformli random linear transform pick random onto linear map set result uniformli chosen linear true even xed onto random sinc valu independ uniformli distribut w thu valu e also independ uniformli distribut z pair vector v w collid due probabl probt thu expect number collis jaj jw j sinc jt aj jaj impli least jaj collis markov inequ give probjt aj jaj jaj xed part b theorem give case jt aj jaj jajjw use monoton bound get choos c jaj c impli log impli bound equat less thu get probt a remark care analysi give c small polynomi largest bucket lower bound largest bucket larg eld start show linear hash larg nite eld bad respect expect largest bucket size measur natur exampl show univers class enough assur small bucket nite eld f prove exist bad set f size expect largest bucket respect random linear big prove result theorem separ quadrat nonquadrat eld start intuit descript construct linear hash plane collaps straight line random direct thu bad set plane must contain mani point least one line mani dierent direct hard come bad set contain mani point mani dierent line howev obviou construct subplan grid yield set mani popular line tend parallel thu cover direct problem solv project transform transform set mani popular line longer parallel nonquadrat case conveni explicitli use concept project plane eld f recal project plane p f dene equival relat x ane plane f embed p onetoon map x y x line p given equat project line correspond plane f contain origin project line extens by one new point line ane plane f except ideal line given fx g project transform map ideal line anoth project line l map obtain quotient nonsingular linear map plane correspond ideal line plane correspond l project geometri use understand behavior linear hash function due follow fact easili veri pick random nontrivi linear map f f hash function partit subset f hash bucket accordingli correspond exactli pick random point p ideal line partit point accord line p on observ use explicitli proof theorem theorem let f nite eld jf j perfect squar exist set f size everi linear larg bucket ie exist valu f jh yj jf j proof nite eld f f quadrat extens let jf arbitrari element f n f dene g note also imag subplan f project transform x y fix f consid function h dene hx by must show c f jh c sj m map element need otherwis claim c f c b ac f see observ g g two distinct member f ag ag lie distinct addit coset f f sinc otherwis dierenc ag would f contradict fact f thu rang member f ag intersect distinct addit coset f f henc af intersect coset particular g f ag f impli assert claim c dene follow yx f everi x f ax b yx show h map element theorem let f nite eld exist set f size half linear map larg bucket ie exist valu f proof first construct set f js j jf n distinct line plane f contain least n point let us rst consid case n prime f consist integ modulo n ng consid squar grid a clearli js j n well known n popular line contain least n point usual prove grid euclidean plane see eg pa pp result impli grid f let subeld f p element let x f primit element everi element f uniqu express polynomi x degre k coecient f let k let polynomi f coecient f final take n b consid line l ay notic n line ay n distinct line contain point n claim unless k mod notic k mod much higher n bad case k mod appli construct instead final suppos prime k mod get set case merg two construct abov let f p element subeld f f consist integ modulo p set pg let k let x f primit element express element f uniqu polynomi x degre less k coecient f set ag polynomi f coecient f final set g let b polynomi coecient f dega k degb k consid line l fg comput valu jl ab j note point y axi bx l ab polynomi f a number polynomi f exactli exactli p k jl ab aaj thu know p popular line f contain least p point conclud exist n distinct line contain least point name line l ab choic b l ab popular line f case construct set f size js j n n distinct popular line contain least n point let p project plane contain f n n point p everi popular line cover n ith popular line n intersect earlier line thu cover least n point previous uncov therefor total least n point cover popular line simpl count give exist line l p among popular line half point l cover popular line let f project transform take ideal line l l dene one linear hash function h f f constant zero and thu singl bucket rest point x h l h collaps point f singl line go x h observ begin section furthermor linear nonzero map pick random point x h equal like thu statement theorem follow show least half point x h ideal line hold line x h intersect least n point line x h intersect least n point line fx h intersect fs least n project point thi sucient line fx h intersect least n point the come possibl fx h line fx h popular sens use abov denit f true least half point x h ideal line done upper bound largest bucket small eld let us recal prove main result conveni speak hash n log n key n valu also assum n power theorem let h class linear transform two vector space z log n log log n theorem impli theorem bound probabl event mani element set map singl element rang denot bad event e overal idea present anoth less natur event e show probabl e small yet probabl e given big thu probabl e must small remark somewhat similar line reason use semin paper vapnik chervonenki vc proof x domain rang the bucket size let us choos arbitrari log n consid space construct linear intermedi rang follow way choos uniformli random linear transform uniformli random onto linear transform note mention proof part a theorem yield h uniformli chosen among linear transform b let us x threshold t dene two event e exist bucket size least t exist element b t go limit probabl e seemingli unrel event exist element b consid distribut space h h uniformli chosen abov shall show proposit log log log proposit c n log n with c theorem a proposit deduc probabl e must small corollari constant c r everi power two n follow hold subset size log n vector space z hash random linear transform z log n probmaximum bucket size rc log n log log n r log r logr log r log logr log r proof given r let l blog nlog log nlog r log log r c let log log n let log n log nlog log nlog r log log r n log n r log r l n log nlog log nlog r log log r log nr log r c l n log l n c log nr log r log log n log r log nr log r log log n log r log log n condit proposit satis and combin conclus get log log log event e event biggest bucket bigger log log n sinc r log r statement corollari follow put let us prove proposit abov proof proposit note rst altern way describ e prove proposit hold specic h thu also hold randomli chosen h x h consid distribut h chosen uniformli amongst full rank linear transform b use part b theorem set n h s a densiti clearli d thu theorem give log log nlog log log log log claim proof proposit fix h e hold x full rank h show probabl event e least even two xed thu condit probabl also least sinc e hold subset cardin least map h singl element z log n fix dene consid distribut h satisfi restrict h get distribut impli h uniform choic ane linear map we show proposit below event e hold enough h s show h s cover point probabl least thu get event e happen probabl sinc h onto ja hand s cardin least a theorem probabl set cardin map random linear transform cover rang cardin n least note theorem part a clearli appli random ane transform too point proven corollari limit probabl larg bucket linear hash straightforward deduc theorem corollari proof theorem l n log n expect distribut largest bucket size corollari limit probabl tail distribut thu yield desir bound expect constant c corollari set log log n k z k kzr log r logr log r log logr log r dr log log nin order paper selfcontain includ proof simpl statement random linear transform use abov proposit let d b vector space z let h arbitrari linear map let arbitrari onto linear map let point b denot choos uniform linear map restrict domain get uniformli chosen linear map uniformli chosen ane map otherwis proof consid let us choos complement space us call x uniqu vector linear transform determin two restrict a clearli uniform random choic h correspond uniform independ choic h h restrict mean h d restrict h thu restrict random choic h h still independ note restrict h question exactli note restrict question h time translat random valu h x remark open question discuss case small eld size larg eld size n happen intermedi size eld immedi rough gener bound follow hash advers chosen subset f size randomli chosen linear map expect size largest bucket olog n log log n log jf j least bound possibl anoth question properti well known hash famili have exampl famili mind includ arithmet z p cw fk with h ab b mod p mod n integ multipl dhkp ahnr with h boolean convolut mnt with h project subspac exampl natur nonlinear scheme assert theorem fail scheme map integ p larg prime p integ n map x z p ax two randomli chosen element z p scheme prime p choic n subset cardin log n log log log n z p map map onto n choic b see thi let p prime satisfi p mod consid set quadrat residu modulo p note everi nonzero element z p set mod p either set quadrat residu set quadrat nonresidu modulo p main result graham ringros gr assert innit mani prime p smallest quadrat nonresidu modulo p least ast p log log log p thi result hold prime p well follow remark end gr sinc prime p quadrat nonresidu follow choic a b z p set comput z p avoid interv length least ast p log log log p choos log log log p appropri small constant c dene log n log log log n map onto n choic b nal question whether exist class h size olog log ju jlog n l n olog n log log n note linear map z even combin collaps univers use olog log bit simpl scheme use higher degre polynomi use olog log log log n acknowledg thank sanjeev arora help remark r fast simpl random parallel algorithm maxim independ set problem sort linear time univers class hash function introduct algorithm reliabl random algorithm closestpair problem polynomi hash function reliabl handbook algorithm data structur lower bound least quadrat nonresidu analysi univers class hash function random determinist simul pram parallel machin restrict granular parallel memori comput complex univers hash combinatori geometri univers class fast high perform hash function uniform converg rel frequenc event probabl tr store spars tabl italicital worst case access time random determinist simul pram parallel machin restrict granular parallel memori fast simpl random parallel algorithm maxim independ set problem introduct algorithm comput complex univers hash dynam perfect hash sort linear time reliabl random algorithm closestpair problem polynomi hash function reliabl extend abstract ctr dahlia malkhi moni naor david ratajczak viceroy scalabl dynam emul butterfli proceed twentyfirst annual symposium principl distribut comput juli monterey california beat bollig stephan waack philipp woelfel pariti graphdriven readonc branch program exponenti lower bound integ multipl theoret comput scienc v n p octob beat bollig philipp woelfel readonc branch program lower bound n integ multipl use univers hash proceed thirtythird annual acm symposium theori comput p juli hersonisso greec