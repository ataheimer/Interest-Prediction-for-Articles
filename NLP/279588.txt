t algorithm variabl length subnet address assign a abstractin comput network consist subnetwork lbit address machin consist two part prefix si contain address subnetwork machin belong suffix of length l si contain address particular machin within subnetwork fixedlength subnetwork address si independ i wherea variablelength subnetwork address si vari one subnetwork anoth avoid ambigu decod address requir si prefix anoth sj practic problem find suitabl set si order maxim total number address machin ith subnetwork contain ni machin ni machin subnetwork need address solut n_i ls_i ls_i machin subnetwork address none address solut assign address si subnetwork abstract problem impli formul is given integ l given not necessarili distinct posit integ n_ cdot n_m find binari string s_ cdot s_m some may empti nonempti string si prefix anoth string sj si l bit long quantiti sum nolimit _s_kne min left n_k ls_k right maxim gener algorithm case ni also prioriti pi associ addit constraint involv prioriti subnetwork import other treat preferenti assign address algorithm use solv case l variabl is input longer specifi l but rather give target integ number address machin goal find smallest l whose correspond optim solut result least address machin b introduct introduct discuss connect comput network abstract problem algorithm subsequ given also introduc terminolog comput network consist subnetwork lbit address machin consist two part prefix contain address subnetwork machin belong suffix contain address particular machin within subnetwork case variou subnetwork contain roughli number machin fix partit l bit tbit prefix me l gamma tbit suffix work well practic subnetwork contain lgammat address machin contain more lgammat address remain one unsatisfi sens address if fix length partit scheme machin unsatisfi way satisfi increas valu l howev fix length scheme wast subnetwork consist or eventu consist of differ number machin say machin ith subnetwork case fix scheme leav mani machin unsatisfi for particular valu l even though variabl length partit scheme describ next could satisfi without increas l variabl partit scheme length prefix contain subnetwork address vari one subnetwork anoth word let prefix address ith subnetwork js j howev avoid ambigu or store transmit js j requir prefix anoth j variabl length subnetwork address easili shown satisfi larger total number address machin fix length scheme exampl fix length subnetwork address cannot satisfi address can furthermor also interest case even variabl length address cannot satisfi n machin case want use l bit avail effect possibl ie order satisfi mani machin possibl cours optim solut might leav unsatisfi machin of say ith subnetwork translat empti string ie js solut therefor consist determin binari string maxim sum solut complet satisfi ith subnetwork satisfi machin subnetwork ie js machin ith subnetwork satisfi say ith network complet unsatisfi solut satisfi machin ith subnetwork subnetwork partial satisfi happen case lgammaj j machin subnetwork satisfi optim solut leav subnetwork complet satisfi other complet unsatisfi other partial satisfi priorit version problem model situat subnetwork import other use follow prioriti polici prioriti polici the number satisfi machin subnetwork lowerprior subnetwork exist next section prove use properti subset optim solut assum unpriorit case leav priorit case end paper proceed technic detail approach stress provid enough background motiv make paper selfcontain reader interest background provid find refer specif standard subnet address relat topic gener discuss hierarch address benefit larg network variou lookup solut method eg digit tree see final follow assum reader familiar basic techniqu terminolog text algorithm data structur literatur refer reader to exampl refer preliminari follow definit observ use later on assum without loss gener sinc case n admit trivial solut l machin satisfi subnetwork assum logarithm base lemma let solut not necessarili optim exist solut satisfi number machin s use set subnetwork address s complet unsatisfi subnetwork if ani k lowest k word js proof among solut satisfi number machin s consid one smallest number offend pair defin pair complet unsatisfi j complet unsatisfi claim number pair zero otherwis interchang role subnetwork j solut decreas total number satisfi machin contradict sinc result solut least one fewer offend pair hand necessarili exist equal valu say complet satisfi subnetwork k highest n valu if optim solut seek go select subnetwork decreas n valu initi encount mixtur complet satisfi partial satisfi subnetwork get complet unsatisfi one by lemma remain one complet unsatisfi lemma let solut not necessarili optim exist solut satisfi mani machin s use set subnetwork address s js proof among solut satisfi number machin s consid one smallest number offend pair defin pair i j js claim number pair zero otherwis interchang role subnetwork j solut decreas total number satisfi machin contradict sinc result solut least one fewer offend pair let full binari tree height l ie l leav node solut s one map nonempti node obviou way node v correspond subnetwork obtain start root go dictat bit string where mean go left child mean go right child note depth v it distanc root js j v ancestor anoth v j becaus requir nonempti prefix anoth j node w use parentw denot parent w use lw denot number leav subtre w henc solut complet satisfi subnetwork iff case extend terminolog say node v complet satisfi s rather accur the subnetwork correspond node v complet satisfi s solut satisfi lemma solut depth v impli v smaller preorder number v j which equival say lexicograph smaller obtain sequenc interchang variou subtre follow initi copi repeat follow perform interchang subtre root node v subtre root leftmost node depth simpli new posit occupi interchang delet subtre root v perform interchang done give new v s desir propertyth interchang oper use prove lemma actual perform algorithm use proof lemma lemma let solut not necessarili optim satisfi properti lemma exist solut satisfi mani machin s also satisfi properti lemma v root lparentv nonempti s subset nonempti s s proof among solut satisfi number machin s let one maxim integ v lemma properti ie claim alreadi satisfi lemma suppos contrari k ie lparentv i cannot complet satisfi sinc would impli lv i henc v i partial satisfi ie lv z parent v i sibl v i must right v i sinc otherwis v v lparentv contradict definit i also note fact lz n i impli n ie number unsatisfi machin subnetwork promot v i move parent one level tree thu i replac old i new shorter one obtain drop rightmost bit old i ii delet j new i prefix note that j remov correspond v j subtre y henc remov j s result ly machin becom unsatisfi compens ly machin subnetwork becom newli satisfi result v i s promot impli new solut valu less howev v j delet subtre caus longer satisfi properti lemma surviv v right z n n j next describ modifi satisfi lemma rest proof refer solut start with v i move one level refer solut v i move let v denot set delet v j s who ys subtre origin right z henc need repair restor properti lemma if repair need done follow simultan element sequenc v follow tree place element consid say v j place previous in origin occupi v jl if v j cannot place new solut leav complet unsatisfi modifi satisfi number machin origin one still satisfi lemma move v i one level tree repeat v i high enough contradict definit integ i henc must case lemma exist optim solut satisfi properti lemma everi subnetwork length equal either proof let optim solut satisfi lemma first claim everi satisfi js suppos contrari that s length less move v current posit say node descend whose depth equal e would leav subnetwork complet satisfi without affect subnetwork repeat give solut everi length cours move v say ys left subtre leav hole ys right subtre sens right subtre unulitil new solut result might mani unutil subtre easi move right lie right util subtre the detail easi omit henc assum js note introduc violat properti lemma complet proof must show js impli take logarithm side give complet proof observ made far enough easili solv om log m time follow easier version problem either complet satisfi subnetwork report possibl so clearli suffic find v subnetwork sinc v s uniqu determin s done om log m time follow greedi algorithm oper portion v s sort n s decreas order say n log m the log factor goe away n s sort linear time eg integ smaller o n comput depth v repeat follow leftmost node depth none v node exist stop output no solut exist time om implement step construct simultan ousli preorder travers relev portion call start root stop first preorder node depth label v consid leaf resum preorder travers reach anoth node depth label v consid anoth leaf etc note end leav v s left right order theorem algorithm greedi solv problem find assign address complet satisfi subnetwork assign exist time complex om given sort order om log m sort n s proof time complex argu exposit algorithm correct algorithm follow immedi lemma theorem assign complet satisfi subnetwork exist proof observ algorithm greedi succe satisfi subnetwork inequ satisfi corollari whether assign complet satisfi subnetwork determin om time even n s given sort order proof righthand side inequ previou theorem comput om time would greedi algorithm solv problem satisfi largest number machin cannot satisfi them is cannot assign v node in step instead say no solut exist accur claim solut produc far optim answer no seen simpl exampl exampl greedi algorithm satisfi machin wherea possibl satisfi machin howev follow hold observ solut return greedi algorithm satisfi number machin less half number satisfi optim solut number subnetwork complet satisfi greedi observ sinc would put v greater depth current posit therefor optim solut could compar greedi satisfi addit machin less number satisfi greedyhowev need resort approxim optim solut sinc next section give algorithm find optim solut algorithm unpriorit case assum throughout section greedi algorithm describ earlier fail satisfi machin goal satisfi mani machin possibl call level node whose depth distanc root number node level follow kth leftmost node level lemma say v either depth limit number choic place v choic depth choic depth everi maximum number machin subnetwork satisfi use portion preorder number preorder number d j subject constraint v place node d defin analog d play role play definit ci j ci js c i js play import role algorithm clearli quantiti could easili obtain number machin satisfi optim solut simpli choos maximum among them anoth notion use algorithm predecessor node v integ greater vs depth node level immedi left ancestor v level if node exist v predecessor word w ancestor v level possibl predecessor v rightmost node left w level algorithm implicitli make use fact predecessor given node v obtain constant time v repres pair a b vs depth b lefttoright rank b depth ie v bth leftmost node depth a predecessor a b c follow algorithm preliminari later modifi better algorithm input algorithm l n s output placement v s recal equival comput s s easili obtain v s in fact obtain v constant time point later assum preprocess step alreadi comput s use pred v pred a b interchang denot predecessor node v a b convent pred a b gamma gamma undefin ie a b predecessor turn follow a convent node give ci b valu maxim is fi b predd predd b convent node give c i b valu maxim is f predd predd find largest b ci bs c i bs comput previou step suppos ck b respect c k b ck b respect c k b maximum possibl number machin satisfi optim solut v gener set assign correspond optim solut rather valu use f f function obtain previou step start node d respect trace back there output node optim solut go along in order v k v detail trace back follow a k largest ci bs c i bs comput previou step repeat follow b output v equal either fi fi in case f i fi in case note output string correspond v node rather d describ v modifi step b follow v a b binari string consist rightmost digit binari represent integ breadthfirst number node a b empti string correspond root sinc impli comput pair a b constant time correct algorithm preliminari follow lemma time complex preliminari unsatisfactori depend size well make worst case take om l time howev follow simpl modif result om step a respect b replac for for iter bound b remain unchang a b argu correct modifi algorithm observ time complex om sinc iter distinct note relev ci bs need explicitli initi implicitli assum zero initi work particular order step comput them correct follow claim to prove next optim solut that node level a use leftmost node level let optim solut smallest possibl number call t violat claim ie smallest number node a b b gamma v a b prove contradict suppos let smallest depth claim violat let a b node level violat claim place a b optim solut s sinc node right v level a valu would sure decreas modifi reposit v subtre rightmost node level without chang depth modif howev would decreas t contradict definit s henc must zero claim hold follow summar result section theorem unpriorit case solv om time algorithm priorit case let prioriti prioriti subnetwork k rest section assum l larg enough complet satisfi subnetwork becaus case l larg enough prioriti play role theorem use greedi or altern corollari binari search largest call i subnetwork k complet satisfi comparison binari search correspond call greedi or altern corollari cours ignor prioriti subnetwork k take total time om log m even though may use greedi logarithm number time sort decreas n j s onc make subsequ execut greedi cost om time rather om log let solut return greedi subnetwork complet satisfi definit i imposs complet satisfi subnetwork task modifi satisfi mani machin subnetwork k possibl without violat prioriti polici henc keep subnetwork complet satisfi done follow set depth k dlog n k e use greedi log log n k j time binari search smallest depth call d v k j place without result infeas as test greedi i place subnetwork k previous fix depth ii place k j depth there log n k j possibl valu d impli log log n k j iter binari search exist ie placement k j prevent requir placement proceed step binari search find fix depth v j it stay futur iter set solut describ current depth k fix depth use preorder travers part of posit v k algorithm respect prioriti polici follow way fix depth subnetwork lower prioriti interfer becaus consid later iter time complex easili seen om log l sinc n k follow summar result section theorem priorit case solv om log l time remark l variabl is consid situat instead specifi l input specifi target integ fl number address machin goal find smallest l capabl satisfi least fl machin algorithm gave earlier and assum fix l use subroutin forward binari search optim ie smallest valu l call l satisfi least fl machin use log time forward binari search l look like extra multipl log l variabl seek minim oppos version problem fix l ahead time howev theorem impli log import case seek smallest l satisfi machin version problem solv fast one l fix seek check whether complet satisfi subnetwork acknowledg author grate three anonym refere help comment earlier version paper r combinatori algorithm word introduct algorithm algorithm class subnet experi parallel search techniqu rout tabl lookup class subnet experi result recommend fast rout tabl lookup use cam internet standard subnet procedur broadcast internet datagram presenc subnet internet subnet variabl length subnet tabl ipv on assign subnet number tr