t implement tempor integr constraint use activ dbm a abstractth paper propos gener architectur implement tempor integr constraint compil set activ dbm rule modular design allow easi adapt differ environ differ specif languag target rule system easili accommod advantag architectur demonstr particular tempor constraint compil compil allow automat translat integr constraint formul past tempor logic rule activ dbm in current version compil two activ dbm support starburst ingr compil set constraint check safe evalu properti result set sql statement includ necessari rule need enforc origin constraint rule optim reduc space overhead introduc integr check mechan need addit runtim constraint monitor rule activ updat databas violat constraint automat reject ie correspond transact abort addit straightforward implement approach offer clean separ applic program integr check code b introduct inc introduct databas notion data consist integr constraint play import role databas applic design process integr constraint usual divid two categori static refer static snapshot databas tempor refer sequenc snap shot order time tempor constraint allow impos restrict transact databas like salari employe cannot decreas onc student drop out readmit propos gener architectur tempor integr constraint compil base compil tempor specif ie set tempor constraint set first order logic fol definit fol serv conveni intermedi languag fol definit convert set activ rule enforc specifi constraint without need addit runtim constraint monitor arrang allow easi modif system incorpor differ queryconstraint languag uniform way addit show architectur accommod number differ optim techniqu im manuscript receiv oct j chomicki d toman current depart comput inform scienc kansa state univers man hattan ks email fchomickidavidgcisksuedu ieeec log number k plement instanti gener architectur fix constraint languag past tempor logic pasttl current implement produc code starburst ingr activ dbm implement allow user specifi constraint declar instead embed integr check applic program advantag declar specif clear design concentr constraint enforc instead enforc them lead also much compact understand applic program moreov applic program integr constraint specif form independ modul allow build modular applic one or more modul specifi integr constraint pursu approach taken propos languag specifi tempor integr constraint pasttl formula truth formula state n depend finit histori tempor databas ie past time n approach detect violat constraint name situat constraint true state n gamma true state n also develop spaceoptim techniqu propos architectur optim introduc two differ level first optim deal specif languag pasttl second intermedi languag fol perform optim need keep mind ffl deal tempor constraint mean optim need explicitli handl progress time ffl final goal compil produc set activ rule particular mean formula convert appropri dml eg sql optim techniqu preserv convert chosen languag cf section v vi far work integr constraint mainli focus effici detect constraint violat gener integr constraint includ difficult enforc effici thu generalpurpos integr enforc subsystem current present experiment databas system commerci dbmss usual enforc simplest constraint eg constraint primari foreign key static constraint studi mani paper eg usual formul fol deal tempor constraint choic tempor logic seem natur solut implement ieee transact knowledg tempor constraint ralgsql rule gener transform algebra order inform folsql magic set transform rule activ fig structur system restrict languag past fragment tempor logic tempor logic tempor oper refer sole past constraint check done use spaceeffici encod databas histori util activ rule import advantag compar method integr enforc need standalon tempor integr mon itor use separ monitor would improv effici would evalu essenti set queri databas rule do howev would duplic transit datastructur maintain alreadi activ dbm sever recent propos gener constraint manag subsystem especi first paper develop sqlbase constraint specif languag show sever techniqu convert specif trigger starburst sy tem system allow fulli automat translat logic formula starburst rule also static constraint cover approach second approach closer work tempor logic chosen constraint specif languag compar languag futur fragment approach quantifi logic formula restrict pattern also check formula safe evalu properti sole user respons wherea method accept arbitrari pasttl formula long safe convert relat alg bra unsaf formula reject system anoth approach found tempor languag chosen approach use nonstandard freez quantifi instead firstord one express power constraint languag depend underli queri languag detail comparison approach relat work see paper organ follow section ii describ overal structur system section iii introduc syntax semant specif languag section iv transform constraint rule languag activ dbm shown gener schema gener activ rule instanti use starburst ingr activ dbm suitabl respect rule languag briefli discuss compil use fol sql translat describ section v one step use modif approach section vi develop spacesav optim minim overhead connect constraint enforc mechan paper conclud discuss possibl futur extens system ii system architectur gener architectur consist follow basic build block ffl tempor constraint languag fol compil ffl fol dml compil ffl rule gener system extend architectur provid number optim modul overal structur system shown figur ffl first step algebra transform origin formula perform unless addit inform suppli conserv transform perform ffl tlfol modul convert pasttl formula set fol formula also produc inform need translat fol formula activ rule partial order inform ffl variant magic set transform appli fol formula produc tlfol pass transform may also modifi order inform ie incompar element may becom compar ffl folsql modul respons convert fol relat algebra sql consist two submodul folralg convert fol formula relat algebra normal form ranf express express combin magic condit produc magic set transform also convert relat algebra normal form use modifi folralg algorithm cf algorithm output chomicki toman implement tempor integr constraint use activ dbm two modul put back togeth end ralgsql modul gener final sql statement ffl rule gener modul combin inform provid tlfol modul sql statement produc folsql modul creat activ rule arrang allow easi modif futur easili adopt differ rule system by chang rule generatorthi featur demonstr implement support two conceptu differ rule system differ dml by chang ralgsql subsystem possibl rule gener differ specif languag also introduct addit optim techniqu easili embed current system fol serv conveni intermedi languag iii specif languag section give brief overview syntax semant pasttl languag use system standard notat tempor formula use here full descript tempor logic see pasttl languag defin smallest set formula built use follow rule atom relat r databas constant variabl xaey ae f g x variabl constant b b a xa sinc b a b pasttl formula semant truth valu close formula defin respect underli histori databas state databas time i follow xa interpret standard fol formula appropri state true true igamma sinc b true b true k true j constraint specifi close formula pasttl must satisfi everi state histori databas follow text use follow standard ab breviat xa xa true sinc a a exampl use pasttl constraint salari employe cannot decreas express constraint onc student drop out readmit truth pasttl constraint determin respect histori databas constraint c true current moment now element x x relat admit ie current state databas also x relat dropout past ie past state databas constraint specif consist definit databas schema includ type attribut follow list constraint constraint specifi identifi name follow close pasttl formula iv tempor inform manag first show convert given pasttl formula singl fol formula set induct defin auxiliari atom these definit later convert auxiliari relat activ rule section vi introduc optim techniqu help cut space overhead introduc tlfol pass compil a pasttl fol naiv approach check past tempor constraint evalu formula respect whole histori practic accept everi past state databas would store avoid problem provid spaceeffici encod histori use number auxiliari atom implement materi view obtain atom definit convert everi pasttl formula set fol formula definit tlfol let f formula pasttl tempor subformula ff replac auxiliari atom r ff introduct atom result creat auxiliari relat r ff target code ariti r ff equal number free variabl ff type attribut type correspond variabl ff auxiliari atom r ff tempor subformula ff defin follow tabl ff auxiliari atom definit ff fals sinc b r ff fals superscript denot appropri tempor state databas formula evalu in remain formula ie substitut made defin toplevel fol translat origin pasttl constraint superscript n symbol refer databas state specif number note alway last two consecut state referenc frameworkth definit induct length databas histori evalu increment transit new state simpli comput new interpret auxiliari atom current in terpret rest paper use r ff denot formula defin new interpret auxiliari atom r ff gener auxiliari atom order follow partial order definit order r ff oe r fi ff subformula fi toplevel constraint alway top element order exampl use approach constraint employe hire left express pasttl convert follow get one toplevel fol formula per pasttl constraint one induct definit auxiliari atom per tempor subformula origin formula exampl two tempor subfor mula both one free variabl first order translat look follow name fo translat r ff oe c note auxiliari atom definit refer state n n gamma toplevel constraint c refer state n allow us check toplevel constraint everi state particular initi th state databas auxiliari atom fals ie correspond auxiliari relat empti definit end transform obtain one fol formula repres toplevel constraint sever formula defin induct truth valu auxiliari atom r ff gener origin pasttl formula order oe evalu ie remateri auxiliari relat r ff toplevel constraint inform use activ rule gener next phase compil process b mainten auxiliari relat convers tempor constraint fol gener set auxiliari atom definit auxiliari atom repres auxiliari relat result code content auxiliari relat kept date agreement definit achiev automat use activ dbm rule system specifi constraint sql statement repres toplevel constraint list sql statement defin next state auxiliari relat all suppli one one folsql modul subformula order oe defin abov use input rule gener rule gener compos piec set activ dbm rule ideal case syntax use rule shown figur case simpli creat rule sql statement follow translat fol formula sql includ option optim step constraint c creat rule follow toplevel constraint c one rule constraint it translat toplevel fol formula creat tlfol phase creat rule c commit rollback work rule trigger transact attempt commit ie actual commit necessari case tempor constraint even null transact possibl violat constraint note cannot happen static constraint use exampl consid constraint xpx px constraint violat arbitrari element x relat p two consecut state clearli p empti null transact violat constraint auxiliari atom let r ff formula defin r n ff auxiliari atom r ff the whole definit r ff r ff fals r n creat auxiliari relat ie tabl atom r ff creat tabl r ff listofattribut statement also defin th stateth tabl empti correspond r ff fals proper transit next state r ff achiev automat follow rule here use second part induct definit r ff name r n creat rule r ff commit updat r ff r ff preced c fr fi jr ff oe r fi g rule also trigger transact tri com mit execut rule updat auxiliari relat r ff guarante consist auxiliari tabl proper order trigger rule defin subformula order oe reflect preced claus rule bodi rule correspond subformula process prior s rule evalu sql statement need access tabl referenc atom may refer ngammast state databas previou state databas ie old content rela tion store databasethi would requir maintain two copi almost data instead transit tabl use restor previou state databas note transit inform for relat r maintain dbm anyway order allow abort transact access inform provid system maintain transit tabl insertedr deletedr oldupdatedr newupdatedr state n gamma relat r restor chomicki toman implement tempor integr constraint use activ dbm creat rule rulenam when if sql predic sql action preced rulenam follow rulenam fig ideal rule syntax commit rule system check guard rule when guard true evalu condit if condit satisfi execut action specifi then claus evalu order rule control preced follow claus part rule mandatori moreov tabl specifi claus system provid appropri transit tabl insert delet oldupd newupd r exampl finish exampl system gener follow code rule toplevel constraint creat rule c commit xr ff rollback work two rule maintain auxiliari tabl r ff r ff creat rule ff commit updat r ff preced c creat rule ff commit updat r ff emp preced c problem sql actual dml rule languag usual allow express rule need enforc constraint di rectli implementor rule gener face two main obstacl ffl problem data manipul languag ffl problem rule system use overhead introduc restrict dml rule system languag summar figur c view remateri new state auxiliari relat r ff comput sql equival fol formula r ff need replac whole content tabl repres r ff where r ff may referenc r ff done analysi view materi notic next state auxiliari relat r ff defin one follow formula first case solv follow sql code delet r ff insert r ff appli idea second case need reformul assign statement equival sql insert delet oper follow delet r ff x r insert r x list attribut r ff easi see two oper equival origin assign ment disadvantag solut compil right side assign singl formula must produc two separ sql statement exampl continu exampl updat oper auxiliari tabl r ff r ff replac insert r ff delet r ff insert r ff respect note first updat simplifi by remov delet oper due structur definit gener subformula root connect c restrict rule languag syntax semant activ rule system vari greatli among activ dbm implement current support two major approach rule system setori rule system repres system starburst activ dbm rule languag starburst close ideal rule syntax cf figur howev restrict rule syntax make direct applic rule templat previou section possibl especi ffl refer transit tabl allow insid rule bodi transit inform tabl associ particular rule avail ffl rule connect exactli one tabl mean rule trigger associ tabl access moreov trigger defin term net effect transact tablecommit may abl trigger rule even associ tabl access ie updat empti net outcom slightli compromis claim constraint ieee transact knowledg number starburst ingr rule ct ctb ctb auxiliari tabl tb tb virtual view u databas procedur ctb cnumber constraint tnumber tempor connect bnumber base tabl unumb embed disjunct fig size code gener variou system enforc mechan independ appli cation safe side applic updat auxiliari commit tabl introduc purpos actual commit avoid allow rule trigger attempt commit thu rule must associ commit tabl constraint violat null transact safe associ rule individu tabl workaround problem follow tabl includ auxiliari tabl r ff use two addit auxiliari transit tabl add sub hold tupl insert delet tabl respect creat tabl add listofattribut creat tabl sub listofattribut view old allow access previou state tabl rule follow creat view old select minu select add union select sub also need add rule keep inform date constraint check phase use one rule extract transit inform two rule need cleanup auxiliari tabl constraint check finish evalu rule synchron remain rule use preced follow claus creat rule old inserteddeletedupd insert sub select delet union distinct select oldupd insert add select insert union distinct select newupd preced list rule use old t creat rule del add add insert delet add follow c creat rule del sub sub insert delet sub follow c rule tabl use mere extract transit inform end transactiondur execut transact transit inform manag dbm and fix simpl chang syntax rule languag note also tabl add sub clear end constraint check phase thu alway empti transact ultim commit allow store temporari storag may improv effici system constraint vi olat whole transact abort transit tabl empti system automat exampl constraint exampl similarli ideal case one rule creat enforc toplevel constraint creat rule c commit insert xr ff rollback work two rule creat maintain auxiliari relat note rule connect addit auxiliari tabl commit need case null transact see exampl creat rule ff commit insert insert r ff preced c creat rule ff commit insert delet r ff insert r ff preced addit system gener rule maintain content auxiliari transit tabl tupleori rule system case tupleori system like ingr access previou state databas relat provid use transit inform similarli starburst case howev transit inform maintain addit rule auxiliari transit tabl also starburst capabl order individu rule compil explicit sequenc ingr statement code produc rule gener look follow everi tabl both databas auxiliari rela tion pair addit auxiliari transit tabl look similar add sub tabl introduc case starburst rule howev starburst case tabl use overcom syntact restrict rule system transit inform maintain dbm itself case ingr tabl essenti mimick starburst intern capabl chomicki toman implement tempor integr constraint use activ dbm store transit inform need creat tabl add attribut creat tabl sub attribut content tabl maintain use ingr rule trigger insert delet updat oper tabl rule maintain content transit relat durat whole transact effect duplic transit inform manag dbm case abort transact howev assum small chang base relat everi transact size duplic inform signific when compar size whole databas ingr rule languag rule connect singl databas procedur rule come pair correspond databas procedur creat procedur tinsert attribut insert add valu attribut creat procedur tdelet attribut insert sub valu attribut creat rule tin insert execut procedur tinsert newattrib creat rule tdel delet execut procedur tdelet oldattrib creat rule tupdatein updat execut procedur tinsert newattrib creat rule tupdatedel updat execut procedur tdelet oldattrib end constraint check transit tabl clean use follow rule creat procedur delet add delet sub creat rule tdoclean delet commit execut procedur tcleanup actual code produc translat tempor constraint ie definit auxiliari relat togeth toplevel constraint use bodi singl main rule so avoid need synchron rule creat procedur c declar n integ begin updat r ff n updat r ff select true exist creat rule c go insert commit execut procedur c main r ff n oe c thu updat oper execut bodi rule correct order rule gener constraint synchron cleanup rule use follow master procedur use addit auxiliari tabl commit creat tabl commit i integ creat procedur docommit begin insert commit valu delet commit commit els rollback applic use execut docommit statement place commit statement exampl constraint exampl produc follow ingr procedurerul pair creat procedur c declar n integ begin delet r ff insert r ff insert r ff select true exist creat rule c go insert commit execut procedur c main again code come rule maintain content auxiliari transit tabl note separ rule individu auxiliari relat gener tempor subformula origin constraint v compil fol formula next issu need address compil fol formula specifi toplevel constraint auxiliari relat relat algebra eventu sql done two step first formula convert relat algebra normal form sql convers fol formula relat algebra base idea present definit care convert function take advantag structur formula work on reduc number pass need travers input formula two lead effici bottomup execut convers relat algebra sql usual paid attent all seem easi task turn straightforward variou restrict sql languag mani fig bottomup comput gen con properti workaround invent get system run ning present version produc standard sql ie accept commerci dbmss starburst variant system take advantag extens sql present system sql standard contain extens unfortun avail dbm like ingr not a first order logic relat algebra normal form whole convers consist two phase first fol formula check safe evalu properti join anomali detect simultan simplifi normal form enf formula pass phase guarante equival safe reformul relat algebra second step simplifi formula convert relat algebra normal form ranf step remov join anomali a join anomali detect set variabl fg set distinct tag g stand gen c con f gen con use terminolog l set fi nite disjunct of atom base relat defin set theta l annot free variabl fol formula follow induct definit oper t u set annot free variabl defin figur use follow notat rest paper underscor abbrevi fresh existenti quantifi variabl eg z abbrevi decis given formula f evalu ie safe convert formula equival relat algebra express base fv set follow definit fol formula f call evalu f subformula xa f call allow second condit replac x f evalu properti key distinguish formula safe convert see detail discuss convers formula meet criterion may lead join anomali unsaf reformul origin formula formula must reject specif languag tempor constraint pasttl evalu properti extend pasttl formula follow definit pasttl formula evalu fol translat evalu ie toplevel constraint evalu definit auxiliari view evalu well a convers allow simplifi formula step done simultan detect evalu properti travers term repres given formula construct set fv togeth equival simplifi formula defin follow definit formula f simplifi conjunct polyad represent disjunct polyad represent connect may occur root formula insid conjunct disjunct insid negat conjunct neg formula insid negat form xa b subformula form xa b meet requir definit convert conjunct disjunct given formula finit nest binari connect replac singl polyad connect oper list argument chomicki toman implement tempor integr constraint use activ dbm follow polyad represent gamma note separ posit neg conjunct requir definit help enforc requir definit especi deal negat use follow algorithm travers input formula determin satisfi evalu properti and reject formula not simultan build equival simplifi formula start atom use rule creat complex formula we use constructor fol connect constructor design preserv simplifi properti algorithm let f fol formula casesf atom a ffl b atraverseatraverseb b otraverseatraverseb xa extraversea constructor n a defin figur definit constructor e complex definit let simplifi formula build simplifi formula correspond xa first check form a case perform follow transform oex otherwis distinguish follow case depend variabl bound quantifi x free drop quantifi evalu reject it x c g fv a evalu perform transform obtain equival allow for mula transform describ defin follow xa gamma g third compon x c g element fv athi finit disjunct atom denot sequenc existenti quantifi bind free variabl g x r agfals all atom occur g replac fals a note right side transform g r built use n a o e function order preserv simplifi properti follow section use follow notat list ffl empti list ab concaten list identifi singl element one element list x allow simpli add quantifi remov x fv a accord rule build fv fv set note besid transform formula simplifi formula also comput fv fv set annot variabl figur done simultan simplif process rule comput fv fv set match exactli structur formula fv set use detect evalu properti see definit lemma algorithm convert input formula equival simplifi x subformula xa f or reject formula evalu induct structur input for mula constructor n a o e preserv simplifi properti formula construct formula also simplifi algorithm togeth definit give recip convers fol formula simplifi formula order convert simplifi formula relat algebra need perform one transform definit formula f allgen properti we f properti easi check moreov theorem let f simplifi formula built atom use n a o e constructor f allgen properti f allow easi see condit definit satisfi moreov variabl bound satisfi requir second part definit quantifi construct use e use transform abl separ evalu formula ie formula abl eventu convert sql nonevalu formula convert allow formula rule build simplifi formula guarante free variabl obtain formula rang restrict a convers ranf convert formula relat algebra need one convers proper evalu formula need propag allgen properti definit subformula formula follow rememb evalu relat algebra bottomup definit subformula call gener form b simplifi allow formula ranf gener subformula allgen properti lemma let f allow simplifi formula convert equival formula f ranf induct rule appli f recurs accord toplevel connect atom ranf definit ffl l n a fig rule bottomup construct simplifi formula tabl defin rewrit rule allow construct complex simplifi formula first line column defin pattern ie left side rule bodi tabl defin result rewrit see algorithm xa definit e constructor variabl free fv a also free fv xa thu allgena hold assumpt l let allgenl hold let x free l assum l l x definit fv set formula contradict thu allgenl impli know allgenp n guarante member p n share properti use follow transform propag allgen properti element p also element n follow posit conjunct definit simplifi formula know element p either atom union definit fv allgen properti hold atom let l element p allgenl hold variabl fx g by as sumption whole conjunct allgen properti must exist p ae p k distribut p l follow note distribut law guarante equival origin result formula l offend union p formula construct use e n o preserv simplifi structur formula transform repeat element p allgen properti note may end one element p moreov ffl polyad conjunct p ffl convert singl atom neg conjunct element n n repres subformula form n meet ranf requir need enforc allgenn use b j ye might problem worst case end exponenti expans formula aab find n subset p p may empti follow transform propag allgen properti n s case reduc depth term one subformula appli rule recurs term repres given simplifi formula finit depth proof immedi give us algorithm correctli convert given simplifi allow formula ranf formula b relat algebra normal form sql transform origin formula level logic finish follow section convers ranf sql statement describ transform done two step first logic formula translat relat algebra oper relat algebra term rewritten sql b convers relat algebra convers ranf prepar everyth next stepth convers logic formula relat algebra step make chang structur formula goal convert nest existenti quantifi project disjunct set union conjunct product theta select oe e gener set differ gamma difficult part also convert variabl bind set equal column cartesian product constant rememb weve use polyad conjunct except root formula negat hidden insid conjunct thu special rule convert negat need watch attribut order subformula union done project oper use permut attribut necessari chomicki toman implement tempor integr constraint use activ dbm b relat algebra sql prepar convert relat algebra express previou step actual sql queri convers due limit sql languag straightforward gener believ need carri follow transform standard sql sql handl nest occurr negat union insid select claus need remov subterm assign virtual view relat algebra subterm form oe f lw w l m n finit list relat join close fol formula also handl immedi sql allow empti project or ari relat solut use singl attribut auxiliari relat truet alway contain one tupl true relat join rest claus onli attribut select eg use formula pasttl need access current last state databas inform kept convers atom annot state need evalu in must convert inform proper name tabl view in case old vi optim translat describ far produc set activ rule suffici enforc given set tempor con straint howev auxiliari relat introduc translat pasttl formula fol and eventu activ rule increas amount data store databas section gener optim techniqu allow cut overhead devel ope note optim use auxiliari relat use direct queri databas content irrelev evalu standard first order queri over current state databas hand inform store suffici answer gener tempor queri thu restrict content chang definit affect databas user we think tabl invis user also deal space optim optim run time queri left queri optim underli dbm starburst system conform sql standard handl nest queri directli explor two method limit amount data store auxiliari relat contextbas optim limit number tupl store auxiliari relat analysi context relat use in techniqu similar magic set transform howev context tempor formula need care time less case inform pass sideway must agre flow time cant predict futur advantag method univers applic ie need statist inform databas algebra optim option use techniqu base algebra transform use pasttl formula convert set fol formula ie auxiliari relat introduc case law allow move tempor connect first order one use transform allow move place auxiliari relat introduc pars tree the origin pasttl formula care choic transform significantli reduc amount tupl store relat unfortun choic often requir obtain addit inform databas like averag size relat involv averag size join etc use optim techniqu need keep mind result formula need convert relat algebra and later sql thu need care introduc construct express sql especi formula recursionfre safe reformul a magic set transform main idea transform base follow observ auxiliari relat r ff use finit mani known context all easili determin travers origin formula analysi context allow restrict content auxiliari relat relev tupl onli techniqu gener applic auxiliari relat applic ie limit auxiliari relat introduc tlfol convers note classic applic magic set transform set horn rule work complet differ set magic set use pass partial inform intend outcom bottomup evalu rule case set differ inform futur state tempor databas except constant relat show exploit definit auxiliari relat creat restrict condit similar fashion also use differ mechan comput sideway inform pass strategi sip ie relat defin formula relat strategi base adorn liter atom adorn provid conserv guidelin comput sip result rule evalu rangerestrict take optimist approach comput sip first step comput inform pass sideway form formula without concern properti approxim obtain formula regain properti necessari convert sql method also allow pass arbitrarili complex condit eg condit constrain one vari abl like x y sideway exampl let x formula refer auxiliari relat r ff clearli tupl r ff satisfi condit affect outcom evalu x thu assum r ff use singl place r ff remateri restrict tupl store condit hold note condit timeinvari restrict condit induc context r ff use call magic condit r ff previou exampl context x induc magic condit x condit comput context r ff use in overal magic condit auxiliari relat determin disjunct ie union condit definit magic condit let formula subformula let anoth formula fv call magic condit in comput magic condit occurr r ff follow algorithm use note need determin magic condit leav tree correspond the formula wherea magic inform root formula pass algorithm upper level the magic condit root toplevel constraint true notat let r ff auxiliari relat r ff formula defin r ff denot r ff magic condit singl occurr r ff formula magic condit restrict content r ff ie overal magic condit respect occurr r ff follow algorithm collect inform pass sideway particular leaf given for mula note togeth formula algorithm take anoth argumentth magic condit root formula ie restrict condit alreadi comput root given formula pass toward leav formula algorithm magic let oe fol formula case oe semant equival formula atom r ff r ff x atom skip correct algorithm prove use follow lemma theorem lemma let bp formula atom p leaf let anoth formula abp j abp induct structur b theorem let formula magic condit magic comput magic condit auxiliari relat leav input suffici prove proof induct structur correspond structur r ff comput magic condit context r ff need care algorithm comput magic condit everi leaf input formula howev ffl inform pass sideway agre flow time ie inform pass futur ffl inform relevantth magic condit actual restrict content auxiliari relat ffl transform preserv evalu prop erti necessari transform formula convert relat algebra eventu sql thu often need replac comput magic condit weaker formula satisfi restric tion follow theorem show sound replac theorem let formula subformula let formula set free variabl induct structur prove use assumpt j obtain desir result theorem appli magic condit follow corollari approxim let formula subformula find appropri weaker magic condit follow definit use definit let fol formula let subformula call posit neg scope even odd number negat defin approxim ae true posit fals neg chomicki toman implement tempor integr constraint use activ dbm note safe ie timeindepend approxim use long oe approx approx oe posit neg lemma let fol formula subformula let two formula with set free variabl oe posit neg induct structur again one occurr obvious case oe approx fact togeth corollari use modifi origin magic formula way evalu relev agre flow time ff occurr r ff formula magic condit r ff r ff agre flow time leav p r ff n n state databas respect atom evalu in mean leav must least old occurr r ff unfortun agreement sideway inform pass flow time guarante exampl let x ax n r ff x magic condit comput algorithm r ff x ax n r ff x remateri time content ax time n known a refer futur thu magic condit need safe approxim order account possibl valu ax time n case safe approxim true first step agreement flow time achiev definit flow time let r ff magic condit comput algorithm definit r ff let approxm r ff condit obtain replac leav r ff use tabl figur row occurr r ff column leav r ff note differ first second row tabl refer futur replac approxim also superscript denot time evalu particular leaf modifi match occurr r ff magic condit associ with thu occurr r ff state first row tabl leav label current wirth respect occurr r ff so label chang n leav label n futur similarli sequenti remateri auxiliari relat need modifi leav case ff fi ie r fi remateri r ff thu actual state r fi index n gamma agre flow time respect r ff the proof induct structur follow immedi lemma corollari order remateri auxiliari relat import inform pass new state auxiliari relat updat yet also two auxiliari relat incompar in oe need pick go remateri first ie smaller oe rule system activ databas evalu rule sequenti thu pick linear order remateri auxiliari relat long contain oe solv problem flow time obtain magic condit may still relev note magic condit r ff produc algorithm alway form subformula origin formula lead follow definit definit let r ff magic condit r ff comput algorithm let r ff form subformula conjunct call relev r ff fv fv relev r ff let r set relev s defin relevantm r ff magic condit r ff use lemma corollari approxim subformula origin magic condit final make sure magic condit evalu ie evalu properti situat similar detect evalu properti constraint themselv differ aris nonevalu subformula detect former case formula reject case magic condit alway pick weaker condit evalu note weakest conditiontru alway evalu algorithm let eval function defin algorithm e constructor redefin follow let simplifi formula see definit form a then oex otherwis distinguish follow case depend variabl bound quantifi x free drop quantifi formula evalu replac approxa definit approx proceed case note form a approxim conjunct contain x among free variabl x c g fv a formula evalu perform transform obtain allow formula thi origin definit e x allow simpli add quantifi remov x fv a accord rule build fv fv set similarli case approx relev show evalm r ff magic condit r ff evalu ieee transact knowledg r ff fig depend flow time note input formula agre flow time result formula agre flow time well relev eval transform obvious preserv properti applic three step evalu magic condit agre flow time obtain process repeat occurr auxiliari relat individu magic condit glu togeth consid occurr r ff need distinguish two case order appli algorithm r ff occur leaf parent formula ie toplevel constraint c r fi ff oe fi r ff occur leaf definit note r ff cannot occur leaf r fi fi oe ff definit first case solut easi r ff leaf comput partial magic condit use algorithm ie magic r fi case toplevel constraint second case intric tri comput magic condit r ff clear condit use magic r ff magic condit r ff comput yet moreov simpli use magic condit deriv parent formula onli illustr follow exampl exampl assum constraint xaxbx firstord translat consist toplevel constraint onli auxiliari atom defin we drop subscript bx r assum tri restrict content auxiliari relat ax let p restrict r time remateri p n x time n so look futur follow tabl show exampl transform accept fg r result constraint evalu state n differ r truecorrect result p falseincorrect result hand timeindepend relat transform would valid simpli use constant true previou exampl show stronger condit use gener also set choic true would produc true magic condit occurr r ff definit timeinvari condit let inv formula timedepend leav replac approxim lemma let r ff auxiliari relat let r ff set occurr r ff formula r fi ff oe fi magic r ff comput magic condit r ff r ff timeinvari condit r ff respect occurr parent formula use lemma prove claim induct time the base case trivial r ff fals definit induct step follow directli lemma exampl consid constraint express employe salari less equal case toplevel constraint would auxiliari relat r would defin clearli condit push bodi rs definit magic condit occurr auxiliari relat r ff defin overal magic condit defin follow definit overal magic condit let r ff auxiliari relat defin r ff let set occurr r ff overal magic condit defin ii magic condit everi occurr r ff follow observ ii corollari note evalu overal magic condit guarante distribut leaf formula ie atom timedepend extens chang time current version two refer auxiliari relat gener handl arbitrari number refer chomicki toman implement tempor integr constraint use activ dbm rewrit rule condit fig algebra transform ext denot set tupl satisfi relat r ff disjunct r ff thu variabl free variabl appear formula success convers sql also requir magic transform produc set nonrecurs view definit thi prove use techniqu present magic condit r ff for r ff use auxiliari relat remateri restrict content b algebra transform magic set transform reduc amount data store auxiliari relat transform appli origin pasttl formula convert set first order formula influenc choic auxiliari relat introduc convers simplest case that consid section iv auxiliari relat introduc place subformula origin formula root tempor connect necessari origin formula transform equival formula tempor connect suitabl place exampl let y xp x y auxiliari relat r p xy ariti hand auxiliari relat r induc tempor subformula formula y xp x y ariti moreov clear r x r thu amount store data reduc clearli equival transform summar figur vii futur work gener modular structur propos compil architectur allow easi adapt differ environ modif usual confin singl modul compil queri languag introduc construct constraint specif languag captur bigger class tempor constraint for exampl realtim constraint repeat activ period set etc new optim techniqu far consid spacesav optim techniqu introduc optim speed evalu given constraint note space save techniqu also help toward effici execut deal smaller amount data area sever option write special routin queri optimiza tion transform ranf uniqu optim transform may help reduc size final formula but note cant avoid exponenti explos gener optim process remateri auxiliari relat shown pass easili ad exist system partial order remateri auxiliari relat linear compil linear may yield better magic optim one similarli ranf case studi impact differ linear result code differ rule system despit problem describ section ivc starburst rule system extrem well suit purpos provid setori rule allow specifi rule prioriti addit rule trigger transact defin flow time model featur util implement also shown architectur also util tuplebas rule system essenti simul setori system explicitli addit rule tabl mention constraint specif maintain also explicit transit tabl perform analysi measur perform constraint enforc system quit complex problem clearli cost evalu constraint run set queri end everi transact time overhead maintain auxiliari relat space overhead howev timespac overhead depend directli transact run databas length transact amount chang databas play signific role analysi moreov benchmark method choos refer system result compar with clear refer system bether sever candid databas without constraint enforc constraint enforc respect whole histori databas etc plan develop benchmark method suitabl compar overhead perform tempor constraint enforc system viii conclus seen languag past tempor logic suitabl specifi constraint tempor databas straightforward declar way also shown specif translat activ dbm rule guarante enforc constraint underli databas need addit runtim constraint monitor moreov translat process formula check safe evalu properti formula meet requir reject system also sever optim step perform cut overhead connect constraint check approach expand rang activ databas system applic without requir chang activ dbm itself ix acknowledg grate jennif widom encourag us use starburst suppli system thank also go inderp singh mumick discuss send us phd thesi research partial support nsf grant iri earli version result paper appear ingr trademark ingr corpor r effici check tempor integr constraint use bound histori encod safeti translat relat calculu queri intern organ standard iso implement setori product rule extens starburst deriv product rule constraint mainten tempor logic logic databas deduct approach deriv integr maintain trigger transit graph effici updat materi view maintain view increment tempor trigger activ databas rule tempor logic reactiv concurr system queri optim deduct relat databas magic set strang way implement logic program implement tempor integr constraint use activ dbm ingressql refer manual unix vm oper system tr ctr we cowley dimitri plexousaki tempor integr constraint indeterminaci proceed th intern confer larg data base p septemb avigdor gal opher etzion multiag updat process databas tempor data depend schema version ieee transact knowledg data engin v n p januari leopoldo bertossi marcelo arena cristian ferretti scdbr autom reason specif databas updat journal intellig inform system v n p june jan chomicki david toman michael h bhlen queri atsql databas tempor logic acm transact databas system tod v n p june vittorio brusoni luca consol paolo terenziani barbara pernici qualit quantit tempor constraint relat databas theori architectur applic ieee transact knowledg data engin v n p novemb jan chomicki effici check tempor integr constraint use bound histori encod acm transact databas system tod v n p june trker michael gertz semant integr support sql commerci objectrel databas manag system vldb journal intern journal larg data base v n p decemb